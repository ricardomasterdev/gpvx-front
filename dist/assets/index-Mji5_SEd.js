function vT(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(n,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function yT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var y0={exports:{}},xu={};var zj;function jT(){if(zj)return xu;zj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(n,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var f in o)f!=="key"&&(c[f]=o[f])}else c=o;return o=c.ref,{$$typeof:e,type:n,key:u,ref:o!==void 0?o:null,props:c}}return xu.Fragment=t,xu.jsx=s,xu.jsxs=s,xu}var $j;function wT(){return $j||($j=1,y0.exports=jT()),y0.exports}var r=wT(),j0={exports:{}},et={};var Pj;function ST(){if(Pj)return et;Pj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function j(_){return _===null||typeof _!="object"?null:(_=y&&_[y]||_["@@iterator"],typeof _=="function"?_:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function T(_,L,G){this.props=_,this.context=L,this.refs=N,this.updater=G||w}T.prototype.isReactComponent={},T.prototype.setState=function(_,L){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,L,"setState")},T.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function E(){}E.prototype=T.prototype;function O(_,L,G){this.props=_,this.context=L,this.refs=N,this.updater=G||w}var k=O.prototype=new E;k.constructor=O,S(k,T.prototype),k.isPureReactComponent=!0;var R=Array.isArray;function P(){}var z={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function te(_,L,G){var ne=G.ref;return{$$typeof:e,type:_,key:L,ref:ne!==void 0?ne:null,props:G}}function H(_,L){return te(_.type,L,_.props)}function Y(_){return typeof _=="object"&&_!==null&&_.$$typeof===e}function Z(_){var L={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(G){return L[G]})}var ee=/\/+/g;function q(_,L){return typeof _=="object"&&_!==null&&_.key!=null?Z(""+_.key):L.toString(36)}function U(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(P,P):(_.status="pending",_.then(function(L){_.status==="pending"&&(_.status="fulfilled",_.value=L)},function(L){_.status==="pending"&&(_.status="rejected",_.reason=L)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function A(_,L,G,ne,D){var Q=typeof _;(Q==="undefined"||Q==="boolean")&&(_=null);var W=!1;if(_===null)W=!0;else switch(Q){case"bigint":case"string":case"number":W=!0;break;case"object":switch(_.$$typeof){case e:case t:W=!0;break;case x:return W=_._init,A(W(_._payload),L,G,ne,D)}}if(W)return D=D(_),W=ne===""?"."+q(_,0):ne,R(D)?(G="",W!=null&&(G=W.replace(ee,"$&/")+"/"),A(D,L,G,"",function(ve){return ve})):D!=null&&(Y(D)&&(D=H(D,G+(D.key==null||_&&_.key===D.key?"":(""+D.key).replace(ee,"$&/")+"/")+W)),L.push(D)),1;W=0;var we=ne===""?".":ne+":";if(R(_))for(var ue=0;ue<_.length;ue++)ne=_[ue],Q=we+q(ne,ue),W+=A(ne,L,G,Q,D);else if(ue=j(_),typeof ue=="function")for(_=ue.call(_),ue=0;!(ne=_.next()).done;)ne=ne.value,Q=we+q(ne,ue++),W+=A(ne,L,G,Q,D);else if(Q==="object"){if(typeof _.then=="function")return A(U(_),L,G,ne,D);throw L=String(_),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return W}function I(_,L,G){if(_==null)return _;var ne=[],D=0;return A(_,ne,"","",function(Q){return L.call(G,Q,D++)}),ne}function $(_){if(_._status===-1){var L=_._result;L=L(),L.then(function(G){(_._status===0||_._status===-1)&&(_._status=1,_._result=G)},function(G){(_._status===0||_._status===-1)&&(_._status=2,_._result=G)}),_._status===-1&&(_._status=0,_._result=L)}if(_._status===1)return _._result.default;throw _._result}var K=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},V={map:I,forEach:function(_,L,G){I(_,function(){L.apply(this,arguments)},G)},count:function(_){var L=0;return I(_,function(){L++}),L},toArray:function(_){return I(_,function(L){return L})||[]},only:function(_){if(!Y(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return et.Activity=v,et.Children=V,et.Component=T,et.Fragment=s,et.Profiler=o,et.PureComponent=O,et.StrictMode=n,et.Suspense=m,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,et.__COMPILER_RUNTIME={__proto__:null,c:function(_){return z.H.useMemoCache(_)}},et.cache=function(_){return function(){return _.apply(null,arguments)}},et.cacheSignal=function(){return null},et.cloneElement=function(_,L,G){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var ne=S({},_.props),D=_.key;if(L!=null)for(Q in L.key!==void 0&&(D=""+L.key),L)!F.call(L,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&L.ref===void 0||(ne[Q]=L[Q]);var Q=arguments.length-2;if(Q===1)ne.children=G;else if(1<Q){for(var W=Array(Q),we=0;we<Q;we++)W[we]=arguments[we+2];ne.children=W}return te(_.type,D,ne)},et.createContext=function(_){return _={$$typeof:u,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:c,_context:_},_},et.createElement=function(_,L,G){var ne,D={},Q=null;if(L!=null)for(ne in L.key!==void 0&&(Q=""+L.key),L)F.call(L,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(D[ne]=L[ne]);var W=arguments.length-2;if(W===1)D.children=G;else if(1<W){for(var we=Array(W),ue=0;ue<W;ue++)we[ue]=arguments[ue+2];D.children=we}if(_&&_.defaultProps)for(ne in W=_.defaultProps,W)D[ne]===void 0&&(D[ne]=W[ne]);return te(_,Q,D)},et.createRef=function(){return{current:null}},et.forwardRef=function(_){return{$$typeof:f,render:_}},et.isValidElement=Y,et.lazy=function(_){return{$$typeof:x,_payload:{_status:-1,_result:_},_init:$}},et.memo=function(_,L){return{$$typeof:h,type:_,compare:L===void 0?null:L}},et.startTransition=function(_){var L=z.T,G={};z.T=G;try{var ne=_(),D=z.S;D!==null&&D(G,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(P,K)}catch(Q){K(Q)}finally{L!==null&&G.types!==null&&(L.types=G.types),z.T=L}},et.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},et.use=function(_){return z.H.use(_)},et.useActionState=function(_,L,G){return z.H.useActionState(_,L,G)},et.useCallback=function(_,L){return z.H.useCallback(_,L)},et.useContext=function(_){return z.H.useContext(_)},et.useDebugValue=function(){},et.useDeferredValue=function(_,L){return z.H.useDeferredValue(_,L)},et.useEffect=function(_,L){return z.H.useEffect(_,L)},et.useEffectEvent=function(_){return z.H.useEffectEvent(_)},et.useId=function(){return z.H.useId()},et.useImperativeHandle=function(_,L,G){return z.H.useImperativeHandle(_,L,G)},et.useInsertionEffect=function(_,L){return z.H.useInsertionEffect(_,L)},et.useLayoutEffect=function(_,L){return z.H.useLayoutEffect(_,L)},et.useMemo=function(_,L){return z.H.useMemo(_,L)},et.useOptimistic=function(_,L){return z.H.useOptimistic(_,L)},et.useReducer=function(_,L,G){return z.H.useReducer(_,L,G)},et.useRef=function(_){return z.H.useRef(_)},et.useState=function(_){return z.H.useState(_)},et.useSyncExternalStore=function(_,L,G){return z.H.useSyncExternalStore(_,L,G)},et.useTransition=function(){return z.H.useTransition()},et.version="19.2.3",et}var Ij;function lh(){return Ij||(Ij=1,j0.exports=ST()),j0.exports}var g=lh();const oe=yT(g),km=vT({__proto__:null,default:oe},[g]);var w0={exports:{}},bu={},S0={exports:{}},N0={};var Fj;function NT(){return Fj||(Fj=1,(function(e){function t(A,I){var $=A.length;A.push(I);e:for(;0<$;){var K=$-1>>>1,V=A[K];if(0<o(V,I))A[K]=I,A[$]=V,$=K;else break e}}function s(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var I=A[0],$=A.pop();if($!==I){A[0]=$;e:for(var K=0,V=A.length,_=V>>>1;K<_;){var L=2*(K+1)-1,G=A[L],ne=L+1,D=A[ne];if(0>o(G,$))ne<V&&0>o(D,G)?(A[K]=D,A[ne]=$,K=ne):(A[K]=G,A[L]=$,K=L);else if(ne<V&&0>o(D,$))A[K]=D,A[ne]=$,K=ne;else break e}}return I}function o(A,I){var $=A.sortIndex-I.sortIndex;return $!==0?$:A.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var m=[],h=[],x=1,v=null,y=3,j=!1,w=!1,S=!1,N=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function k(A){for(var I=s(h);I!==null;){if(I.callback===null)n(h);else if(I.startTime<=A)n(h),I.sortIndex=I.expirationTime,t(m,I);else break;I=s(h)}}function R(A){if(S=!1,k(A),!w)if(s(m)!==null)w=!0,P||(P=!0,Z());else{var I=s(h);I!==null&&U(R,I.startTime-A)}}var P=!1,z=-1,F=5,te=-1;function H(){return N?!0:!(e.unstable_now()-te<F)}function Y(){if(N=!1,P){var A=e.unstable_now();te=A;var I=!0;try{e:{w=!1,S&&(S=!1,E(z),z=-1),j=!0;var $=y;try{t:{for(k(A),v=s(m);v!==null&&!(v.expirationTime>A&&H());){var K=v.callback;if(typeof K=="function"){v.callback=null,y=v.priorityLevel;var V=K(v.expirationTime<=A);if(A=e.unstable_now(),typeof V=="function"){v.callback=V,k(A),I=!0;break t}v===s(m)&&n(m),k(A)}else n(m);v=s(m)}if(v!==null)I=!0;else{var _=s(h);_!==null&&U(R,_.startTime-A),I=!1}}break e}finally{v=null,y=$,j=!1}I=void 0}}finally{I?Z():P=!1}}}var Z;if(typeof O=="function")Z=function(){O(Y)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,q=ee.port2;ee.port1.onmessage=Y,Z=function(){q.postMessage(null)}}else Z=function(){T(Y,0)};function U(A,I){z=T(function(){A(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(A){switch(y){case 1:case 2:case 3:var I=3;break;default:I=y}var $=y;y=I;try{return A()}finally{y=$}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(A,I){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var $=y;y=A;try{return I()}finally{y=$}},e.unstable_scheduleCallback=function(A,I,$){var K=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?K+$:K):$=K,A){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=$+V,A={id:x++,callback:I,priorityLevel:A,startTime:$,expirationTime:V,sortIndex:-1},$>K?(A.sortIndex=$,t(h,A),s(m)===null&&A===s(h)&&(S?(E(z),z=-1):S=!0,U(R,$-K))):(A.sortIndex=V,t(m,A),w||j||(w=!0,P||(P=!0,Z()))),A},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(A){var I=y;return function(){var $=y;y=I;try{return A.apply(this,arguments)}finally{y=$}}}})(N0)),N0}var Lj;function CT(){return Lj||(Lj=1,S0.exports=NT()),S0.exports}var C0={exports:{}},Xs={};var qj;function ET(){if(qj)return Xs;qj=1;var e=lh();function t(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var n={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,h,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:h,implementation:x}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Xs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Xs.createPortal=function(m,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return c(m,h,null,x)},Xs.flushSync=function(m){var h=u.T,x=n.p;try{if(u.T=null,n.p=2,m)return m()}finally{u.T=h,n.p=x,n.d.f()}},Xs.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(m,h))},Xs.prefetchDNS=function(m){typeof m=="string"&&n.d.D(m)},Xs.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var x=h.as,v=f(x,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,j=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;x==="style"?n.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:j}):x==="script"&&n.d.X(m,{crossOrigin:v,integrity:y,fetchPriority:j,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Xs.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var x=f(h.as,h.crossOrigin);n.d.M(m,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(m)},Xs.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var x=h.as,v=f(x,h.crossOrigin);n.d.L(m,x,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Xs.preloadModule=function(m,h){if(typeof m=="string")if(h){var x=f(h.as,h.crossOrigin);n.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(m)},Xs.requestFormReset=function(m){n.d.r(m)},Xs.unstable_batchedUpdates=function(m,h){return m(h)},Xs.useFormState=function(m,h,x){return u.H.useFormState(m,h,x)},Xs.useFormStatus=function(){return u.H.useHostTransitionStatus()},Xs.version="19.2.3",Xs}var Uj;function ZN(){if(Uj)return C0.exports;Uj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),C0.exports=ET(),C0.exports}var Bj;function _T(){if(Bj)return bu;Bj=1;var e=CT(),t=lh(),s=ZN();function n(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function c(a){var i=a,l=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(l=i.return),a=i.return;while(a)}return i.tag===3?l:null}function u(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function f(a){if(a.tag===31){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function m(a){if(c(a)!==a)throw Error(n(188))}function h(a){var i=a.alternate;if(!i){if(i=c(a),i===null)throw Error(n(188));return i!==a?null:a}for(var l=a,d=i;;){var p=l.return;if(p===null)break;var b=p.alternate;if(b===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===l)return m(p),a;if(b===d)return m(p),i;b=b.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=b;else{for(var C=!1,M=p.child;M;){if(M===l){C=!0,l=p,d=b;break}if(M===d){C=!0,d=p,l=b;break}M=M.sibling}if(!C){for(M=b.child;M;){if(M===l){C=!0,l=b,d=p;break}if(M===d){C=!0,d=b,l=p;break}M=M.sibling}if(!C)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?a:i}function x(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=x(a),i!==null)return i;a=a.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),O=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function Z(a){return a===null||typeof a!="object"?null:(a=Y&&a[Y]||a["@@iterator"],typeof a=="function"?a:null)}var ee=Symbol.for("react.client.reference");function q(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ee?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case T:return"Profiler";case N:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList";case te:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case O:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case k:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return i=a.displayName||null,i!==null?i:q(a.type)||"Memo";case F:i=a._payload,a=a._init;try{return q(a(i))}catch{}}return null}var U=Array.isArray,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},K=[],V=-1;function _(a){return{current:a}}function L(a){0>V||(a.current=K[V],K[V]=null,V--)}function G(a,i){V++,K[V]=a.current,a.current=i}var ne=_(null),D=_(null),Q=_(null),W=_(null);function we(a,i){switch(G(Q,i),G(D,a),G(ne,null),i.nodeType){case 9:case 11:a=(a=i.documentElement)&&(a=a.namespaceURI)?aj(a):0;break;default:if(a=i.tagName,i=i.namespaceURI)i=aj(i),a=rj(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}L(ne),G(ne,a)}function ue(){L(ne),L(D),L(Q)}function ve(a){a.memoizedState!==null&&G(W,a);var i=ne.current,l=rj(i,a.type);i!==l&&(G(D,a),G(ne,l))}function $e(a){D.current===a&&(L(ne),L(D)),W.current===a&&(L(W),mu._currentValue=$)}var St,vt;function Ut(a){if(St===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);St=i&&i[1]||"",vt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+St+a+vt}var ps=!1;function ft(a,i){if(!a||ps)return"";ps=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(me){var de=me}Reflect.construct(a,[],ye)}else{try{ye.call()}catch(me){de=me}a.call(ye.prototype)}}else{try{throw Error()}catch(me){de=me}(ye=a())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),C=b[0],M=b[1];if(C&&M){var X=C.split(`
`),ce=M.split(`
`);for(p=d=0;d<X.length&&!X[d].includes("DetermineComponentFrameRoot");)d++;for(;p<ce.length&&!ce[p].includes("DetermineComponentFrameRoot");)p++;if(d===X.length||p===ce.length)for(d=X.length-1,p=ce.length-1;1<=d&&0<=p&&X[d]!==ce[p];)p--;for(;1<=d&&0<=p;d--,p--)if(X[d]!==ce[p]){if(d!==1||p!==1)do if(d--,p--,0>p||X[d]!==ce[p]){var ge=`
`+X[d].replace(" at new "," at ");return a.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",a.displayName)),ge}while(1<=d&&0<=p);break}}}finally{ps=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?Ut(l):""}function os(a,i){switch(a.tag){case 26:case 27:case 5:return Ut(a.type);case 16:return Ut("Lazy");case 13:return a.child!==i&&i!==null?Ut("Suspense Fallback"):Ut("Suspense");case 19:return Ut("SuspenseList");case 0:case 15:return ft(a.type,!1);case 11:return ft(a.type.render,!1);case 1:return ft(a.type,!0);case 31:return Ut("Activity");default:return""}}function Ct(a){try{var i="",l=null;do i+=os(a,l),l=a,a=a.return;while(a);return i}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var gs=Object.prototype.hasOwnProperty,Vs=e.unstable_scheduleCallback,J=e.unstable_cancelCallback,ie=e.unstable_shouldYield,pe=e.unstable_requestPaint,_e=e.unstable_now,Te=e.unstable_getCurrentPriorityLevel,Ce=e.unstable_ImmediatePriority,De=e.unstable_UserBlockingPriority,We=e.unstable_NormalPriority,Ee=e.unstable_LowPriority,qe=e.unstable_IdlePriority,re=e.log,Me=e.unstable_setDisableYieldValue,yt=null,Se=null;function Xe(a){if(typeof re=="function"&&Me(a),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(yt,a)}catch{}}var _t=Math.clz32?Math.clz32:tt,Ps=Math.log,Hs=Math.LN2;function tt(a){return a>>>=0,a===0?32:31-(Ps(a)/Hs|0)|0}var Go=256,Qo=262144,ii=4194304;function xr(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Zo(a,i,l){var d=a.pendingLanes;if(d===0)return 0;var p=0,b=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var M=d&134217727;return M!==0?(d=M&~b,d!==0?p=xr(d):(C&=M,C!==0?p=xr(C):l||(l=M&~a,l!==0&&(p=xr(l))))):(M=d&~b,M!==0?p=xr(M):C!==0?p=xr(C):l||(l=d&~a,l!==0&&(p=xr(l)))),p===0?0:i!==0&&i!==p&&(i&b)===0&&(b=p&-p,l=i&-i,b>=l||b===32&&(l&4194048)!==0)?i:p}function br(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function ja(a,i){switch(a){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vr(){var a=ii;return ii<<=1,(ii&62914560)===0&&(ii=4194304),a}function jc(a){for(var i=[],l=0;31>l;l++)i.push(a);return i}function oo(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function wc(a,i,l,d,p,b){var C=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var M=a.entanglements,X=a.expirationTimes,ce=a.hiddenUpdates;for(l=C&~l;0<l;){var ge=31-_t(l),ye=1<<ge;M[ge]=0,X[ge]=-1;var de=ce[ge];if(de!==null)for(ce[ge]=null,ge=0;ge<de.length;ge++){var me=de[ge];me!==null&&(me.lane&=-536870913)}l&=~ye}d!==0&&Ko(a,d,0),b!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=b&~(C&~i))}function Ko(a,i,l){a.pendingLanes|=i,a.suspendedLanes&=~i;var d=31-_t(i);a.entangledLanes|=i,a.entanglements[d]=a.entanglements[d]|1073741824|l&261930}function Td(a,i){var l=a.entangledLanes|=i;for(a=a.entanglements;l;){var d=31-_t(l),p=1<<d;p&i|a[d]&i&&(a[d]|=i),l&=~p}}function Od(a,i){var l=i&-i;return l=(l&42)!==0?1:Sc(l),(l&(a.suspendedLanes|i))!==0?0:l}function Sc(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Nc(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function kd(){var a=I.p;return a!==0?a:(a=window.event,a===void 0?32:Tj(a.type))}function Ad(a,i){var l=I.p;try{return I.p=a,i()}finally{I.p=l}}var na=Math.random().toString(36).slice(2),_s="__reactFiber$"+na,Is="__reactProps$"+na,yr="__reactContainer$"+na,Cc="__reactEvents$"+na,fp="__reactListeners$"+na,mp="__reactHandles$"+na,Yo="__reactResources$"+na,lo="__reactMarker$"+na;function Wo(a){delete a[_s],delete a[Is],delete a[Cc],delete a[fp],delete a[mp]}function jr(a){var i=a[_s];if(i)return i;for(var l=a.parentNode;l;){if(i=l[yr]||l[_s]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(a=fj(a);a!==null;){if(l=a[_s])return l;a=fj(a)}return i}a=l,l=a.parentNode}return null}function wr(a){if(a=a[_s]||a[yr]){var i=a.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return a}return null}function Sr(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(n(33))}function Nr(a){var i=a[Yo];return i||(i=a[Yo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ls(a){a[lo]=!0}var Md=new Set,Ec={};function La(a,i){aa(a,i),aa(a+"Capture",i)}function aa(a,i){for(Ec[a]=i,a=0;a<i.length;a++)Md.add(i[a])}var Xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rd={},qa={};function hp(a){return gs.call(qa,a)?!0:gs.call(Rd,a)?!1:Xo.test(a)?qa[a]=!0:(Rd[a]=!0,!1)}function Jo(a,i,l){if(hp(i))if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+l)}}function el(a,i,l){if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+l)}}function wa(a,i,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(i,l,""+d)}}function vn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Dd(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function pp(a,i,l){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,i);if(!a.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var p=d.get,b=d.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return p.call(this)},set:function(C){l=""+C,b.call(this,C)}}),Object.defineProperty(a,i,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function _c(a){if(!a._valueTracker){var i=Dd(a)?"checked":"value";a._valueTracker=pp(a,i,""+a[i])}}function zd(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return a&&(d=Dd(a)?a.checked?"true":"false":a.value),a=d,a!==l?(i.setValue(a),!0):!1}function oi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var gp=/[\n"\\]/g;function yn(a){return a.replace(gp,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tc(a,i,l,d,p,b,C,M){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),i!=null?C==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+vn(i)):a.value!==""+vn(i)&&(a.value=""+vn(i)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),i!=null?Oc(a,C,vn(i)):l!=null?Oc(a,C,vn(l)):d!=null&&a.removeAttribute("value"),p==null&&b!=null&&(a.defaultChecked=!!b),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+vn(M):a.removeAttribute("name")}function $d(a,i,l,d,p,b,C,M){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),i!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||i!=null)){_c(a);return}l=l!=null?""+vn(l):"",i=i!=null?""+vn(i):l,M||i===a.value||(a.value=i),a.defaultValue=i}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=M?a.checked:!!d,a.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),_c(a)}function Oc(a,i,l){i==="number"&&oi(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function li(a,i,l,d){if(a=a.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<a.length;l++)p=i.hasOwnProperty("$"+a[l].value),a[l].selected!==p&&(a[l].selected=p),p&&d&&(a[l].defaultSelected=!0)}else{for(l=""+vn(l),i=null,p=0;p<a.length;p++){if(a[p].value===l){a[p].selected=!0,d&&(a[p].defaultSelected=!0);return}i!==null||a[p].disabled||(i=a[p])}i!==null&&(i.selected=!0)}}function B(a,i,l){if(i!=null&&(i=""+vn(i),i!==a.value&&(a.value=i),l==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=l!=null?""+vn(l):""}function Ue(a,i,l,d){if(i==null){if(d!=null){if(l!=null)throw Error(n(92));if(U(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),i=l}l=vn(i),a.defaultValue=l,d=a.textContent,d===l&&d!==""&&d!==null&&(a.value=d),_c(a)}function Yt(a,i){if(i){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=i;return}}a.textContent=i}var Fs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cn(a,i,l){var d=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":d?a.setProperty(i,l):typeof l!="number"||l===0||Fs.has(i)?i==="float"?a.cssFloat=l:a[i]=(""+l).trim():a[i]=l+"px"}function Cr(a,i,l){if(i!=null&&typeof i!="object")throw Error(n(62));if(a=a.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var p in i)d=i[p],i.hasOwnProperty(p)&&l[p]!==d&&cn(a,p,d)}else for(var b in i)i.hasOwnProperty(b)&&cn(a,b,i[b])}function ra(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sl(a){return Pd.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Er(){}var xp=null;function bp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var nl=null,al=null;function nv(a){var i=wr(a);if(i&&(a=i.stateNode)){var l=a[Is]||null;e:switch(a=i.stateNode,i.type){case"input":if(Tc(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+yn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==a&&d.form===a.form){var p=d[Is]||null;if(!p)throw Error(n(90));Tc(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)d=l[i],d.form===a.form&&zd(d)}break e;case"textarea":B(a,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&li(a,!!l.multiple,i,!1)}}}var vp=!1;function av(a,i,l){if(vp)return a(i,l);vp=!0;try{var d=a(i);return d}finally{if(vp=!1,(nl!==null||al!==null)&&(Cf(),nl&&(i=nl,a=al,al=nl=null,nv(i),a)))for(i=0;i<a.length;i++)nv(a[i])}}function kc(a,i){var l=a.stateNode;if(l===null)return null;var d=l[Is]||null;if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yp=!1;if(_r)try{var Ac={};Object.defineProperty(Ac,"passive",{get:function(){yp=!0}}),window.addEventListener("test",Ac,Ac),window.removeEventListener("test",Ac,Ac)}catch{yp=!1}var ci=null,jp=null,Id=null;function rv(){if(Id)return Id;var a,i=jp,l=i.length,d,p="value"in ci?ci.value:ci.textContent,b=p.length;for(a=0;a<l&&i[a]===p[a];a++);var C=l-a;for(d=1;d<=C&&i[l-d]===p[b-d];d++);return Id=p.slice(a,1<d?1-d:void 0)}function Fd(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function Ld(){return!0}function iv(){return!1}function jn(a){function i(l,d,p,b,C){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(l=a[M],this[M]=l?l(b):b[M]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ld:iv,this.isPropagationStopped=iv,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ld)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ld)},persist:function(){},isPersistent:Ld}),i}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qd=jn(co),Mc=v({},co,{view:0,detail:0}),x4=jn(Mc),wp,Sp,Rc,Ud=v({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Rc&&(Rc&&a.type==="mousemove"?(wp=a.screenX-Rc.screenX,Sp=a.screenY-Rc.screenY):Sp=wp=0,Rc=a),wp)},movementY:function(a){return"movementY"in a?a.movementY:Sp}}),ov=jn(Ud),b4=v({},Ud,{dataTransfer:0}),v4=jn(b4),y4=v({},Mc,{relatedTarget:0}),Np=jn(y4),j4=v({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),w4=jn(j4),S4=v({},co,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),N4=jn(S4),C4=v({},co,{data:0}),lv=jn(C4),E4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O4(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=T4[a])?!!i[a]:!1}function Cp(){return O4}var k4=v({},Mc,{key:function(a){if(a.key){var i=E4[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=Fd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_4[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cp,charCode:function(a){return a.type==="keypress"?Fd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Fd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),A4=jn(k4),M4=v({},Ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cv=jn(M4),R4=v({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cp}),D4=jn(R4),z4=v({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),$4=jn(z4),P4=v({},Ud,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),I4=jn(P4),F4=v({},co,{newState:0,oldState:0}),L4=jn(F4),q4=[9,13,27,32],Ep=_r&&"CompositionEvent"in window,Dc=null;_r&&"documentMode"in document&&(Dc=document.documentMode);var U4=_r&&"TextEvent"in window&&!Dc,uv=_r&&(!Ep||Dc&&8<Dc&&11>=Dc),dv=" ",fv=!1;function mv(a,i){switch(a){case"keyup":return q4.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hv(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var rl=!1;function B4(a,i){switch(a){case"compositionend":return hv(i);case"keypress":return i.which!==32?null:(fv=!0,dv);case"textInput":return a=i.data,a===dv&&fv?null:a;default:return null}}function V4(a,i){if(rl)return a==="compositionend"||!Ep&&mv(a,i)?(a=rv(),Id=jp=ci=null,rl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return uv&&i.locale!=="ko"?null:i.data;default:return null}}var H4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pv(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!H4[a.type]:i==="textarea"}function gv(a,i,l,d){nl?al?al.push(d):al=[d]:nl=d,i=Mf(i,"onChange"),0<i.length&&(l=new qd("onChange","change",null,l,d),a.push({event:l,listeners:i}))}var zc=null,$c=null;function G4(a){X1(a,0)}function Bd(a){var i=Sr(a);if(zd(i))return a}function xv(a,i){if(a==="change")return i}var bv=!1;if(_r){var _p;if(_r){var Tp="oninput"in document;if(!Tp){var vv=document.createElement("div");vv.setAttribute("oninput","return;"),Tp=typeof vv.oninput=="function"}_p=Tp}else _p=!1;bv=_p&&(!document.documentMode||9<document.documentMode)}function yv(){zc&&(zc.detachEvent("onpropertychange",jv),$c=zc=null)}function jv(a){if(a.propertyName==="value"&&Bd($c)){var i=[];gv(i,$c,a,bp(a)),av(G4,i)}}function Q4(a,i,l){a==="focusin"?(yv(),zc=i,$c=l,zc.attachEvent("onpropertychange",jv)):a==="focusout"&&yv()}function Z4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Bd($c)}function K4(a,i){if(a==="click")return Bd(i)}function Y4(a,i){if(a==="input"||a==="change")return Bd(i)}function W4(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var Pn=typeof Object.is=="function"?Object.is:W4;function Pc(a,i){if(Pn(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var l=Object.keys(a),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!gs.call(i,p)||!Pn(a[p],i[p]))return!1}return!0}function wv(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Sv(a,i){var l=wv(a);a=0;for(var d;l;){if(l.nodeType===3){if(d=a+l.textContent.length,a<=i&&d>=i)return{node:l,offset:i-a};a=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wv(l)}}function Nv(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?Nv(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function Cv(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=oi(a.document);i instanceof a.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)a=i.contentWindow;else break;i=oi(a.document)}return i}function Op(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}var X4=_r&&"documentMode"in document&&11>=document.documentMode,il=null,kp=null,Ic=null,Ap=!1;function Ev(a,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ap||il==null||il!==oi(d)||(d=il,"selectionStart"in d&&Op(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ic&&Pc(Ic,d)||(Ic=d,d=Mf(kp,"onSelect"),0<d.length&&(i=new qd("onSelect","select",null,i,l),a.push({event:i,listeners:d}),i.target=il)))}function uo(a,i){var l={};return l[a.toLowerCase()]=i.toLowerCase(),l["Webkit"+a]="webkit"+i,l["Moz"+a]="moz"+i,l}var ol={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionrun:uo("Transition","TransitionRun"),transitionstart:uo("Transition","TransitionStart"),transitioncancel:uo("Transition","TransitionCancel"),transitionend:uo("Transition","TransitionEnd")},Mp={},_v={};_r&&(_v=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function fo(a){if(Mp[a])return Mp[a];if(!ol[a])return a;var i=ol[a],l;for(l in i)if(i.hasOwnProperty(l)&&l in _v)return Mp[a]=i[l];return a}var Tv=fo("animationend"),Ov=fo("animationiteration"),kv=fo("animationstart"),J4=fo("transitionrun"),e5=fo("transitionstart"),t5=fo("transitioncancel"),Av=fo("transitionend"),Mv=new Map,Rp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rp.push("scrollEnd");function Sa(a,i){Mv.set(a,i),La(i,[a])}var Vd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ia=[],ll=0,Dp=0;function Hd(){for(var a=ll,i=Dp=ll=0;i<a;){var l=ia[i];ia[i++]=null;var d=ia[i];ia[i++]=null;var p=ia[i];ia[i++]=null;var b=ia[i];if(ia[i++]=null,d!==null&&p!==null){var C=d.pending;C===null?p.next=p:(p.next=C.next,C.next=p),d.pending=p}b!==0&&Rv(l,p,b)}}function Gd(a,i,l,d){ia[ll++]=a,ia[ll++]=i,ia[ll++]=l,ia[ll++]=d,Dp|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function zp(a,i,l,d){return Gd(a,i,l,d),Qd(a)}function mo(a,i){return Gd(a,null,null,i),Qd(a)}function Rv(a,i,l){a.lanes|=l;var d=a.alternate;d!==null&&(d.lanes|=l);for(var p=!1,b=a.return;b!==null;)b.childLanes|=l,d=b.alternate,d!==null&&(d.childLanes|=l),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(p=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,p&&i!==null&&(p=31-_t(l),a=b.hiddenUpdates,d=a[p],d===null?a[p]=[i]:d.push(i),i.lane=l|536870912),b):null}function Qd(a){if(50<iu)throw iu=0,Vg=null,Error(n(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var cl={};function s5(a,i,l,d){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(a,i,l,d){return new s5(a,i,l,d)}function $p(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Tr(a,i){var l=a.alternate;return l===null?(l=In(a.tag,i,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=i,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,i=a.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function Dv(a,i){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,i=l.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function Zd(a,i,l,d,p,b){var C=0;if(d=a,typeof a=="function")$p(a)&&(C=1);else if(typeof a=="string")C=oT(a,l,ne.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case te:return a=In(31,l,i,p),a.elementType=te,a.lanes=b,a;case S:return ho(l.children,p,b,i);case N:C=8,p|=24;break;case T:return a=In(12,l,i,p|2),a.elementType=T,a.lanes=b,a;case R:return a=In(13,l,i,p),a.elementType=R,a.lanes=b,a;case P:return a=In(19,l,i,p),a.elementType=P,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:C=10;break e;case E:C=9;break e;case k:C=11;break e;case z:C=14;break e;case F:C=16,d=null;break e}C=29,l=Error(n(130,a===null?"null":typeof a,"")),d=null}return i=In(C,l,i,p),i.elementType=a,i.type=d,i.lanes=b,i}function ho(a,i,l,d){return a=In(7,a,d,i),a.lanes=l,a}function Pp(a,i,l){return a=In(6,a,null,i),a.lanes=l,a}function zv(a){var i=In(18,null,null,0);return i.stateNode=a,i}function Ip(a,i,l){return i=In(4,a.children!==null?a.children:[],a.key,i),i.lanes=l,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}var $v=new WeakMap;function oa(a,i){if(typeof a=="object"&&a!==null){var l=$v.get(a);return l!==void 0?l:(i={value:a,source:i,stack:Ct(i)},$v.set(a,i),i)}return{value:a,source:i,stack:Ct(i)}}var ul=[],dl=0,Kd=null,Fc=0,la=[],ca=0,ui=null,Ua=1,Ba="";function Or(a,i){ul[dl++]=Fc,ul[dl++]=Kd,Kd=a,Fc=i}function Pv(a,i,l){la[ca++]=Ua,la[ca++]=Ba,la[ca++]=ui,ui=a;var d=Ua;a=Ba;var p=32-_t(d)-1;d&=~(1<<p),l+=1;var b=32-_t(i)+p;if(30<b){var C=p-p%5;b=(d&(1<<C)-1).toString(32),d>>=C,p-=C,Ua=1<<32-_t(i)+p|l<<p|d,Ba=b+a}else Ua=1<<b|l<<p|d,Ba=a}function Fp(a){a.return!==null&&(Or(a,1),Pv(a,1,0))}function Lp(a){for(;a===Kd;)Kd=ul[--dl],ul[dl]=null,Fc=ul[--dl],ul[dl]=null;for(;a===ui;)ui=la[--ca],la[ca]=null,Ba=la[--ca],la[ca]=null,Ua=la[--ca],la[ca]=null}function Iv(a,i){la[ca++]=Ua,la[ca++]=Ba,la[ca++]=ui,Ua=i.id,Ba=i.overflow,ui=a}var Gs=null,Qt=null,gt=!1,di=null,ua=!1,qp=Error(n(519));function fi(a){var i=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lc(oa(i,a)),qp}function Fv(a){var i=a.stateNode,l=a.type,d=a.memoizedProps;switch(i[_s]=a,i[Is]=d,l){case"dialog":ut("cancel",i),ut("close",i);break;case"iframe":case"object":case"embed":ut("load",i);break;case"video":case"audio":for(l=0;l<lu.length;l++)ut(lu[l],i);break;case"source":ut("error",i);break;case"img":case"image":case"link":ut("error",i),ut("load",i);break;case"details":ut("toggle",i);break;case"input":ut("invalid",i),$d(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":ut("invalid",i);break;case"textarea":ut("invalid",i),Ue(i,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||d.suppressHydrationWarning===!0||sj(i.textContent,l)?(d.popover!=null&&(ut("beforetoggle",i),ut("toggle",i)),d.onScroll!=null&&ut("scroll",i),d.onScrollEnd!=null&&ut("scrollend",i),d.onClick!=null&&(i.onclick=Er),i=!0):i=!1,i||fi(a,!0)}function Lv(a){for(Gs=a.return;Gs;)switch(Gs.tag){case 5:case 31:case 13:ua=!1;return;case 27:case 3:ua=!0;return;default:Gs=Gs.return}}function fl(a){if(a!==Gs)return!1;if(!gt)return Lv(a),gt=!0,!1;var i=a.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||r0(a.type,a.memoizedProps)),l=!l),l&&Qt&&fi(a),Lv(a),i===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Qt=dj(a)}else if(i===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Qt=dj(a)}else i===27?(i=Qt,Ei(a.type)?(a=u0,u0=null,Qt=a):Qt=i):Qt=Gs?fa(a.stateNode.nextSibling):null;return!0}function po(){Qt=Gs=null,gt=!1}function Up(){var a=di;return a!==null&&(Cn===null?Cn=a:Cn.push.apply(Cn,a),di=null),a}function Lc(a){di===null?di=[a]:di.push(a)}var Bp=_(null),go=null,kr=null;function mi(a,i,l){G(Bp,i._currentValue),i._currentValue=l}function Ar(a){a._currentValue=Bp.current,L(Bp)}function Vp(a,i,l){for(;a!==null;){var d=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),a===l)break;a=a.return}}function Hp(a,i,l,d){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var b=p.dependencies;if(b!==null){var C=p.child;b=b.firstContext;e:for(;b!==null;){var M=b;b=p;for(var X=0;X<i.length;X++)if(M.context===i[X]){b.lanes|=l,M=b.alternate,M!==null&&(M.lanes|=l),Vp(b.return,l,a),d||(C=null);break e}b=M.next}}else if(p.tag===18){if(C=p.return,C===null)throw Error(n(341));C.lanes|=l,b=C.alternate,b!==null&&(b.lanes|=l),Vp(C,l,a),C=null}else C=p.child;if(C!==null)C.return=p;else for(C=p;C!==null;){if(C===a){C=null;break}if(p=C.sibling,p!==null){p.return=C.return,C=p;break}C=C.return}p=C}}function ml(a,i,l,d){a=null;for(var p=i,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var C=p.alternate;if(C===null)throw Error(n(387));if(C=C.memoizedProps,C!==null){var M=p.type;Pn(p.pendingProps.value,C.value)||(a!==null?a.push(M):a=[M])}}else if(p===W.current){if(C=p.alternate,C===null)throw Error(n(387));C.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(mu):a=[mu])}p=p.return}a!==null&&Hp(i,a,l,d),i.flags|=262144}function Yd(a){for(a=a.firstContext;a!==null;){if(!Pn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function xo(a){go=a,kr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Qs(a){return qv(go,a)}function Wd(a,i){return go===null&&xo(a),qv(a,i)}function qv(a,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},kr===null){if(a===null)throw Error(n(308));kr=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else kr=kr.next=i;return l}var n5=typeof AbortController<"u"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(l,d){a.push(d)}};this.abort=function(){i.aborted=!0,a.forEach(function(l){return l()})}},a5=e.unstable_scheduleCallback,r5=e.unstable_NormalPriority,xs={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gp(){return{controller:new n5,data:new Map,refCount:0}}function qc(a){a.refCount--,a.refCount===0&&a5(r5,function(){a.controller.abort()})}var Uc=null,Qp=0,hl=0,pl=null;function i5(a,i){if(Uc===null){var l=Uc=[];Qp=0,hl=Yg(),pl={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Qp++,i.then(Uv,Uv),i}function Uv(){if(--Qp===0&&Uc!==null){pl!==null&&(pl.status="fulfilled");var a=Uc;Uc=null,hl=0,pl=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function o5(a,i){var l=[],d={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return a.then(function(){d.status="fulfilled",d.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(d.status="rejected",d.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),d}var Bv=A.S;A.S=function(a,i){E1=_e(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i5(a,i),Bv!==null&&Bv(a,i)};var bo=_(null);function Zp(){var a=bo.current;return a!==null?a:Bt.pooledCache}function Xd(a,i){i===null?G(bo,bo.current):G(bo,i.pool)}function Vv(){var a=Zp();return a===null?null:{parent:xs._currentValue,pool:a}}var gl=Error(n(460)),Kp=Error(n(474)),Jd=Error(n(542)),ef={then:function(){}};function Hv(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Gv(a,i,l){switch(l=a[l],l===void 0?a.push(i):l!==i&&(i.then(Er,Er),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,Zv(a),a;default:if(typeof i.status=="string")i.then(Er,Er);else{if(a=Bt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=i,a.status="pending",a.then(function(d){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=d}},function(d){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,Zv(a),a}throw yo=i,gl}}function vo(a){try{var i=a._init;return i(a._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(yo=l,gl):l}}var yo=null;function Qv(){if(yo===null)throw Error(n(459));var a=yo;return yo=null,a}function Zv(a){if(a===gl||a===Jd)throw Error(n(483))}var xl=null,Bc=0;function tf(a){var i=Bc;return Bc+=1,xl===null&&(xl=[]),Gv(xl,a,i)}function Vc(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function sf(a,i){throw i.$$typeof===y?Error(n(525)):(a=Object.prototype.toString.call(i),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function Kv(a){function i(ae,se){if(a){var le=ae.deletions;le===null?(ae.deletions=[se],ae.flags|=16):le.push(se)}}function l(ae,se){if(!a)return null;for(;se!==null;)i(ae,se),se=se.sibling;return null}function d(ae){for(var se=new Map;ae!==null;)ae.key!==null?se.set(ae.key,ae):se.set(ae.index,ae),ae=ae.sibling;return se}function p(ae,se){return ae=Tr(ae,se),ae.index=0,ae.sibling=null,ae}function b(ae,se,le){return ae.index=le,a?(le=ae.alternate,le!==null?(le=le.index,le<se?(ae.flags|=67108866,se):le):(ae.flags|=67108866,se)):(ae.flags|=1048576,se)}function C(ae){return a&&ae.alternate===null&&(ae.flags|=67108866),ae}function M(ae,se,le,be){return se===null||se.tag!==6?(se=Pp(le,ae.mode,be),se.return=ae,se):(se=p(se,le),se.return=ae,se)}function X(ae,se,le,be){var Qe=le.type;return Qe===S?ge(ae,se,le.props.children,be,le.key):se!==null&&(se.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===F&&vo(Qe)===se.type)?(se=p(se,le.props),Vc(se,le),se.return=ae,se):(se=Zd(le.type,le.key,le.props,null,ae.mode,be),Vc(se,le),se.return=ae,se)}function ce(ae,se,le,be){return se===null||se.tag!==4||se.stateNode.containerInfo!==le.containerInfo||se.stateNode.implementation!==le.implementation?(se=Ip(le,ae.mode,be),se.return=ae,se):(se=p(se,le.children||[]),se.return=ae,se)}function ge(ae,se,le,be,Qe){return se===null||se.tag!==7?(se=ho(le,ae.mode,be,Qe),se.return=ae,se):(se=p(se,le),se.return=ae,se)}function ye(ae,se,le){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=Pp(""+se,ae.mode,le),se.return=ae,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case j:return le=Zd(se.type,se.key,se.props,null,ae.mode,le),Vc(le,se),le.return=ae,le;case w:return se=Ip(se,ae.mode,le),se.return=ae,se;case F:return se=vo(se),ye(ae,se,le)}if(U(se)||Z(se))return se=ho(se,ae.mode,le,null),se.return=ae,se;if(typeof se.then=="function")return ye(ae,tf(se),le);if(se.$$typeof===O)return ye(ae,Wd(ae,se),le);sf(ae,se)}return null}function de(ae,se,le,be){var Qe=se!==null?se.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Qe!==null?null:M(ae,se,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case j:return le.key===Qe?X(ae,se,le,be):null;case w:return le.key===Qe?ce(ae,se,le,be):null;case F:return le=vo(le),de(ae,se,le,be)}if(U(le)||Z(le))return Qe!==null?null:ge(ae,se,le,be,null);if(typeof le.then=="function")return de(ae,se,tf(le),be);if(le.$$typeof===O)return de(ae,se,Wd(ae,le),be);sf(ae,le)}return null}function me(ae,se,le,be,Qe){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ae=ae.get(le)||null,M(se,ae,""+be,Qe);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case j:return ae=ae.get(be.key===null?le:be.key)||null,X(se,ae,be,Qe);case w:return ae=ae.get(be.key===null?le:be.key)||null,ce(se,ae,be,Qe);case F:return be=vo(be),me(ae,se,le,be,Qe)}if(U(be)||Z(be))return ae=ae.get(le)||null,ge(se,ae,be,Qe,null);if(typeof be.then=="function")return me(ae,se,le,tf(be),Qe);if(be.$$typeof===O)return me(ae,se,le,Wd(se,be),Qe);sf(se,be)}return null}function Ie(ae,se,le,be){for(var Qe=null,jt=null,Be=se,at=se=0,ht=null;Be!==null&&at<le.length;at++){Be.index>at?(ht=Be,Be=null):ht=Be.sibling;var wt=de(ae,Be,le[at],be);if(wt===null){Be===null&&(Be=ht);break}a&&Be&&wt.alternate===null&&i(ae,Be),se=b(wt,se,at),jt===null?Qe=wt:jt.sibling=wt,jt=wt,Be=ht}if(at===le.length)return l(ae,Be),gt&&Or(ae,at),Qe;if(Be===null){for(;at<le.length;at++)Be=ye(ae,le[at],be),Be!==null&&(se=b(Be,se,at),jt===null?Qe=Be:jt.sibling=Be,jt=Be);return gt&&Or(ae,at),Qe}for(Be=d(Be);at<le.length;at++)ht=me(Be,ae,at,le[at],be),ht!==null&&(a&&ht.alternate!==null&&Be.delete(ht.key===null?at:ht.key),se=b(ht,se,at),jt===null?Qe=ht:jt.sibling=ht,jt=ht);return a&&Be.forEach(function(Ai){return i(ae,Ai)}),gt&&Or(ae,at),Qe}function Ke(ae,se,le,be){if(le==null)throw Error(n(151));for(var Qe=null,jt=null,Be=se,at=se=0,ht=null,wt=le.next();Be!==null&&!wt.done;at++,wt=le.next()){Be.index>at?(ht=Be,Be=null):ht=Be.sibling;var Ai=de(ae,Be,wt.value,be);if(Ai===null){Be===null&&(Be=ht);break}a&&Be&&Ai.alternate===null&&i(ae,Be),se=b(Ai,se,at),jt===null?Qe=Ai:jt.sibling=Ai,jt=Ai,Be=ht}if(wt.done)return l(ae,Be),gt&&Or(ae,at),Qe;if(Be===null){for(;!wt.done;at++,wt=le.next())wt=ye(ae,wt.value,be),wt!==null&&(se=b(wt,se,at),jt===null?Qe=wt:jt.sibling=wt,jt=wt);return gt&&Or(ae,at),Qe}for(Be=d(Be);!wt.done;at++,wt=le.next())wt=me(Be,ae,at,wt.value,be),wt!==null&&(a&&wt.alternate!==null&&Be.delete(wt.key===null?at:wt.key),se=b(wt,se,at),jt===null?Qe=wt:jt.sibling=wt,jt=wt);return a&&Be.forEach(function(bT){return i(ae,bT)}),gt&&Or(ae,at),Qe}function Ft(ae,se,le,be){if(typeof le=="object"&&le!==null&&le.type===S&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case j:e:{for(var Qe=le.key;se!==null;){if(se.key===Qe){if(Qe=le.type,Qe===S){if(se.tag===7){l(ae,se.sibling),be=p(se,le.props.children),be.return=ae,ae=be;break e}}else if(se.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===F&&vo(Qe)===se.type){l(ae,se.sibling),be=p(se,le.props),Vc(be,le),be.return=ae,ae=be;break e}l(ae,se);break}else i(ae,se);se=se.sibling}le.type===S?(be=ho(le.props.children,ae.mode,be,le.key),be.return=ae,ae=be):(be=Zd(le.type,le.key,le.props,null,ae.mode,be),Vc(be,le),be.return=ae,ae=be)}return C(ae);case w:e:{for(Qe=le.key;se!==null;){if(se.key===Qe)if(se.tag===4&&se.stateNode.containerInfo===le.containerInfo&&se.stateNode.implementation===le.implementation){l(ae,se.sibling),be=p(se,le.children||[]),be.return=ae,ae=be;break e}else{l(ae,se);break}else i(ae,se);se=se.sibling}be=Ip(le,ae.mode,be),be.return=ae,ae=be}return C(ae);case F:return le=vo(le),Ft(ae,se,le,be)}if(U(le))return Ie(ae,se,le,be);if(Z(le)){if(Qe=Z(le),typeof Qe!="function")throw Error(n(150));return le=Qe.call(le),Ke(ae,se,le,be)}if(typeof le.then=="function")return Ft(ae,se,tf(le),be);if(le.$$typeof===O)return Ft(ae,se,Wd(ae,le),be);sf(ae,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,se!==null&&se.tag===6?(l(ae,se.sibling),be=p(se,le),be.return=ae,ae=be):(l(ae,se),be=Pp(le,ae.mode,be),be.return=ae,ae=be),C(ae)):l(ae,se)}return function(ae,se,le,be){try{Bc=0;var Qe=Ft(ae,se,le,be);return xl=null,Qe}catch(Be){if(Be===gl||Be===Jd)throw Be;var jt=In(29,Be,null,ae.mode);return jt.lanes=be,jt.return=ae,jt}}}var jo=Kv(!0),Yv=Kv(!1),hi=!1;function Yp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wp(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function pi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function gi(a,i,l){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Nt&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,i=Qd(a),Rv(a,null,l),i}return Gd(a,d,i,l),Qd(a)}function Hc(a,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var d=i.lanes;d&=a.pendingLanes,l|=d,i.lanes=l,Td(a,l)}}function Xp(a,i){var l=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?p=b=C:b=b.next=C,l=l.next}while(l!==null);b===null?p=b=i:b=b.next=i}else p=b=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=i:a.next=i,l.lastBaseUpdate=i}var Jp=!1;function Gc(){if(Jp){var a=pl;if(a!==null)throw a}}function Qc(a,i,l,d){Jp=!1;var p=a.updateQueue;hi=!1;var b=p.firstBaseUpdate,C=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var X=M,ce=X.next;X.next=null,C===null?b=ce:C.next=ce,C=X;var ge=a.alternate;ge!==null&&(ge=ge.updateQueue,M=ge.lastBaseUpdate,M!==C&&(M===null?ge.firstBaseUpdate=ce:M.next=ce,ge.lastBaseUpdate=X))}if(b!==null){var ye=p.baseState;C=0,ge=ce=X=null,M=b;do{var de=M.lane&-536870913,me=de!==M.lane;if(me?(mt&de)===de:(d&de)===de){de!==0&&de===hl&&(Jp=!0),ge!==null&&(ge=ge.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Ie=a,Ke=M;de=i;var Ft=l;switch(Ke.tag){case 1:if(Ie=Ke.payload,typeof Ie=="function"){ye=Ie.call(Ft,ye,de);break e}ye=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ke.payload,de=typeof Ie=="function"?Ie.call(Ft,ye,de):Ie,de==null)break e;ye=v({},ye,de);break e;case 2:hi=!0}}de=M.callback,de!==null&&(a.flags|=64,me&&(a.flags|=8192),me=p.callbacks,me===null?p.callbacks=[de]:me.push(de))}else me={lane:de,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ge===null?(ce=ge=me,X=ye):ge=ge.next=me,C|=de;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;me=M,M=me.next,me.next=null,p.lastBaseUpdate=me,p.shared.pending=null}}while(!0);ge===null&&(X=ye),p.baseState=X,p.firstBaseUpdate=ce,p.lastBaseUpdate=ge,b===null&&(p.shared.lanes=0),ji|=C,a.lanes=C,a.memoizedState=ye}}function Wv(a,i){if(typeof a!="function")throw Error(n(191,a));a.call(i)}function Xv(a,i){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)Wv(l[a],i)}var bl=_(null),nf=_(0);function Jv(a,i){a=Lr,G(nf,a),G(bl,i),Lr=a|i.baseLanes}function eg(){G(nf,Lr),G(bl,bl.current)}function tg(){Lr=nf.current,L(bl),L(nf)}var Fn=_(null),da=null;function xi(a){var i=a.alternate;G(cs,cs.current&1),G(Fn,a),da===null&&(i===null||bl.current!==null||i.memoizedState!==null)&&(da=a)}function sg(a){G(cs,cs.current),G(Fn,a),da===null&&(da=a)}function ey(a){a.tag===22?(G(cs,cs.current),G(Fn,a),da===null&&(da=a)):bi()}function bi(){G(cs,cs.current),G(Fn,Fn.current)}function Ln(a){L(Fn),da===a&&(da=null),L(cs)}var cs=_(0);function af(a){for(var i=a;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l0(l)||c0(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Mr=0,st=null,Pt=null,bs=null,rf=!1,vl=!1,wo=!1,of=0,Zc=0,yl=null,l5=0;function as(){throw Error(n(321))}function ng(a,i){if(i===null)return!1;for(var l=0;l<i.length&&l<a.length;l++)if(!Pn(a[l],i[l]))return!1;return!0}function ag(a,i,l,d,p,b){return Mr=b,st=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=a===null||a.memoizedState===null?Py:vg,wo=!1,b=l(d,p),wo=!1,vl&&(b=sy(i,l,d,p)),ty(a),b}function ty(a){A.H=Wc;var i=Pt!==null&&Pt.next!==null;if(Mr=0,bs=Pt=st=null,rf=!1,Zc=0,yl=null,i)throw Error(n(300));a===null||vs||(a=a.dependencies,a!==null&&Yd(a)&&(vs=!0))}function sy(a,i,l,d){st=a;var p=0;do{if(vl&&(yl=null),Zc=0,vl=!1,25<=p)throw Error(n(301));if(p+=1,bs=Pt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}A.H=Iy,b=i(l,d)}while(vl);return b}function c5(){var a=A.H,i=a.useState()[0];return i=typeof i.then=="function"?Kc(i):i,a=a.useState()[0],(Pt!==null?Pt.memoizedState:null)!==a&&(st.flags|=1024),i}function rg(){var a=of!==0;return of=0,a}function ig(a,i,l){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~l}function og(a){if(rf){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}rf=!1}Mr=0,bs=Pt=st=null,vl=!1,Zc=of=0,yl=null}function un(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bs===null?st.memoizedState=bs=a:bs=bs.next=a,bs}function us(){if(Pt===null){var a=st.alternate;a=a!==null?a.memoizedState:null}else a=Pt.next;var i=bs===null?st.memoizedState:bs.next;if(i!==null)bs=i,Pt=a;else{if(a===null)throw st.alternate===null?Error(n(467)):Error(n(310));Pt=a,a={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},bs===null?st.memoizedState=bs=a:bs=bs.next=a}return bs}function lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kc(a){var i=Zc;return Zc+=1,yl===null&&(yl=[]),a=Gv(yl,a,i),i=st,(bs===null?i.memoizedState:bs.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?Py:vg),a}function cf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Kc(a);if(a.$$typeof===O)return Qs(a)}throw Error(n(438,String(a)))}function lg(a){var i=null,l=st.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var d=st.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=lf(),st.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(a),d=0;d<a;d++)l[d]=H;return i.index++,l}function Rr(a,i){return typeof i=="function"?i(a):i}function uf(a){var i=us();return cg(i,Pt,a)}function cg(a,i,l){var d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=l;var p=a.baseQueue,b=d.pending;if(b!==null){if(p!==null){var C=p.next;p.next=b.next,b.next=C}i.baseQueue=p=b,d.pending=null}if(b=a.baseState,p===null)a.memoizedState=b;else{i=p.next;var M=C=null,X=null,ce=i,ge=!1;do{var ye=ce.lane&-536870913;if(ye!==ce.lane?(mt&ye)===ye:(Mr&ye)===ye){var de=ce.revertLane;if(de===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),ye===hl&&(ge=!0);else if((Mr&de)===de){ce=ce.next,de===hl&&(ge=!0);continue}else ye={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(M=X=ye,C=b):X=X.next=ye,st.lanes|=de,ji|=de;ye=ce.action,wo&&l(b,ye),b=ce.hasEagerState?ce.eagerState:l(b,ye)}else de={lane:ye,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(M=X=de,C=b):X=X.next=de,st.lanes|=ye,ji|=ye;ce=ce.next}while(ce!==null&&ce!==i);if(X===null?C=b:X.next=M,!Pn(b,a.memoizedState)&&(vs=!0,ge&&(l=pl,l!==null)))throw l;a.memoizedState=b,a.baseState=C,a.baseQueue=X,d.lastRenderedState=b}return p===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function ug(a){var i=us(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=a;var d=l.dispatch,p=l.pending,b=i.memoizedState;if(p!==null){l.pending=null;var C=p=p.next;do b=a(b,C.action),C=C.next;while(C!==p);Pn(b,i.memoizedState)||(vs=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),l.lastRenderedState=b}return[b,d]}function ny(a,i,l){var d=st,p=us(),b=gt;if(b){if(l===void 0)throw Error(n(407));l=l()}else l=i();var C=!Pn((Pt||p).memoizedState,l);if(C&&(p.memoizedState=l,vs=!0),p=p.queue,mg(iy.bind(null,d,p,a),[a]),p.getSnapshot!==i||C||bs!==null&&bs.memoizedState.tag&1){if(d.flags|=2048,jl(9,{destroy:void 0},ry.bind(null,d,p,l,i),null),Bt===null)throw Error(n(349));b||(Mr&127)!==0||ay(d,i,l)}return l}function ay(a,i,l){a.flags|=16384,a={getSnapshot:i,value:l},i=st.updateQueue,i===null?(i=lf(),st.updateQueue=i,i.stores=[a]):(l=i.stores,l===null?i.stores=[a]:l.push(a))}function ry(a,i,l,d){i.value=l,i.getSnapshot=d,oy(i)&&ly(a)}function iy(a,i,l){return l(function(){oy(i)&&ly(a)})}function oy(a){var i=a.getSnapshot;a=a.value;try{var l=i();return!Pn(a,l)}catch{return!0}}function ly(a){var i=mo(a,2);i!==null&&En(i,a,2)}function dg(a){var i=un();if(typeof a=="function"){var l=a;if(a=l(),wo){Xe(!0);try{l()}finally{Xe(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:a},i}function cy(a,i,l,d){return a.baseState=l,cg(a,Pt,typeof d=="function"?d:Rr)}function u5(a,i,l,d,p){if(mf(a))throw Error(n(485));if(a=i.action,a!==null){var b={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};A.T!==null?l(!0):b.isTransition=!1,d(b),l=i.pending,l===null?(b.next=i.pending=b,uy(i,b)):(b.next=l.next,i.pending=l.next=b)}}function uy(a,i){var l=i.action,d=i.payload,p=a.state;if(i.isTransition){var b=A.T,C={};A.T=C;try{var M=l(p,d),X=A.S;X!==null&&X(C,M),dy(a,i,M)}catch(ce){fg(a,i,ce)}finally{b!==null&&C.types!==null&&(b.types=C.types),A.T=b}}else try{b=l(p,d),dy(a,i,b)}catch(ce){fg(a,i,ce)}}function dy(a,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){fy(a,i,d)},function(d){return fg(a,i,d)}):fy(a,i,l)}function fy(a,i,l){i.status="fulfilled",i.value=l,my(i),a.state=l,i=a.pending,i!==null&&(l=i.next,l===i?a.pending=null:(l=l.next,i.next=l,uy(a,l)))}function fg(a,i,l){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=l,my(i),i=i.next;while(i!==d)}a.action=null}function my(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function hy(a,i){return i}function py(a,i){if(gt){var l=Bt.formState;if(l!==null){e:{var d=st;if(gt){if(Qt){t:{for(var p=Qt,b=ua;p.nodeType!==8;){if(!b){p=null;break t}if(p=fa(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){Qt=fa(p.nextSibling),d=p.data==="F!";break e}}fi(d)}d=!1}d&&(i=l[0])}}return l=un(),l.memoizedState=l.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hy,lastRenderedState:i},l.queue=d,l=Dy.bind(null,st,d),d.dispatch=l,d=dg(!1),b=bg.bind(null,st,!1,d.queue),d=un(),p={state:i,dispatch:null,action:a,pending:null},d.queue=p,l=u5.bind(null,st,p,b,l),p.dispatch=l,d.memoizedState=a,[i,l,!1]}function gy(a){var i=us();return xy(i,Pt,a)}function xy(a,i,l){if(i=cg(a,i,hy)[0],a=uf(Rr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=Kc(i)}catch(C){throw C===gl?Jd:C}else d=i;i=us();var p=i.queue,b=p.dispatch;return l!==i.memoizedState&&(st.flags|=2048,jl(9,{destroy:void 0},d5.bind(null,p,l),null)),[d,b,a]}function d5(a,i){a.action=i}function by(a){var i=us(),l=Pt;if(l!==null)return xy(i,l,a);us(),i=i.memoizedState,l=us();var d=l.queue.dispatch;return l.memoizedState=a,[i,d,!1]}function jl(a,i,l,d){return a={tag:a,create:l,deps:d,inst:i,next:null},i=st.updateQueue,i===null&&(i=lf(),st.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=a.next=a:(d=l.next,l.next=a,a.next=d,i.lastEffect=a),a}function vy(){return us().memoizedState}function df(a,i,l,d){var p=un();st.flags|=a,p.memoizedState=jl(1|i,{destroy:void 0},l,d===void 0?null:d)}function ff(a,i,l,d){var p=us();d=d===void 0?null:d;var b=p.memoizedState.inst;Pt!==null&&d!==null&&ng(d,Pt.memoizedState.deps)?p.memoizedState=jl(i,b,l,d):(st.flags|=a,p.memoizedState=jl(1|i,b,l,d))}function yy(a,i){df(8390656,8,a,i)}function mg(a,i){ff(2048,8,a,i)}function f5(a){st.flags|=4;var i=st.updateQueue;if(i===null)i=lf(),st.updateQueue=i,i.events=[a];else{var l=i.events;l===null?i.events=[a]:l.push(a)}}function jy(a){var i=us().memoizedState;return f5({ref:i,nextImpl:a}),function(){if((Nt&2)!==0)throw Error(n(440));return i.impl.apply(void 0,arguments)}}function wy(a,i){return ff(4,2,a,i)}function Sy(a,i){return ff(4,4,a,i)}function Ny(a,i){if(typeof i=="function"){a=a();var l=i(a);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function Cy(a,i,l){l=l!=null?l.concat([a]):null,ff(4,4,Ny.bind(null,i,a),l)}function hg(){}function Ey(a,i){var l=us();i=i===void 0?null:i;var d=l.memoizedState;return i!==null&&ng(i,d[1])?d[0]:(l.memoizedState=[a,i],a)}function _y(a,i){var l=us();i=i===void 0?null:i;var d=l.memoizedState;if(i!==null&&ng(i,d[1]))return d[0];if(d=a(),wo){Xe(!0);try{a()}finally{Xe(!1)}}return l.memoizedState=[d,i],d}function pg(a,i,l){return l===void 0||(Mr&1073741824)!==0&&(mt&261930)===0?a.memoizedState=i:(a.memoizedState=l,a=T1(),st.lanes|=a,ji|=a,l)}function Ty(a,i,l,d){return Pn(l,i)?l:bl.current!==null?(a=pg(a,l,d),Pn(a,i)||(vs=!0),a):(Mr&42)===0||(Mr&1073741824)!==0&&(mt&261930)===0?(vs=!0,a.memoizedState=l):(a=T1(),st.lanes|=a,ji|=a,i)}function Oy(a,i,l,d,p){var b=I.p;I.p=b!==0&&8>b?b:8;var C=A.T,M={};A.T=M,bg(a,!1,i,l);try{var X=p(),ce=A.S;if(ce!==null&&ce(M,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var ge=o5(X,d);Yc(a,i,ge,Bn(a))}else Yc(a,i,d,Bn(a))}catch(ye){Yc(a,i,{then:function(){},status:"rejected",reason:ye},Bn())}finally{I.p=b,C!==null&&M.types!==null&&(C.types=M.types),A.T=C}}function m5(){}function gg(a,i,l,d){if(a.tag!==5)throw Error(n(476));var p=ky(a).queue;Oy(a,p,i,$,l===null?m5:function(){return Ay(a),l(d)})}function ky(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:$},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:l},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function Ay(a){var i=ky(a);i.next===null&&(i=a.alternate.memoizedState),Yc(a,i.next.queue,{},Bn())}function xg(){return Qs(mu)}function My(){return us().memoizedState}function Ry(){return us().memoizedState}function h5(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var l=Bn();a=pi(l);var d=gi(i,a,l);d!==null&&(En(d,i,l),Hc(d,i,l)),i={cache:Gp()},a.payload=i;return}i=i.return}}function p5(a,i,l){var d=Bn();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mf(a)?zy(i,l):(l=zp(a,i,l,d),l!==null&&(En(l,a,d),$y(l,i,d)))}function Dy(a,i,l){var d=Bn();Yc(a,i,l,d)}function Yc(a,i,l,d){var p={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(mf(a))zy(i,p);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var C=i.lastRenderedState,M=b(C,l);if(p.hasEagerState=!0,p.eagerState=M,Pn(M,C))return Gd(a,i,p,0),Bt===null&&Hd(),!1}catch{}if(l=zp(a,i,p,d),l!==null)return En(l,a,d),$y(l,i,d),!0}return!1}function bg(a,i,l,d){if(d={lane:2,revertLane:Yg(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},mf(a)){if(i)throw Error(n(479))}else i=zp(a,l,d,2),i!==null&&En(i,a,2)}function mf(a){var i=a.alternate;return a===st||i!==null&&i===st}function zy(a,i){vl=rf=!0;var l=a.pending;l===null?i.next=i:(i.next=l.next,l.next=i),a.pending=i}function $y(a,i,l){if((l&4194048)!==0){var d=i.lanes;d&=a.pendingLanes,l|=d,i.lanes=l,Td(a,l)}}var Wc={readContext:Qs,use:cf,useCallback:as,useContext:as,useEffect:as,useImperativeHandle:as,useLayoutEffect:as,useInsertionEffect:as,useMemo:as,useReducer:as,useRef:as,useState:as,useDebugValue:as,useDeferredValue:as,useTransition:as,useSyncExternalStore:as,useId:as,useHostTransitionStatus:as,useFormState:as,useActionState:as,useOptimistic:as,useMemoCache:as,useCacheRefresh:as};Wc.useEffectEvent=as;var Py={readContext:Qs,use:cf,useCallback:function(a,i){return un().memoizedState=[a,i===void 0?null:i],a},useContext:Qs,useEffect:yy,useImperativeHandle:function(a,i,l){l=l!=null?l.concat([a]):null,df(4194308,4,Ny.bind(null,i,a),l)},useLayoutEffect:function(a,i){return df(4194308,4,a,i)},useInsertionEffect:function(a,i){df(4,2,a,i)},useMemo:function(a,i){var l=un();i=i===void 0?null:i;var d=a();if(wo){Xe(!0);try{a()}finally{Xe(!1)}}return l.memoizedState=[d,i],d},useReducer:function(a,i,l){var d=un();if(l!==void 0){var p=l(i);if(wo){Xe(!0);try{l(i)}finally{Xe(!1)}}}else p=i;return d.memoizedState=d.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},d.queue=a,a=a.dispatch=p5.bind(null,st,a),[d.memoizedState,a]},useRef:function(a){var i=un();return a={current:a},i.memoizedState=a},useState:function(a){a=dg(a);var i=a.queue,l=Dy.bind(null,st,i);return i.dispatch=l,[a.memoizedState,l]},useDebugValue:hg,useDeferredValue:function(a,i){var l=un();return pg(l,a,i)},useTransition:function(){var a=dg(!1);return a=Oy.bind(null,st,a.queue,!0,!1),un().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,l){var d=st,p=un();if(gt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),Bt===null)throw Error(n(349));(mt&127)!==0||ay(d,i,l)}p.memoizedState=l;var b={value:l,getSnapshot:i};return p.queue=b,yy(iy.bind(null,d,b,a),[a]),d.flags|=2048,jl(9,{destroy:void 0},ry.bind(null,d,b,l,i),null),l},useId:function(){var a=un(),i=Bt.identifierPrefix;if(gt){var l=Ba,d=Ua;l=(d&~(1<<32-_t(d)-1)).toString(32)+l,i="_"+i+"R_"+l,l=of++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=l5++,i="_"+i+"r_"+l.toString(32)+"_";return a.memoizedState=i},useHostTransitionStatus:xg,useFormState:py,useActionState:py,useOptimistic:function(a){var i=un();i.memoizedState=i.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=bg.bind(null,st,!0,l),l.dispatch=i,[a,i]},useMemoCache:lg,useCacheRefresh:function(){return un().memoizedState=h5.bind(null,st)},useEffectEvent:function(a){var i=un(),l={impl:a};return i.memoizedState=l,function(){if((Nt&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},vg={readContext:Qs,use:cf,useCallback:Ey,useContext:Qs,useEffect:mg,useImperativeHandle:Cy,useInsertionEffect:wy,useLayoutEffect:Sy,useMemo:_y,useReducer:uf,useRef:vy,useState:function(){return uf(Rr)},useDebugValue:hg,useDeferredValue:function(a,i){var l=us();return Ty(l,Pt.memoizedState,a,i)},useTransition:function(){var a=uf(Rr)[0],i=us().memoizedState;return[typeof a=="boolean"?a:Kc(a),i]},useSyncExternalStore:ny,useId:My,useHostTransitionStatus:xg,useFormState:gy,useActionState:gy,useOptimistic:function(a,i){var l=us();return cy(l,Pt,a,i)},useMemoCache:lg,useCacheRefresh:Ry};vg.useEffectEvent=jy;var Iy={readContext:Qs,use:cf,useCallback:Ey,useContext:Qs,useEffect:mg,useImperativeHandle:Cy,useInsertionEffect:wy,useLayoutEffect:Sy,useMemo:_y,useReducer:ug,useRef:vy,useState:function(){return ug(Rr)},useDebugValue:hg,useDeferredValue:function(a,i){var l=us();return Pt===null?pg(l,a,i):Ty(l,Pt.memoizedState,a,i)},useTransition:function(){var a=ug(Rr)[0],i=us().memoizedState;return[typeof a=="boolean"?a:Kc(a),i]},useSyncExternalStore:ny,useId:My,useHostTransitionStatus:xg,useFormState:by,useActionState:by,useOptimistic:function(a,i){var l=us();return Pt!==null?cy(l,Pt,a,i):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:lg,useCacheRefresh:Ry};Iy.useEffectEvent=jy;function yg(a,i,l,d){i=a.memoizedState,l=l(d,i),l=l==null?i:v({},i,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var jg={enqueueSetState:function(a,i,l){a=a._reactInternals;var d=Bn(),p=pi(d);p.payload=i,l!=null&&(p.callback=l),i=gi(a,p,d),i!==null&&(En(i,a,d),Hc(i,a,d))},enqueueReplaceState:function(a,i,l){a=a._reactInternals;var d=Bn(),p=pi(d);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=gi(a,p,d),i!==null&&(En(i,a,d),Hc(i,a,d))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var l=Bn(),d=pi(l);d.tag=2,i!=null&&(d.callback=i),i=gi(a,d,l),i!==null&&(En(i,a,l),Hc(i,a,l))}};function Fy(a,i,l,d,p,b,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,b,C):i.prototype&&i.prototype.isPureReactComponent?!Pc(l,d)||!Pc(p,b):!0}function Ly(a,i,l,d){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==a&&jg.enqueueReplaceState(i,i.state,null)}function So(a,i){var l=i;if("ref"in i){l={};for(var d in i)d!=="ref"&&(l[d]=i[d])}if(a=a.defaultProps){l===i&&(l=v({},l));for(var p in a)l[p]===void 0&&(l[p]=a[p])}return l}function qy(a){Vd(a)}function Uy(a){console.error(a)}function By(a){Vd(a)}function hf(a,i){try{var l=a.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function Vy(a,i,l){try{var d=a.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function wg(a,i,l){return l=pi(l),l.tag=3,l.payload={element:null},l.callback=function(){hf(a,i)},l}function Hy(a){return a=pi(a),a.tag=3,a}function Gy(a,i,l,d){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var b=d.value;a.payload=function(){return p(b)},a.callback=function(){Vy(i,l,d)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){Vy(i,l,d),typeof p!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var M=d.stack;this.componentDidCatch(d.value,{componentStack:M!==null?M:""})})}function g5(a,i,l,d,p){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=l.alternate,i!==null&&ml(i,l,p,!0),l=Fn.current,l!==null){switch(l.tag){case 31:case 13:return da===null?Ef():l.alternate===null&&rs===0&&(rs=3),l.flags&=-257,l.flags|=65536,l.lanes=p,d===ef?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([d]):i.add(d),Qg(a,d,p)),!1;case 22:return l.flags|=65536,d===ef?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([d]):l.add(d)),Qg(a,d,p)),!1}throw Error(n(435,l.tag))}return Qg(a,d,p),Ef(),!1}if(gt)return i=Fn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,d!==qp&&(a=Error(n(422),{cause:d}),Lc(oa(a,l)))):(d!==qp&&(i=Error(n(423),{cause:d}),Lc(oa(i,l))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,d=oa(d,l),p=wg(a.stateNode,d,p),Xp(a,p),rs!==4&&(rs=2)),!1;var b=Error(n(520),{cause:d});if(b=oa(b,l),ru===null?ru=[b]:ru.push(b),rs!==4&&(rs=2),i===null)return!0;d=oa(d,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,a=p&-p,l.lanes|=a,a=wg(l.stateNode,d,a),Xp(l,a),!1;case 1:if(i=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(wi===null||!wi.has(b))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Hy(p),Gy(p,a,l,d),Xp(l,p),!1}l=l.return}while(l!==null);return!1}var Sg=Error(n(461)),vs=!1;function Zs(a,i,l,d){i.child=a===null?Yv(i,null,l,d):jo(i,a.child,l,d)}function Qy(a,i,l,d,p){l=l.render;var b=i.ref;if("ref"in d){var C={};for(var M in d)M!=="ref"&&(C[M]=d[M])}else C=d;return xo(i),d=ag(a,i,l,C,b,p),M=rg(),a!==null&&!vs?(ig(a,i,p),Dr(a,i,p)):(gt&&M&&Fp(i),i.flags|=1,Zs(a,i,d,p),i.child)}function Zy(a,i,l,d,p){if(a===null){var b=l.type;return typeof b=="function"&&!$p(b)&&b.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=b,Ky(a,i,b,d,p)):(a=Zd(l.type,null,d,i,i.mode,p),a.ref=i.ref,a.return=i,i.child=a)}if(b=a.child,!Ag(a,p)){var C=b.memoizedProps;if(l=l.compare,l=l!==null?l:Pc,l(C,d)&&a.ref===i.ref)return Dr(a,i,p)}return i.flags|=1,a=Tr(b,d),a.ref=i.ref,a.return=i,i.child=a}function Ky(a,i,l,d,p){if(a!==null){var b=a.memoizedProps;if(Pc(b,d)&&a.ref===i.ref)if(vs=!1,i.pendingProps=d=b,Ag(a,p))(a.flags&131072)!==0&&(vs=!0);else return i.lanes=a.lanes,Dr(a,i,p)}return Ng(a,i,l,d,p)}function Yy(a,i,l,d){var p=d.children,b=a!==null?a.memoizedState:null;if(a===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((i.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,a!==null){for(d=i.child=a.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;d=p&~b}else d=0,i.child=null;return Wy(a,i,b,l,d)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&Xd(i,b!==null?b.cachePool:null),b!==null?Jv(i,b):eg(),ey(i);else return d=i.lanes=536870912,Wy(a,i,b!==null?b.baseLanes|l:l,l,d)}else b!==null?(Xd(i,b.cachePool),Jv(i,b),bi(),i.memoizedState=null):(a!==null&&Xd(i,null),eg(),bi());return Zs(a,i,p,l),i.child}function Xc(a,i){return a!==null&&a.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Wy(a,i,l,d,p){var b=Zp();return b=b===null?null:{parent:xs._currentValue,pool:b},i.memoizedState={baseLanes:l,cachePool:b},a!==null&&Xd(i,null),eg(),ey(i),a!==null&&ml(a,i,d,!0),i.childLanes=p,null}function pf(a,i){return i=xf({mode:i.mode,children:i.children},a.mode),i.ref=a.ref,a.child=i,i.return=a,i}function Xy(a,i,l){return jo(i,a.child,null,l),a=pf(i,i.pendingProps),a.flags|=2,Ln(i),i.memoizedState=null,a}function x5(a,i,l){var d=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,a===null){if(gt){if(d.mode==="hidden")return a=pf(i,d),i.lanes=536870912,Xc(null,a);if(sg(i),(a=Qt)?(a=uj(a,ua),a=a!==null&&a.data==="&"?a:null,a!==null&&(i.memoizedState={dehydrated:a,treeContext:ui!==null?{id:Ua,overflow:Ba}:null,retryLane:536870912,hydrationErrors:null},l=zv(a),l.return=i,i.child=l,Gs=i,Qt=null)):a=null,a===null)throw fi(i);return i.lanes=536870912,null}return pf(i,d)}var b=a.memoizedState;if(b!==null){var C=b.dehydrated;if(sg(i),p)if(i.flags&256)i.flags&=-257,i=Xy(a,i,l);else if(i.memoizedState!==null)i.child=a.child,i.flags|=128,i=null;else throw Error(n(558));else if(vs||ml(a,i,l,!1),p=(l&a.childLanes)!==0,vs||p){if(d=Bt,d!==null&&(C=Od(d,l),C!==0&&C!==b.retryLane))throw b.retryLane=C,mo(a,C),En(d,a,C),Sg;Ef(),i=Xy(a,i,l)}else a=b.treeContext,Qt=fa(C.nextSibling),Gs=i,gt=!0,di=null,ua=!1,a!==null&&Iv(i,a),i=pf(i,d),i.flags|=4096;return i}return a=Tr(a.child,{mode:d.mode,children:d.children}),a.ref=i.ref,i.child=a,a.return=i,a}function gf(a,i){var l=i.ref;if(l===null)a!==null&&a.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(a===null||a.ref!==l)&&(i.flags|=4194816)}}function Ng(a,i,l,d,p){return xo(i),l=ag(a,i,l,d,void 0,p),d=rg(),a!==null&&!vs?(ig(a,i,p),Dr(a,i,p)):(gt&&d&&Fp(i),i.flags|=1,Zs(a,i,l,p),i.child)}function Jy(a,i,l,d,p,b){return xo(i),i.updateQueue=null,l=sy(i,d,l,p),ty(a),d=rg(),a!==null&&!vs?(ig(a,i,b),Dr(a,i,b)):(gt&&d&&Fp(i),i.flags|=1,Zs(a,i,l,b),i.child)}function e1(a,i,l,d,p){if(xo(i),i.stateNode===null){var b=cl,C=l.contextType;typeof C=="object"&&C!==null&&(b=Qs(C)),b=new l(d,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=jg,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=d,b.state=i.memoizedState,b.refs={},Yp(i),C=l.contextType,b.context=typeof C=="object"&&C!==null?Qs(C):cl,b.state=i.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(yg(i,l,C,d),b.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&jg.enqueueReplaceState(b,b.state,null),Qc(i,d,b,p),Gc(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(a===null){b=i.stateNode;var M=i.memoizedProps,X=So(l,M);b.props=X;var ce=b.context,ge=l.contextType;C=cl,typeof ge=="object"&&ge!==null&&(C=Qs(ge));var ye=l.getDerivedStateFromProps;ge=typeof ye=="function"||typeof b.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,ge||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M||ce!==C)&&Ly(i,b,d,C),hi=!1;var de=i.memoizedState;b.state=de,Qc(i,d,b,p),Gc(),ce=i.memoizedState,M||de!==ce||hi?(typeof ye=="function"&&(yg(i,l,ye,d),ce=i.memoizedState),(X=hi||Fy(i,l,X,d,de,ce,C))?(ge||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=ce),b.props=d,b.state=ce,b.context=C,d=X):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{b=i.stateNode,Wp(a,i),C=i.memoizedProps,ge=So(l,C),b.props=ge,ye=i.pendingProps,de=b.context,ce=l.contextType,X=cl,typeof ce=="object"&&ce!==null&&(X=Qs(ce)),M=l.getDerivedStateFromProps,(ce=typeof M=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==ye||de!==X)&&Ly(i,b,d,X),hi=!1,de=i.memoizedState,b.state=de,Qc(i,d,b,p),Gc();var me=i.memoizedState;C!==ye||de!==me||hi||a!==null&&a.dependencies!==null&&Yd(a.dependencies)?(typeof M=="function"&&(yg(i,l,M,d),me=i.memoizedState),(ge=hi||Fy(i,l,ge,d,de,me,X)||a!==null&&a.dependencies!==null&&Yd(a.dependencies))?(ce||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,me,X),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,me,X)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=me),b.props=d,b.state=me,b.context=X,d=ge):(typeof b.componentDidUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(i.flags|=1024),d=!1)}return b=d,gf(a,i),d=(i.flags&128)!==0,b||d?(b=i.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,a!==null&&d?(i.child=jo(i,a.child,null,p),i.child=jo(i,null,l,p)):Zs(a,i,l,p),i.memoizedState=b.state,a=i.child):a=Dr(a,i,p),a}function t1(a,i,l,d){return po(),i.flags|=256,Zs(a,i,l,d),i.child}var Cg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eg(a){return{baseLanes:a,cachePool:Vv()}}function _g(a,i,l){return a=a!==null?a.childLanes&~l:0,i&&(a|=Un),a}function s1(a,i,l){var d=i.pendingProps,p=!1,b=(i.flags&128)!==0,C;if((C=b)||(C=a!==null&&a.memoizedState===null?!1:(cs.current&2)!==0),C&&(p=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,a===null){if(gt){if(p?xi(i):bi(),(a=Qt)?(a=uj(a,ua),a=a!==null&&a.data!=="&"?a:null,a!==null&&(i.memoizedState={dehydrated:a,treeContext:ui!==null?{id:Ua,overflow:Ba}:null,retryLane:536870912,hydrationErrors:null},l=zv(a),l.return=i,i.child=l,Gs=i,Qt=null)):a=null,a===null)throw fi(i);return c0(a)?i.lanes=32:i.lanes=536870912,null}var M=d.children;return d=d.fallback,p?(bi(),p=i.mode,M=xf({mode:"hidden",children:M},p),d=ho(d,p,l,null),M.return=i,d.return=i,M.sibling=d,i.child=M,d=i.child,d.memoizedState=Eg(l),d.childLanes=_g(a,C,l),i.memoizedState=Cg,Xc(null,d)):(xi(i),Tg(i,M))}var X=a.memoizedState;if(X!==null&&(M=X.dehydrated,M!==null)){if(b)i.flags&256?(xi(i),i.flags&=-257,i=Og(a,i,l)):i.memoizedState!==null?(bi(),i.child=a.child,i.flags|=128,i=null):(bi(),M=d.fallback,p=i.mode,d=xf({mode:"visible",children:d.children},p),M=ho(M,p,l,null),M.flags|=2,d.return=i,M.return=i,d.sibling=M,i.child=d,jo(i,a.child,null,l),d=i.child,d.memoizedState=Eg(l),d.childLanes=_g(a,C,l),i.memoizedState=Cg,i=Xc(null,d));else if(xi(i),c0(M)){if(C=M.nextSibling&&M.nextSibling.dataset,C)var ce=C.dgst;C=ce,d=Error(n(419)),d.stack="",d.digest=C,Lc({value:d,source:null,stack:null}),i=Og(a,i,l)}else if(vs||ml(a,i,l,!1),C=(l&a.childLanes)!==0,vs||C){if(C=Bt,C!==null&&(d=Od(C,l),d!==0&&d!==X.retryLane))throw X.retryLane=d,mo(a,d),En(C,a,d),Sg;l0(M)||Ef(),i=Og(a,i,l)}else l0(M)?(i.flags|=192,i.child=a.child,i=null):(a=X.treeContext,Qt=fa(M.nextSibling),Gs=i,gt=!0,di=null,ua=!1,a!==null&&Iv(i,a),i=Tg(i,d.children),i.flags|=4096);return i}return p?(bi(),M=d.fallback,p=i.mode,X=a.child,ce=X.sibling,d=Tr(X,{mode:"hidden",children:d.children}),d.subtreeFlags=X.subtreeFlags&65011712,ce!==null?M=Tr(ce,M):(M=ho(M,p,l,null),M.flags|=2),M.return=i,d.return=i,d.sibling=M,i.child=d,Xc(null,d),d=i.child,M=a.child.memoizedState,M===null?M=Eg(l):(p=M.cachePool,p!==null?(X=xs._currentValue,p=p.parent!==X?{parent:X,pool:X}:p):p=Vv(),M={baseLanes:M.baseLanes|l,cachePool:p}),d.memoizedState=M,d.childLanes=_g(a,C,l),i.memoizedState=Cg,Xc(a.child,d)):(xi(i),l=a.child,a=l.sibling,l=Tr(l,{mode:"visible",children:d.children}),l.return=i,l.sibling=null,a!==null&&(C=i.deletions,C===null?(i.deletions=[a],i.flags|=16):C.push(a)),i.child=l,i.memoizedState=null,l)}function Tg(a,i){return i=xf({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function xf(a,i){return a=In(22,a,null,i),a.lanes=0,a}function Og(a,i,l){return jo(i,a.child,null,l),a=Tg(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function n1(a,i,l){a.lanes|=i;var d=a.alternate;d!==null&&(d.lanes|=i),Vp(a.return,i,l)}function kg(a,i,l,d,p,b){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p,treeForkCount:b}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=d,C.tail=l,C.tailMode=p,C.treeForkCount=b)}function a1(a,i,l){var d=i.pendingProps,p=d.revealOrder,b=d.tail;d=d.children;var C=cs.current,M=(C&2)!==0;if(M?(C=C&1|2,i.flags|=128):C&=1,G(cs,C),Zs(a,i,d,l),d=gt?Fc:0,!M&&a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&n1(a,l,i);else if(a.tag===19)n1(a,l,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(p){case"forwards":for(l=i.child,p=null;l!==null;)a=l.alternate,a!==null&&af(a)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),kg(i,!1,p,l,b,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(a=p.alternate,a!==null&&af(a)===null){i.child=p;break}a=p.sibling,p.sibling=l,l=p,p=a}kg(i,!0,l,null,b,d);break;case"together":kg(i,!1,null,null,void 0,d);break;default:i.memoizedState=null}return i.child}function Dr(a,i,l){if(a!==null&&(i.dependencies=a.dependencies),ji|=i.lanes,(l&i.childLanes)===0)if(a!==null){if(ml(a,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(n(153));if(i.child!==null){for(a=i.child,l=Tr(a,a.pendingProps),i.child=l,l.return=i;a.sibling!==null;)a=a.sibling,l=l.sibling=Tr(a,a.pendingProps),l.return=i;l.sibling=null}return i.child}function Ag(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&Yd(a)))}function b5(a,i,l){switch(i.tag){case 3:we(i,i.stateNode.containerInfo),mi(i,xs,a.memoizedState.cache),po();break;case 27:case 5:ve(i);break;case 4:we(i,i.stateNode.containerInfo);break;case 10:mi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,sg(i),null;break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(xi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?s1(a,i,l):(xi(i),a=Dr(a,i,l),a!==null?a.sibling:null);xi(i);break;case 19:var p=(a.flags&128)!==0;if(d=(l&i.childLanes)!==0,d||(ml(a,i,l,!1),d=(l&i.childLanes)!==0),p){if(d)return a1(a,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),G(cs,cs.current),d)break;return null;case 22:return i.lanes=0,Yy(a,i,l,i.pendingProps);case 24:mi(i,xs,a.memoizedState.cache)}return Dr(a,i,l)}function r1(a,i,l){if(a!==null)if(a.memoizedProps!==i.pendingProps)vs=!0;else{if(!Ag(a,l)&&(i.flags&128)===0)return vs=!1,b5(a,i,l);vs=(a.flags&131072)!==0}else vs=!1,gt&&(i.flags&1048576)!==0&&Pv(i,Fc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var d=i.pendingProps;if(a=vo(i.elementType),i.type=a,typeof a=="function")$p(a)?(d=So(a,d),i.tag=1,i=e1(null,i,a,d,l)):(i.tag=0,i=Ng(null,i,a,d,l));else{if(a!=null){var p=a.$$typeof;if(p===k){i.tag=11,i=Qy(null,i,a,d,l);break e}else if(p===z){i.tag=14,i=Zy(null,i,a,d,l);break e}}throw i=q(a)||a,Error(n(306,i,""))}}return i;case 0:return Ng(a,i,i.type,i.pendingProps,l);case 1:return d=i.type,p=So(d,i.pendingProps),e1(a,i,d,p,l);case 3:e:{if(we(i,i.stateNode.containerInfo),a===null)throw Error(n(387));d=i.pendingProps;var b=i.memoizedState;p=b.element,Wp(a,i),Qc(i,d,null,l);var C=i.memoizedState;if(d=C.cache,mi(i,xs,d),d!==b.cache&&Hp(i,[xs],l,!0),Gc(),d=C.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){i=t1(a,i,d,l);break e}else if(d!==p){p=oa(Error(n(424)),i),Lc(p),i=t1(a,i,d,l);break e}else for(a=i.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Qt=fa(a.firstChild),Gs=i,gt=!0,di=null,ua=!0,l=Yv(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(po(),d===p){i=Dr(a,i,l);break e}Zs(a,i,d,l)}i=i.child}return i;case 26:return gf(a,i),a===null?(l=gj(i.type,null,i.pendingProps,null))?i.memoizedState=l:gt||(l=i.type,a=i.pendingProps,d=Rf(Q.current).createElement(l),d[_s]=i,d[Is]=a,Ks(d,l,a),ls(d),i.stateNode=d):i.memoizedState=gj(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return ve(i),a===null&&gt&&(d=i.stateNode=mj(i.type,i.pendingProps,Q.current),Gs=i,ua=!0,p=Qt,Ei(i.type)?(u0=p,Qt=fa(d.firstChild)):Qt=p),Zs(a,i,i.pendingProps.children,l),gf(a,i),a===null&&(i.flags|=4194304),i.child;case 5:return a===null&&gt&&((p=d=Qt)&&(d=Z5(d,i.type,i.pendingProps,ua),d!==null?(i.stateNode=d,Gs=i,Qt=fa(d.firstChild),ua=!1,p=!0):p=!1),p||fi(i)),ve(i),p=i.type,b=i.pendingProps,C=a!==null?a.memoizedProps:null,d=b.children,r0(p,b)?d=null:C!==null&&r0(p,C)&&(i.flags|=32),i.memoizedState!==null&&(p=ag(a,i,c5,null,null,l),mu._currentValue=p),gf(a,i),Zs(a,i,d,l),i.child;case 6:return a===null&&gt&&((a=l=Qt)&&(l=K5(l,i.pendingProps,ua),l!==null?(i.stateNode=l,Gs=i,Qt=null,a=!0):a=!1),a||fi(i)),null;case 13:return s1(a,i,l);case 4:return we(i,i.stateNode.containerInfo),d=i.pendingProps,a===null?i.child=jo(i,null,d,l):Zs(a,i,d,l),i.child;case 11:return Qy(a,i,i.type,i.pendingProps,l);case 7:return Zs(a,i,i.pendingProps,l),i.child;case 8:return Zs(a,i,i.pendingProps.children,l),i.child;case 12:return Zs(a,i,i.pendingProps.children,l),i.child;case 10:return d=i.pendingProps,mi(i,i.type,d.value),Zs(a,i,d.children,l),i.child;case 9:return p=i.type._context,d=i.pendingProps.children,xo(i),p=Qs(p),d=d(p),i.flags|=1,Zs(a,i,d,l),i.child;case 14:return Zy(a,i,i.type,i.pendingProps,l);case 15:return Ky(a,i,i.type,i.pendingProps,l);case 19:return a1(a,i,l);case 31:return x5(a,i,l);case 22:return Yy(a,i,l,i.pendingProps);case 24:return xo(i),d=Qs(xs),a===null?(p=Zp(),p===null&&(p=Bt,b=Gp(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=l),p=b),i.memoizedState={parent:d,cache:p},Yp(i),mi(i,xs,p)):((a.lanes&l)!==0&&(Wp(a,i),Qc(i,null,null,l),Gc()),p=a.memoizedState,b=i.memoizedState,p.parent!==d?(p={parent:d,cache:d},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),mi(i,xs,d)):(d=b.cache,mi(i,xs,d),d!==p.cache&&Hp(i,[xs],l,!0))),Zs(a,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function zr(a){a.flags|=4}function Mg(a,i,l,d,p){if((i=(a.mode&32)!==0)&&(i=!1),i){if(a.flags|=16777216,(p&335544128)===p)if(a.stateNode.complete)a.flags|=8192;else if(M1())a.flags|=8192;else throw yo=ef,Kp}else a.flags&=-16777217}function i1(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!jj(i))if(M1())a.flags|=8192;else throw yo=ef,Kp}function bf(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?vr():536870912,a.lanes|=i,Cl|=i)}function Jc(a,i){if(!gt)switch(a.tailMode){case"hidden":i=a.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Zt(a){var i=a.alternate!==null&&a.alternate.child===a.child,l=0,d=0;if(i)for(var p=a.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=d,a.childLanes=l,i}function v5(a,i,l){var d=i.pendingProps;switch(Lp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(i),null;case 1:return Zt(i),null;case 3:return l=i.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Ar(xs),ue(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(fl(i)?zr(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Up())),Zt(i),null;case 26:var p=i.type,b=i.memoizedState;return a===null?(zr(i),b!==null?(Zt(i),i1(i,b)):(Zt(i),Mg(i,p,null,d,l))):b?b!==a.memoizedState?(zr(i),Zt(i),i1(i,b)):(Zt(i),i.flags&=-16777217):(a=a.memoizedProps,a!==d&&zr(i),Zt(i),Mg(i,p,a,d,l)),null;case 27:if($e(i),l=Q.current,p=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==d&&zr(i);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Zt(i),null}a=ne.current,fl(i)?Fv(i):(a=mj(p,d,l),i.stateNode=a,zr(i))}return Zt(i),null;case 5:if($e(i),p=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==d&&zr(i);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Zt(i),null}if(b=ne.current,fl(i))Fv(i);else{var C=Rf(Q.current);switch(b){case 1:b=C.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:b=C.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":b=C.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":b=C.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":b=C.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?C.createElement("select",{is:d.is}):C.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?C.createElement(p,{is:d.is}):C.createElement(p)}}b[_s]=i,b[Is]=d;e:for(C=i.child;C!==null;){if(C.tag===5||C.tag===6)b.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===i)break e;for(;C.sibling===null;){if(C.return===null||C.return===i)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}i.stateNode=b;e:switch(Ks(b,p,d),p){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&zr(i)}}return Zt(i),Mg(i,i.type,a===null?null:a.memoizedProps,i.pendingProps,l),null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==d&&zr(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(a=Q.current,fl(i)){if(a=i.stateNode,l=i.memoizedProps,d=null,p=Gs,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}a[_s]=i,a=!!(a.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||sj(a.nodeValue,l)),a||fi(i,!0)}else a=Rf(a).createTextNode(d),a[_s]=i,i.stateNode=a}return Zt(i),null;case 31:if(l=i.memoizedState,a===null||a.memoizedState!==null){if(d=fl(i),l!==null){if(a===null){if(!d)throw Error(n(318));if(a=i.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[_s]=i}else po(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Zt(i),a=!1}else l=Up(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=l),a=!0;if(!a)return i.flags&256?(Ln(i),i):(Ln(i),null);if((i.flags&128)!==0)throw Error(n(558))}return Zt(i),null;case 13:if(d=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=fl(i),d!==null&&d.dehydrated!==null){if(a===null){if(!p)throw Error(n(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[_s]=i}else po(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Zt(i),p=!1}else p=Up(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Ln(i),i):(Ln(i),null)}return Ln(i),(i.flags&128)!==0?(i.lanes=l,i):(l=d!==null,a=a!==null&&a.memoizedState!==null,l&&(d=i.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==p&&(d.flags|=2048)),l!==a&&l&&(i.child.flags|=8192),bf(i,i.updateQueue),Zt(i),null);case 4:return ue(),a===null&&e0(i.stateNode.containerInfo),Zt(i),null;case 10:return Ar(i.type),Zt(i),null;case 19:if(L(cs),d=i.memoizedState,d===null)return Zt(i),null;if(p=(i.flags&128)!==0,b=d.rendering,b===null)if(p)Jc(d,!1);else{if(rs!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(b=af(a),b!==null){for(i.flags|=128,Jc(d,!1),a=b.updateQueue,i.updateQueue=a,bf(i,a),i.subtreeFlags=0,a=l,l=i.child;l!==null;)Dv(l,a),l=l.sibling;return G(cs,cs.current&1|2),gt&&Or(i,d.treeForkCount),i.child}a=a.sibling}d.tail!==null&&_e()>Sf&&(i.flags|=128,p=!0,Jc(d,!1),i.lanes=4194304)}else{if(!p)if(a=af(b),a!==null){if(i.flags|=128,p=!0,a=a.updateQueue,i.updateQueue=a,bf(i,a),Jc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!gt)return Zt(i),null}else 2*_e()-d.renderingStartTime>Sf&&l!==536870912&&(i.flags|=128,p=!0,Jc(d,!1),i.lanes=4194304);d.isBackwards?(b.sibling=i.child,i.child=b):(a=d.last,a!==null?a.sibling=b:i.child=b,d.last=b)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=_e(),a.sibling=null,l=cs.current,G(cs,p?l&1|2:l&1),gt&&Or(i,d.treeForkCount),a):(Zt(i),null);case 22:case 23:return Ln(i),tg(),d=i.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(l&536870912)!==0&&(i.flags&128)===0&&(Zt(i),i.subtreeFlags&6&&(i.flags|=8192)):Zt(i),l=i.updateQueue,l!==null&&bf(i,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==l&&(i.flags|=2048),a!==null&&L(bo),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ar(xs),Zt(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function y5(a,i){switch(Lp(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return Ar(xs),ue(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return $e(i),null;case 31:if(i.memoizedState!==null){if(Ln(i),i.alternate===null)throw Error(n(340));po()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 13:if(Ln(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(n(340));po()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return L(cs),null;case 4:return ue(),null;case 10:return Ar(i.type),null;case 22:case 23:return Ln(i),tg(),a!==null&&L(bo),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return Ar(xs),null;case 25:return null;default:return null}}function o1(a,i){switch(Lp(i),i.tag){case 3:Ar(xs),ue();break;case 26:case 27:case 5:$e(i);break;case 4:ue();break;case 31:i.memoizedState!==null&&Ln(i);break;case 13:Ln(i);break;case 19:L(cs);break;case 10:Ar(i.type);break;case 22:case 23:Ln(i),tg(),a!==null&&L(bo);break;case 24:Ar(xs)}}function eu(a,i){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&a)===a){d=void 0;var b=l.create,C=l.inst;d=b(),C.destroy=d}l=l.next}while(l!==p)}}catch(M){Ot(i,i.return,M)}}function vi(a,i,l){try{var d=i.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&a)===a){var C=d.inst,M=C.destroy;if(M!==void 0){C.destroy=void 0,p=i;var X=l,ce=M;try{ce()}catch(ge){Ot(p,X,ge)}}}d=d.next}while(d!==b)}}catch(ge){Ot(i,i.return,ge)}}function l1(a){var i=a.updateQueue;if(i!==null){var l=a.stateNode;try{Xv(i,l)}catch(d){Ot(a,a.return,d)}}}function c1(a,i,l){l.props=So(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(d){Ot(a,i,d)}}function tu(a,i){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof l=="function"?a.refCleanup=l(d):l.current=d}}catch(p){Ot(a,i,p)}}function Va(a,i){var l=a.ref,d=a.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(p){Ot(a,i,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Ot(a,i,p)}else l.current=null}function u1(a){var i=a.type,l=a.memoizedProps,d=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(p){Ot(a,a.return,p)}}function Rg(a,i,l){try{var d=a.stateNode;U5(d,a.type,l,i),d[Is]=i}catch(p){Ot(a,a.return,p)}}function d1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ei(a.type)||a.tag===4}function Dg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||d1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ei(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function zg(a,i,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(a),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Er));else if(d!==4&&(d===27&&Ei(a.type)&&(l=a.stateNode,i=null),a=a.child,a!==null))for(zg(a,i,l),a=a.sibling;a!==null;)zg(a,i,l),a=a.sibling}function vf(a,i,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,i?l.insertBefore(a,i):l.appendChild(a);else if(d!==4&&(d===27&&Ei(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(vf(a,i,l),a=a.sibling;a!==null;)vf(a,i,l),a=a.sibling}function f1(a){var i=a.stateNode,l=a.memoizedProps;try{for(var d=a.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Ks(i,d,l),i[_s]=a,i[Is]=l}catch(b){Ot(a,a.return,b)}}var $r=!1,ys=!1,$g=!1,m1=typeof WeakSet=="function"?WeakSet:Set,Ls=null;function j5(a,i){if(a=a.containerInfo,n0=Lf,a=Cv(a),Op(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var C=0,M=-1,X=-1,ce=0,ge=0,ye=a,de=null;t:for(;;){for(var me;ye!==l||p!==0&&ye.nodeType!==3||(M=C+p),ye!==b||d!==0&&ye.nodeType!==3||(X=C+d),ye.nodeType===3&&(C+=ye.nodeValue.length),(me=ye.firstChild)!==null;)de=ye,ye=me;for(;;){if(ye===a)break t;if(de===l&&++ce===p&&(M=C),de===b&&++ge===d&&(X=C),(me=ye.nextSibling)!==null)break;ye=de,de=ye.parentNode}ye=me}l=M===-1||X===-1?null:{start:M,end:X}}else l=null}l=l||{start:0,end:0}}else l=null;for(a0={focusedElem:a,selectionRange:l},Lf=!1,Ls=i;Ls!==null;)if(i=Ls,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,Ls=a;else for(;Ls!==null;){switch(i=Ls,b=i.alternate,a=i.flags,i.tag){case 0:if((a&4)!==0&&(a=i.updateQueue,a=a!==null?a.events:null,a!==null))for(l=0;l<a.length;l++)p=a[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,l=i,p=b.memoizedProps,b=b.memoizedState,d=l.stateNode;try{var Ie=So(l.type,p);a=d.getSnapshotBeforeUpdate(Ie,b),d.__reactInternalSnapshotBeforeUpdate=a}catch(Ke){Ot(l,l.return,Ke)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,l=a.nodeType,l===9)o0(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":o0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=i.sibling,a!==null){a.return=i.return,Ls=a;break}Ls=i.return}}function h1(a,i,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Ir(a,l),d&4&&eu(5,l);break;case 1:if(Ir(a,l),d&4)if(a=l.stateNode,i===null)try{a.componentDidMount()}catch(C){Ot(l,l.return,C)}else{var p=So(l.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(p,i,a.__reactInternalSnapshotBeforeUpdate)}catch(C){Ot(l,l.return,C)}}d&64&&l1(l),d&512&&tu(l,l.return);break;case 3:if(Ir(a,l),d&64&&(a=l.updateQueue,a!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Xv(a,i)}catch(C){Ot(l,l.return,C)}}break;case 27:i===null&&d&4&&f1(l);case 26:case 5:Ir(a,l),i===null&&d&4&&u1(l),d&512&&tu(l,l.return);break;case 12:Ir(a,l);break;case 31:Ir(a,l),d&4&&x1(a,l);break;case 13:Ir(a,l),d&4&&b1(a,l),d&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=k5.bind(null,l),Y5(a,l))));break;case 22:if(d=l.memoizedState!==null||$r,!d){i=i!==null&&i.memoizedState!==null||ys,p=$r;var b=ys;$r=d,(ys=i)&&!b?Fr(a,l,(l.subtreeFlags&8772)!==0):Ir(a,l),$r=p,ys=b}break;case 30:break;default:Ir(a,l)}}function p1(a){var i=a.alternate;i!==null&&(a.alternate=null,p1(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&Wo(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Wt=null,wn=!1;function Pr(a,i,l){for(l=l.child;l!==null;)g1(a,i,l),l=l.sibling}function g1(a,i,l){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(yt,l)}catch{}switch(l.tag){case 26:ys||Va(l,i),Pr(a,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ys||Va(l,i);var d=Wt,p=wn;Ei(l.type)&&(Wt=l.stateNode,wn=!1),Pr(a,i,l),uu(l.stateNode),Wt=d,wn=p;break;case 5:ys||Va(l,i);case 6:if(d=Wt,p=wn,Wt=null,Pr(a,i,l),Wt=d,wn=p,Wt!==null)if(wn)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(l.stateNode)}catch(b){Ot(l,i,b)}else try{Wt.removeChild(l.stateNode)}catch(b){Ot(l,i,b)}break;case 18:Wt!==null&&(wn?(a=Wt,lj(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),Rl(a)):lj(Wt,l.stateNode));break;case 4:d=Wt,p=wn,Wt=l.stateNode.containerInfo,wn=!0,Pr(a,i,l),Wt=d,wn=p;break;case 0:case 11:case 14:case 15:vi(2,l,i),ys||vi(4,l,i),Pr(a,i,l);break;case 1:ys||(Va(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"&&c1(l,i,d)),Pr(a,i,l);break;case 21:Pr(a,i,l);break;case 22:ys=(d=ys)||l.memoizedState!==null,Pr(a,i,l),ys=d;break;default:Pr(a,i,l)}}function x1(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Rl(a)}catch(l){Ot(i,i.return,l)}}}function b1(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Rl(a)}catch(l){Ot(i,i.return,l)}}function w5(a){switch(a.tag){case 31:case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new m1),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new m1),i;default:throw Error(n(435,a.tag))}}function yf(a,i){var l=w5(a);i.forEach(function(d){if(!l.has(d)){l.add(d);var p=A5.bind(null,a,d);d.then(p,p)}})}function Sn(a,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d],b=a,C=i,M=C;e:for(;M!==null;){switch(M.tag){case 27:if(Ei(M.type)){Wt=M.stateNode,wn=!1;break e}break;case 5:Wt=M.stateNode,wn=!1;break e;case 3:case 4:Wt=M.stateNode.containerInfo,wn=!0;break e}M=M.return}if(Wt===null)throw Error(n(160));g1(b,C,p),Wt=null,wn=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)v1(i,a),i=i.sibling}var Na=null;function v1(a,i){var l=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Sn(i,a),Nn(a),d&4&&(vi(3,a,a.return),eu(3,a),vi(5,a,a.return));break;case 1:Sn(i,a),Nn(a),d&512&&(ys||l===null||Va(l,l.return)),d&64&&$r&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var p=Na;if(Sn(i,a),Nn(a),d&512&&(ys||l===null||Va(l,l.return)),d&4){var b=l!==null?l.memoizedState:null;if(d=a.memoizedState,l===null)if(d===null)if(a.stateNode===null){e:{d=a.type,l=a.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":b=p.getElementsByTagName("title")[0],(!b||b[lo]||b[_s]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(d),p.head.insertBefore(b,p.querySelector("head > title"))),Ks(b,d,l),b[_s]=a,ls(b),d=b;break e;case"link":var C=vj("link","href",p).get(d+(l.href||""));if(C){for(var M=0;M<C.length;M++)if(b=C[M],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(M,1);break t}}b=p.createElement(d),Ks(b,d,l),p.head.appendChild(b);break;case"meta":if(C=vj("meta","content",p).get(d+(l.content||""))){for(M=0;M<C.length;M++)if(b=C[M],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(M,1);break t}}b=p.createElement(d),Ks(b,d,l),p.head.appendChild(b);break;default:throw Error(n(468,d))}b[_s]=a,ls(b),d=b}a.stateNode=d}else yj(p,a.type,a.stateNode);else a.stateNode=bj(p,d,a.memoizedProps);else b!==d?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,d===null?yj(p,a.type,a.stateNode):bj(p,d,a.memoizedProps)):d===null&&a.stateNode!==null&&Rg(a,a.memoizedProps,l.memoizedProps)}break;case 27:Sn(i,a),Nn(a),d&512&&(ys||l===null||Va(l,l.return)),l!==null&&d&4&&Rg(a,a.memoizedProps,l.memoizedProps);break;case 5:if(Sn(i,a),Nn(a),d&512&&(ys||l===null||Va(l,l.return)),a.flags&32){p=a.stateNode;try{Yt(p,"")}catch(Ie){Ot(a,a.return,Ie)}}d&4&&a.stateNode!=null&&(p=a.memoizedProps,Rg(a,p,l!==null?l.memoizedProps:p)),d&1024&&($g=!0);break;case 6:if(Sn(i,a),Nn(a),d&4){if(a.stateNode===null)throw Error(n(162));d=a.memoizedProps,l=a.stateNode;try{l.nodeValue=d}catch(Ie){Ot(a,a.return,Ie)}}break;case 3:if($f=null,p=Na,Na=Df(i.containerInfo),Sn(i,a),Na=p,Nn(a),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Rl(i.containerInfo)}catch(Ie){Ot(a,a.return,Ie)}$g&&($g=!1,y1(a));break;case 4:d=Na,Na=Df(a.stateNode.containerInfo),Sn(i,a),Nn(a),Na=d;break;case 12:Sn(i,a),Nn(a);break;case 31:Sn(i,a),Nn(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,yf(a,d)));break;case 13:Sn(i,a),Nn(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(wf=_e()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,yf(a,d)));break;case 22:p=a.memoizedState!==null;var X=l!==null&&l.memoizedState!==null,ce=$r,ge=ys;if($r=ce||p,ys=ge||X,Sn(i,a),ys=ge,$r=ce,Nn(a),d&8192)e:for(i=a.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(l===null||X||$r||ys||No(a)),l=null,i=a;;){if(i.tag===5||i.tag===26){if(l===null){X=l=i;try{if(b=X.stateNode,p)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{M=X.stateNode;var ye=X.memoizedProps.style,de=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;M.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Ie){Ot(X,X.return,Ie)}}}else if(i.tag===6){if(l===null){X=i;try{X.stateNode.nodeValue=p?"":X.memoizedProps}catch(Ie){Ot(X,X.return,Ie)}}}else if(i.tag===18){if(l===null){X=i;try{var me=X.stateNode;p?cj(me,!0):cj(X.stateNode,!1)}catch(Ie){Ot(X,X.return,Ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=a.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,yf(a,l))));break;case 19:Sn(i,a),Nn(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,yf(a,d)));break;case 30:break;case 21:break;default:Sn(i,a),Nn(a)}}function Nn(a){var i=a.flags;if(i&2){try{for(var l,d=a.return;d!==null;){if(d1(d)){l=d;break}d=d.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var p=l.stateNode,b=Dg(a);vf(a,b,p);break;case 5:var C=l.stateNode;l.flags&32&&(Yt(C,""),l.flags&=-33);var M=Dg(a);vf(a,M,C);break;case 3:case 4:var X=l.stateNode.containerInfo,ce=Dg(a);zg(a,ce,X);break;default:throw Error(n(161))}}catch(ge){Ot(a,a.return,ge)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function y1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;y1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function Ir(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)h1(a,i.alternate,i),i=i.sibling}function No(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:vi(4,i,i.return),No(i);break;case 1:Va(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&c1(i,i.return,l),No(i);break;case 27:uu(i.stateNode);case 26:case 5:Va(i,i.return),No(i);break;case 22:i.memoizedState===null&&No(i);break;case 30:No(i);break;default:No(i)}a=a.sibling}}function Fr(a,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,p=a,b=i,C=b.flags;switch(b.tag){case 0:case 11:case 15:Fr(p,b,l),eu(4,b);break;case 1:if(Fr(p,b,l),d=b,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ce){Ot(d,d.return,ce)}if(d=b,p=d.updateQueue,p!==null){var M=d.stateNode;try{var X=p.shared.hiddenCallbacks;if(X!==null)for(p.shared.hiddenCallbacks=null,p=0;p<X.length;p++)Wv(X[p],M)}catch(ce){Ot(d,d.return,ce)}}l&&C&64&&l1(b),tu(b,b.return);break;case 27:f1(b);case 26:case 5:Fr(p,b,l),l&&d===null&&C&4&&u1(b),tu(b,b.return);break;case 12:Fr(p,b,l);break;case 31:Fr(p,b,l),l&&C&4&&x1(p,b);break;case 13:Fr(p,b,l),l&&C&4&&b1(p,b);break;case 22:b.memoizedState===null&&Fr(p,b,l),tu(b,b.return);break;case 30:break;default:Fr(p,b,l)}i=i.sibling}}function Pg(a,i){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&qc(l))}function Ig(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&qc(a))}function Ca(a,i,l,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)j1(a,i,l,d),i=i.sibling}function j1(a,i,l,d){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Ca(a,i,l,d),p&2048&&eu(9,i);break;case 1:Ca(a,i,l,d);break;case 3:Ca(a,i,l,d),p&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&qc(a)));break;case 12:if(p&2048){Ca(a,i,l,d),a=i.stateNode;try{var b=i.memoizedProps,C=b.id,M=b.onPostCommit;typeof M=="function"&&M(C,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(X){Ot(i,i.return,X)}}else Ca(a,i,l,d);break;case 31:Ca(a,i,l,d);break;case 13:Ca(a,i,l,d);break;case 23:break;case 22:b=i.stateNode,C=i.alternate,i.memoizedState!==null?b._visibility&2?Ca(a,i,l,d):su(a,i):b._visibility&2?Ca(a,i,l,d):(b._visibility|=2,wl(a,i,l,d,(i.subtreeFlags&10256)!==0||!1)),p&2048&&Pg(C,i);break;case 24:Ca(a,i,l,d),p&2048&&Ig(i.alternate,i);break;default:Ca(a,i,l,d)}}function wl(a,i,l,d,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var b=a,C=i,M=l,X=d,ce=C.flags;switch(C.tag){case 0:case 11:case 15:wl(b,C,M,X,p),eu(8,C);break;case 23:break;case 22:var ge=C.stateNode;C.memoizedState!==null?ge._visibility&2?wl(b,C,M,X,p):su(b,C):(ge._visibility|=2,wl(b,C,M,X,p)),p&&ce&2048&&Pg(C.alternate,C);break;case 24:wl(b,C,M,X,p),p&&ce&2048&&Ig(C.alternate,C);break;default:wl(b,C,M,X,p)}i=i.sibling}}function su(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=a,d=i,p=d.flags;switch(d.tag){case 22:su(l,d),p&2048&&Pg(d.alternate,d);break;case 24:su(l,d),p&2048&&Ig(d.alternate,d);break;default:su(l,d)}i=i.sibling}}var nu=8192;function Sl(a,i,l){if(a.subtreeFlags&nu)for(a=a.child;a!==null;)w1(a,i,l),a=a.sibling}function w1(a,i,l){switch(a.tag){case 26:Sl(a,i,l),a.flags&nu&&a.memoizedState!==null&&lT(l,Na,a.memoizedState,a.memoizedProps);break;case 5:Sl(a,i,l);break;case 3:case 4:var d=Na;Na=Df(a.stateNode.containerInfo),Sl(a,i,l),Na=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=nu,nu=16777216,Sl(a,i,l),nu=d):Sl(a,i,l));break;default:Sl(a,i,l)}}function S1(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function au(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];Ls=d,C1(d,a)}S1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)N1(a),a=a.sibling}function N1(a){switch(a.tag){case 0:case 11:case 15:au(a),a.flags&2048&&vi(9,a,a.return);break;case 3:au(a);break;case 12:au(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&2&&(a.return===null||a.return.tag!==13)?(i._visibility&=-3,jf(a)):au(a);break;default:au(a)}}function jf(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];Ls=d,C1(d,a)}S1(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:vi(8,i,i.return),jf(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,jf(i));break;default:jf(i)}a=a.sibling}}function C1(a,i){for(;Ls!==null;){var l=Ls;switch(l.tag){case 0:case 11:case 15:vi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:qc(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Ls=d;else e:for(l=a;Ls!==null;){d=Ls;var p=d.sibling,b=d.return;if(p1(d),d===l){Ls=null;break e}if(p!==null){p.return=b,Ls=p;break e}Ls=b}}}var S5={getCacheForType:function(a){var i=Qs(xs),l=i.data.get(a);return l===void 0&&(l=a(),i.data.set(a,l)),l},cacheSignal:function(){return Qs(xs).controller.signal}},N5=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Bt=null,ct=null,mt=0,Tt=0,qn=null,yi=!1,Nl=!1,Fg=!1,Lr=0,rs=0,ji=0,Co=0,Lg=0,Un=0,Cl=0,ru=null,Cn=null,qg=!1,wf=0,E1=0,Sf=1/0,Nf=null,wi=null,Ts=0,Si=null,El=null,qr=0,Ug=0,Bg=null,_1=null,iu=0,Vg=null;function Bn(){return(Nt&2)!==0&&mt!==0?mt&-mt:A.T!==null?Yg():kd()}function T1(){if(Un===0)if((mt&536870912)===0||gt){var a=Qo;Qo<<=1,(Qo&3932160)===0&&(Qo=262144),Un=a}else Un=536870912;return a=Fn.current,a!==null&&(a.flags|=32),Un}function En(a,i,l){(a===Bt&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)&&(_l(a,0),Ni(a,mt,Un,!1)),oo(a,l),((Nt&2)===0||a!==Bt)&&(a===Bt&&((Nt&2)===0&&(Co|=l),rs===4&&Ni(a,mt,Un,!1)),Ha(a))}function O1(a,i,l){if((Nt&6)!==0)throw Error(n(327));var d=!l&&(i&127)===0&&(i&a.expiredLanes)===0||br(a,i),p=d?_5(a,i):Gg(a,i,!0),b=d;do{if(p===0){Nl&&!d&&Ni(a,i,0,!1);break}else{if(l=a.current.alternate,b&&!C5(l)){p=Gg(a,i,!1),b=!1;continue}if(p===2){if(b=i,a.errorRecoveryDisabledLanes&b)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var M=a;p=ru;var X=M.current.memoizedState.isDehydrated;if(X&&(_l(M,C).flags|=256),C=Gg(M,C,!1),C!==2){if(Fg&&!X){M.errorRecoveryDisabledLanes|=b,Co|=b,p=4;break e}b=Cn,Cn=p,b!==null&&(Cn===null?Cn=b:Cn.push.apply(Cn,b))}p=C}if(b=!1,p!==2)continue}}if(p===1){_l(a,0),Ni(a,i,0,!0);break}e:{switch(d=a,b=p,b){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Ni(d,i,Un,!yi);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(p=wf+300-_e(),10<p)){if(Ni(d,i,Un,!yi),Zo(d,0,!0)!==0)break e;qr=i,d.timeoutHandle=ij(k1.bind(null,d,l,Cn,Nf,qg,i,Un,Co,Cl,yi,b,"Throttled",-0,0),p);break e}k1(d,l,Cn,Nf,qg,i,Un,Co,Cl,yi,b,null,-0,0)}}break}while(!0);Ha(a)}function k1(a,i,l,d,p,b,C,M,X,ce,ge,ye,de,me){if(a.timeoutHandle=-1,ye=i.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Er},w1(i,b,ye);var Ie=(b&62914560)===b?wf-_e():(b&4194048)===b?E1-_e():0;if(Ie=cT(ye,Ie),Ie!==null){qr=b,a.cancelPendingCommit=Ie(I1.bind(null,a,i,b,l,d,p,C,M,X,ge,ye,null,de,me)),Ni(a,b,C,!ce);return}}I1(a,i,b,l,d,p,C,M,X)}function C5(a){for(var i=a;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var p=l[d],b=p.getSnapshot;p=p.value;try{if(!Pn(b(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ni(a,i,l,d){i&=~Lg,i&=~Co,a.suspendedLanes|=i,a.pingedLanes&=~i,d&&(a.warmLanes|=i),d=a.expirationTimes;for(var p=i;0<p;){var b=31-_t(p),C=1<<b;d[b]=-1,p&=~C}l!==0&&Ko(a,l,i)}function Cf(){return(Nt&6)===0?(ou(0),!1):!0}function Hg(){if(ct!==null){if(Tt===0)var a=ct.return;else a=ct,kr=go=null,og(a),xl=null,Bc=0,a=ct;for(;a!==null;)o1(a.alternate,a),a=a.return;ct=null}}function _l(a,i){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,H5(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),qr=0,Hg(),Bt=a,ct=l=Tr(a.current,null),mt=i,Tt=0,qn=null,yi=!1,Nl=br(a,i),Fg=!1,Cl=Un=Lg=Co=ji=rs=0,Cn=ru=null,qg=!1,(i&8)!==0&&(i|=i&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=i;0<d;){var p=31-_t(d),b=1<<p;i|=a[p],d&=~b}return Lr=i,Hd(),l}function A1(a,i){st=null,A.H=Wc,i===gl||i===Jd?(i=Qv(),Tt=3):i===Kp?(i=Qv(),Tt=4):Tt=i===Sg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,qn=i,ct===null&&(rs=1,hf(a,oa(i,a.current)))}function M1(){var a=Fn.current;return a===null?!0:(mt&4194048)===mt?da===null:(mt&62914560)===mt||(mt&536870912)!==0?a===da:!1}function R1(){var a=A.H;return A.H=Wc,a===null?Wc:a}function D1(){var a=A.A;return A.A=S5,a}function Ef(){rs=4,yi||(mt&4194048)!==mt&&Fn.current!==null||(Nl=!0),(ji&134217727)===0&&(Co&134217727)===0||Bt===null||Ni(Bt,mt,Un,!1)}function Gg(a,i,l){var d=Nt;Nt|=2;var p=R1(),b=D1();(Bt!==a||mt!==i)&&(Nf=null,_l(a,i)),i=!1;var C=rs;e:do try{if(Tt!==0&&ct!==null){var M=ct,X=qn;switch(Tt){case 8:Hg(),C=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(i=!0);var ce=Tt;if(Tt=0,qn=null,Tl(a,M,X,ce),l&&Nl){C=0;break e}break;default:ce=Tt,Tt=0,qn=null,Tl(a,M,X,ce)}}E5(),C=rs;break}catch(ge){A1(a,ge)}while(!0);return i&&a.shellSuspendCounter++,kr=go=null,Nt=d,A.H=p,A.A=b,ct===null&&(Bt=null,mt=0,Hd()),C}function E5(){for(;ct!==null;)z1(ct)}function _5(a,i){var l=Nt;Nt|=2;var d=R1(),p=D1();Bt!==a||mt!==i?(Nf=null,Sf=_e()+500,_l(a,i)):Nl=br(a,i);e:do try{if(Tt!==0&&ct!==null){i=ct;var b=qn;t:switch(Tt){case 1:Tt=0,qn=null,Tl(a,i,b,1);break;case 2:case 9:if(Hv(b)){Tt=0,qn=null,$1(i);break}i=function(){Tt!==2&&Tt!==9||Bt!==a||(Tt=7),Ha(a)},b.then(i,i);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:Hv(b)?(Tt=0,qn=null,$1(i)):(Tt=0,qn=null,Tl(a,i,b,7));break;case 5:var C=null;switch(ct.tag){case 26:C=ct.memoizedState;case 5:case 27:var M=ct;if(C?jj(C):M.stateNode.complete){Tt=0,qn=null;var X=M.sibling;if(X!==null)ct=X;else{var ce=M.return;ce!==null?(ct=ce,_f(ce)):ct=null}break t}}Tt=0,qn=null,Tl(a,i,b,5);break;case 6:Tt=0,qn=null,Tl(a,i,b,6);break;case 8:Hg(),rs=6;break e;default:throw Error(n(462))}}T5();break}catch(ge){A1(a,ge)}while(!0);return kr=go=null,A.H=d,A.A=p,Nt=l,ct!==null?0:(Bt=null,mt=0,Hd(),rs)}function T5(){for(;ct!==null&&!ie();)z1(ct)}function z1(a){var i=r1(a.alternate,a,Lr);a.memoizedProps=a.pendingProps,i===null?_f(a):ct=i}function $1(a){var i=a,l=i.alternate;switch(i.tag){case 15:case 0:i=Jy(l,i,i.pendingProps,i.type,void 0,mt);break;case 11:i=Jy(l,i,i.pendingProps,i.type.render,i.ref,mt);break;case 5:og(i);default:o1(l,i),i=ct=Dv(i,Lr),i=r1(l,i,Lr)}a.memoizedProps=a.pendingProps,i===null?_f(a):ct=i}function Tl(a,i,l,d){kr=go=null,og(i),xl=null,Bc=0;var p=i.return;try{if(g5(a,p,i,l,mt)){rs=1,hf(a,oa(l,a.current)),ct=null;return}}catch(b){if(p!==null)throw ct=p,b;rs=1,hf(a,oa(l,a.current)),ct=null;return}i.flags&32768?(gt||d===1?a=!0:Nl||(mt&536870912)!==0?a=!1:(yi=a=!0,(d===2||d===9||d===3||d===6)&&(d=Fn.current,d!==null&&d.tag===13&&(d.flags|=16384))),P1(i,a)):_f(i)}function _f(a){var i=a;do{if((i.flags&32768)!==0){P1(i,yi);return}a=i.return;var l=v5(i.alternate,i,Lr);if(l!==null){ct=l;return}if(i=i.sibling,i!==null){ct=i;return}ct=i=a}while(i!==null);rs===0&&(rs=5)}function P1(a,i){do{var l=y5(a.alternate,a);if(l!==null){l.flags&=32767,ct=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(a=a.sibling,a!==null)){ct=a;return}ct=a=l}while(a!==null);rs=6,ct=null}function I1(a,i,l,d,p,b,C,M,X){a.cancelPendingCommit=null;do Tf();while(Ts!==0);if((Nt&6)!==0)throw Error(n(327));if(i!==null){if(i===a.current)throw Error(n(177));if(b=i.lanes|i.childLanes,b|=Dp,wc(a,l,b,C,M,X),a===Bt&&(ct=Bt=null,mt=0),El=i,Si=a,qr=l,Ug=b,Bg=p,_1=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,M5(We,function(){return B1(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=A.T,A.T=null,p=I.p,I.p=2,C=Nt,Nt|=4;try{j5(a,i,l)}finally{Nt=C,I.p=p,A.T=d}}Ts=1,F1(),L1(),q1()}}function F1(){if(Ts===1){Ts=0;var a=Si,i=El,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=A.T,A.T=null;var d=I.p;I.p=2;var p=Nt;Nt|=4;try{v1(i,a);var b=a0,C=Cv(a.containerInfo),M=b.focusedElem,X=b.selectionRange;if(C!==M&&M&&M.ownerDocument&&Nv(M.ownerDocument.documentElement,M)){if(X!==null&&Op(M)){var ce=X.start,ge=X.end;if(ge===void 0&&(ge=ce),"selectionStart"in M)M.selectionStart=ce,M.selectionEnd=Math.min(ge,M.value.length);else{var ye=M.ownerDocument||document,de=ye&&ye.defaultView||window;if(de.getSelection){var me=de.getSelection(),Ie=M.textContent.length,Ke=Math.min(X.start,Ie),Ft=X.end===void 0?Ke:Math.min(X.end,Ie);!me.extend&&Ke>Ft&&(C=Ft,Ft=Ke,Ke=C);var ae=Sv(M,Ke),se=Sv(M,Ft);if(ae&&se&&(me.rangeCount!==1||me.anchorNode!==ae.node||me.anchorOffset!==ae.offset||me.focusNode!==se.node||me.focusOffset!==se.offset)){var le=ye.createRange();le.setStart(ae.node,ae.offset),me.removeAllRanges(),Ke>Ft?(me.addRange(le),me.extend(se.node,se.offset)):(le.setEnd(se.node,se.offset),me.addRange(le))}}}}for(ye=[],me=M;me=me.parentNode;)me.nodeType===1&&ye.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ye.length;M++){var be=ye[M];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}Lf=!!n0,a0=n0=null}finally{Nt=p,I.p=d,A.T=l}}a.current=i,Ts=2}}function L1(){if(Ts===2){Ts=0;var a=Si,i=El,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=A.T,A.T=null;var d=I.p;I.p=2;var p=Nt;Nt|=4;try{h1(a,i.alternate,i)}finally{Nt=p,I.p=d,A.T=l}}Ts=3}}function q1(){if(Ts===4||Ts===3){Ts=0,pe();var a=Si,i=El,l=qr,d=_1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ts=5:(Ts=0,El=Si=null,U1(a,a.pendingLanes));var p=a.pendingLanes;if(p===0&&(wi=null),Nc(l),i=i.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(yt,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=A.T,p=I.p,I.p=2,A.T=null;try{for(var b=a.onRecoverableError,C=0;C<d.length;C++){var M=d[C];b(M.value,{componentStack:M.stack})}}finally{A.T=i,I.p=p}}(qr&3)!==0&&Tf(),Ha(a),p=a.pendingLanes,(l&261930)!==0&&(p&42)!==0?a===Vg?iu++:(iu=0,Vg=a):iu=0,ou(0)}}function U1(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,qc(i)))}function Tf(){return F1(),L1(),q1(),B1()}function B1(){if(Ts!==5)return!1;var a=Si,i=Ug;Ug=0;var l=Nc(qr),d=A.T,p=I.p;try{I.p=32>l?32:l,A.T=null,l=Bg,Bg=null;var b=Si,C=qr;if(Ts=0,El=Si=null,qr=0,(Nt&6)!==0)throw Error(n(331));var M=Nt;if(Nt|=4,N1(b.current),j1(b,b.current,C,l),Nt=M,ou(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(yt,b)}catch{}return!0}finally{I.p=p,A.T=d,U1(a,i)}}function V1(a,i,l){i=oa(l,i),i=wg(a.stateNode,i,2),a=gi(a,i,2),a!==null&&(oo(a,2),Ha(a))}function Ot(a,i,l){if(a.tag===3)V1(a,a,l);else for(;i!==null;){if(i.tag===3){V1(i,a,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(wi===null||!wi.has(d))){a=oa(l,a),l=Hy(2),d=gi(i,l,2),d!==null&&(Gy(l,d,i,a),oo(d,2),Ha(d));break}}i=i.return}}function Qg(a,i,l){var d=a.pingCache;if(d===null){d=a.pingCache=new N5;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(Fg=!0,p.add(l),a=O5.bind(null,a,i,l),i.then(a,a))}function O5(a,i,l){var d=a.pingCache;d!==null&&d.delete(i),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,Bt===a&&(mt&l)===l&&(rs===4||rs===3&&(mt&62914560)===mt&&300>_e()-wf?(Nt&2)===0&&_l(a,0):Lg|=l,Cl===mt&&(Cl=0)),Ha(a)}function H1(a,i){i===0&&(i=vr()),a=mo(a,i),a!==null&&(oo(a,i),Ha(a))}function k5(a){var i=a.memoizedState,l=0;i!==null&&(l=i.retryLane),H1(a,l)}function A5(a,i){var l=0;switch(a.tag){case 31:case 13:var d=a.stateNode,p=a.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(i),H1(a,l)}function M5(a,i){return Vs(a,i)}var Of=null,Ol=null,Zg=!1,kf=!1,Kg=!1,Ci=0;function Ha(a){a!==Ol&&a.next===null&&(Ol===null?Of=Ol=a:Ol=Ol.next=a),kf=!0,Zg||(Zg=!0,D5())}function ou(a,i){if(!Kg&&kf){Kg=!0;do for(var l=!1,d=Of;d!==null;){if(a!==0){var p=d.pendingLanes;if(p===0)var b=0;else{var C=d.suspendedLanes,M=d.pingedLanes;b=(1<<31-_t(42|a)+1)-1,b&=p&~(C&~M),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,K1(d,b))}else b=mt,b=Zo(d,d===Bt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||br(d,b)||(l=!0,K1(d,b));d=d.next}while(l);Kg=!1}}function R5(){G1()}function G1(){kf=Zg=!1;var a=0;Ci!==0&&V5()&&(a=Ci);for(var i=_e(),l=null,d=Of;d!==null;){var p=d.next,b=Q1(d,i);b===0?(d.next=null,l===null?Of=p:l.next=p,p===null&&(Ol=l)):(l=d,(a!==0||(b&3)!==0)&&(kf=!0)),d=p}Ts!==0&&Ts!==5||ou(a),Ci!==0&&(Ci=0)}function Q1(a,i){for(var l=a.suspendedLanes,d=a.pingedLanes,p=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var C=31-_t(b),M=1<<C,X=p[C];X===-1?((M&l)===0||(M&d)!==0)&&(p[C]=ja(M,i)):X<=i&&(a.expiredLanes|=M),b&=~M}if(i=Bt,l=mt,l=Zo(a,a===i?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,l===0||a===i&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&J(d),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||br(a,l)){if(i=l&-l,i===a.callbackPriority)return i;switch(d!==null&&J(d),Nc(l)){case 2:case 8:l=De;break;case 32:l=We;break;case 268435456:l=qe;break;default:l=We}return d=Z1.bind(null,a),l=Vs(l,d),a.callbackPriority=i,a.callbackNode=l,i}return d!==null&&d!==null&&J(d),a.callbackPriority=2,a.callbackNode=null,2}function Z1(a,i){if(Ts!==0&&Ts!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(Tf()&&a.callbackNode!==l)return null;var d=mt;return d=Zo(a,a===Bt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(O1(a,d,i),Q1(a,_e()),a.callbackNode!=null&&a.callbackNode===l?Z1.bind(null,a):null)}function K1(a,i){if(Tf())return null;O1(a,i,!0)}function D5(){G5(function(){(Nt&6)!==0?Vs(Ce,R5):G1()})}function Yg(){if(Ci===0){var a=hl;a===0&&(a=Go,Go<<=1,(Go&261888)===0&&(Go=256)),Ci=a}return Ci}function Y1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:sl(""+a)}function W1(a,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,a.id&&l.setAttribute("form",a.id),i.parentNode.insertBefore(l,i),a=new FormData(a),l.parentNode.removeChild(l),a}function z5(a,i,l,d,p){if(i==="submit"&&l&&l.stateNode===p){var b=Y1((p[Is]||null).action),C=d.submitter;C&&(i=(i=C[Is]||null)?Y1(i.formAction):C.getAttribute("formAction"),i!==null&&(b=i,C=null));var M=new qd("action","action",null,d,p);a.push({event:M,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ci!==0){var X=C?W1(p,C):new FormData(p);gg(l,{pending:!0,data:X,method:p.method,action:b},null,X)}}else typeof b=="function"&&(M.preventDefault(),X=C?W1(p,C):new FormData(p),gg(l,{pending:!0,data:X,method:p.method,action:b},b,X))},currentTarget:p}]})}}for(var Wg=0;Wg<Rp.length;Wg++){var Xg=Rp[Wg],$5=Xg.toLowerCase(),P5=Xg[0].toUpperCase()+Xg.slice(1);Sa($5,"on"+P5)}Sa(Tv,"onAnimationEnd"),Sa(Ov,"onAnimationIteration"),Sa(kv,"onAnimationStart"),Sa("dblclick","onDoubleClick"),Sa("focusin","onFocus"),Sa("focusout","onBlur"),Sa(J4,"onTransitionRun"),Sa(e5,"onTransitionStart"),Sa(t5,"onTransitionCancel"),Sa(Av,"onTransitionEnd"),aa("onMouseEnter",["mouseout","mouseover"]),aa("onMouseLeave",["mouseout","mouseover"]),aa("onPointerEnter",["pointerout","pointerover"]),aa("onPointerLeave",["pointerout","pointerover"]),La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),La("onBeforeInput",["compositionend","keypress","textInput","paste"]),La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function X1(a,i){i=(i&4)!==0;for(var l=0;l<a.length;l++){var d=a[l],p=d.event;d=d.listeners;e:{var b=void 0;if(i)for(var C=d.length-1;0<=C;C--){var M=d[C],X=M.instance,ce=M.currentTarget;if(M=M.listener,X!==b&&p.isPropagationStopped())break e;b=M,p.currentTarget=ce;try{b(p)}catch(ge){Vd(ge)}p.currentTarget=null,b=X}else for(C=0;C<d.length;C++){if(M=d[C],X=M.instance,ce=M.currentTarget,M=M.listener,X!==b&&p.isPropagationStopped())break e;b=M,p.currentTarget=ce;try{b(p)}catch(ge){Vd(ge)}p.currentTarget=null,b=X}}}}function ut(a,i){var l=i[Cc];l===void 0&&(l=i[Cc]=new Set);var d=a+"__bubble";l.has(d)||(J1(i,a,2,!1),l.add(d))}function Jg(a,i,l){var d=0;i&&(d|=4),J1(l,a,d,i)}var Af="_reactListening"+Math.random().toString(36).slice(2);function e0(a){if(!a[Af]){a[Af]=!0,Md.forEach(function(l){l!=="selectionchange"&&(I5.has(l)||Jg(l,!1,a),Jg(l,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[Af]||(i[Af]=!0,Jg("selectionchange",!1,i))}}function J1(a,i,l,d){switch(Tj(i)){case 2:var p=fT;break;case 8:p=mT;break;default:p=p0}l=p.bind(null,i,l,a),p=void 0,!yp||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?a.addEventListener(i,l,{capture:!0,passive:p}):a.addEventListener(i,l,!0):p!==void 0?a.addEventListener(i,l,{passive:p}):a.addEventListener(i,l,!1)}function t0(a,i,l,d,p){var b=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var M=d.stateNode.containerInfo;if(M===p)break;if(C===4)for(C=d.return;C!==null;){var X=C.tag;if((X===3||X===4)&&C.stateNode.containerInfo===p)return;C=C.return}for(;M!==null;){if(C=jr(M),C===null)return;if(X=C.tag,X===5||X===6||X===26||X===27){d=b=C;continue e}M=M.parentNode}}d=d.return}av(function(){var ce=b,ge=bp(l),ye=[];e:{var de=Mv.get(a);if(de!==void 0){var me=qd,Ie=a;switch(a){case"keypress":if(Fd(l)===0)break e;case"keydown":case"keyup":me=A4;break;case"focusin":Ie="focus",me=Np;break;case"focusout":Ie="blur",me=Np;break;case"beforeblur":case"afterblur":me=Np;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=ov;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=v4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=D4;break;case Tv:case Ov:case kv:me=w4;break;case Av:me=$4;break;case"scroll":case"scrollend":me=x4;break;case"wheel":me=I4;break;case"copy":case"cut":case"paste":me=N4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=cv;break;case"toggle":case"beforetoggle":me=L4}var Ke=(i&4)!==0,Ft=!Ke&&(a==="scroll"||a==="scrollend"),ae=Ke?de!==null?de+"Capture":null:de;Ke=[];for(var se=ce,le;se!==null;){var be=se;if(le=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||le===null||ae===null||(be=kc(se,ae),be!=null&&Ke.push(cu(se,be,le))),Ft)break;se=se.return}0<Ke.length&&(de=new me(de,Ie,null,l,ge),ye.push({event:de,listeners:Ke}))}}if((i&7)===0){e:{if(de=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",de&&l!==xp&&(Ie=l.relatedTarget||l.fromElement)&&(jr(Ie)||Ie[yr]))break e;if((me||de)&&(de=ge.window===ge?ge:(de=ge.ownerDocument)?de.defaultView||de.parentWindow:window,me?(Ie=l.relatedTarget||l.toElement,me=ce,Ie=Ie?jr(Ie):null,Ie!==null&&(Ft=c(Ie),Ke=Ie.tag,Ie!==Ft||Ke!==5&&Ke!==27&&Ke!==6)&&(Ie=null)):(me=null,Ie=ce),me!==Ie)){if(Ke=ov,be="onMouseLeave",ae="onMouseEnter",se="mouse",(a==="pointerout"||a==="pointerover")&&(Ke=cv,be="onPointerLeave",ae="onPointerEnter",se="pointer"),Ft=me==null?de:Sr(me),le=Ie==null?de:Sr(Ie),de=new Ke(be,se+"leave",me,l,ge),de.target=Ft,de.relatedTarget=le,be=null,jr(ge)===ce&&(Ke=new Ke(ae,se+"enter",Ie,l,ge),Ke.target=le,Ke.relatedTarget=Ft,be=Ke),Ft=be,me&&Ie)t:{for(Ke=F5,ae=me,se=Ie,le=0,be=ae;be;be=Ke(be))le++;be=0;for(var Qe=se;Qe;Qe=Ke(Qe))be++;for(;0<le-be;)ae=Ke(ae),le--;for(;0<be-le;)se=Ke(se),be--;for(;le--;){if(ae===se||se!==null&&ae===se.alternate){Ke=ae;break t}ae=Ke(ae),se=Ke(se)}Ke=null}else Ke=null;me!==null&&ej(ye,de,me,Ke,!1),Ie!==null&&Ft!==null&&ej(ye,Ft,Ie,Ke,!0)}}e:{if(de=ce?Sr(ce):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var jt=xv;else if(pv(de))if(bv)jt=Y4;else{jt=Z4;var Be=Q4}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&ra(ce.elementType)&&(jt=xv):jt=K4;if(jt&&(jt=jt(a,ce))){gv(ye,jt,l,ge);break e}Be&&Be(a,de,ce),a==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&Oc(de,"number",de.value)}switch(Be=ce?Sr(ce):window,a){case"focusin":(pv(Be)||Be.contentEditable==="true")&&(il=Be,kp=ce,Ic=null);break;case"focusout":Ic=kp=il=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,Ev(ye,l,ge);break;case"selectionchange":if(X4)break;case"keydown":case"keyup":Ev(ye,l,ge)}var at;if(Ep)e:{switch(a){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else rl?mv(a,l)&&(ht="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(ht="onCompositionStart");ht&&(uv&&l.locale!=="ko"&&(rl||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&rl&&(at=rv()):(ci=ge,jp="value"in ci?ci.value:ci.textContent,rl=!0)),Be=Mf(ce,ht),0<Be.length&&(ht=new lv(ht,a,null,l,ge),ye.push({event:ht,listeners:Be}),at?ht.data=at:(at=hv(l),at!==null&&(ht.data=at)))),(at=U4?B4(a,l):V4(a,l))&&(ht=Mf(ce,"onBeforeInput"),0<ht.length&&(Be=new lv("onBeforeInput","beforeinput",null,l,ge),ye.push({event:Be,listeners:ht}),Be.data=at)),z5(ye,a,ce,l,ge)}X1(ye,i)})}function cu(a,i,l){return{instance:a,listener:i,currentTarget:l}}function Mf(a,i){for(var l=i+"Capture",d=[];a!==null;){var p=a,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=kc(a,l),p!=null&&d.unshift(cu(a,p,b)),p=kc(a,i),p!=null&&d.push(cu(a,p,b))),a.tag===3)return d;a=a.return}return[]}function F5(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function ej(a,i,l,d,p){for(var b=i._reactName,C=[];l!==null&&l!==d;){var M=l,X=M.alternate,ce=M.stateNode;if(M=M.tag,X!==null&&X===d)break;M!==5&&M!==26&&M!==27||ce===null||(X=ce,p?(ce=kc(l,b),ce!=null&&C.unshift(cu(l,ce,X))):p||(ce=kc(l,b),ce!=null&&C.push(cu(l,ce,X)))),l=l.return}C.length!==0&&a.push({event:i,listeners:C})}var L5=/\r\n?/g,q5=/\u0000|\uFFFD/g;function tj(a){return(typeof a=="string"?a:""+a).replace(L5,`
`).replace(q5,"")}function sj(a,i){return i=tj(i),tj(a)===i}function It(a,i,l,d,p,b){switch(l){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||Yt(a,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&Yt(a,""+d);break;case"className":el(a,"class",d);break;case"tabIndex":el(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":el(a,l,d);break;case"style":Cr(a,d,b);break;case"data":if(i!=="object"){el(a,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||l!=="href")){a.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=sl(""+d),a.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(i!=="input"&&It(a,i,"name",p.name,p,null),It(a,i,"formEncType",p.formEncType,p,null),It(a,i,"formMethod",p.formMethod,p,null),It(a,i,"formTarget",p.formTarget,p,null)):(It(a,i,"encType",p.encType,p,null),It(a,i,"method",p.method,p,null),It(a,i,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=sl(""+d),a.setAttribute(l,d);break;case"onClick":d!=null&&(a.onclick=Er);break;case"onScroll":d!=null&&ut("scroll",a);break;case"onScrollEnd":d!=null&&ut("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}l=sl(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""+d):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":d===!0?a.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,d):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(l,d):a.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(l):a.setAttribute(l,d);break;case"popover":ut("beforetoggle",a),ut("toggle",a),Jo(a,"popover",d);break;case"xlinkActuate":wa(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":wa(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":wa(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":wa(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":wa(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":wa(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":wa(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":wa(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":wa(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Jo(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=tl.get(l)||l,Jo(a,l,d))}}function s0(a,i,l,d,p,b){switch(l){case"style":Cr(a,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"children":typeof d=="string"?Yt(a,d):(typeof d=="number"||typeof d=="bigint")&&Yt(a,""+d);break;case"onScroll":d!=null&&ut("scroll",a);break;case"onScrollEnd":d!=null&&ut("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ec.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),b=a[Is]||null,b=b!=null?b[l]:null,typeof b=="function"&&a.removeEventListener(i,b,p),typeof d=="function")){typeof b!="function"&&b!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(i,d,p);break e}l in a?a[l]=d:d===!0?a.setAttribute(l,""):Jo(a,l,d)}}}function Ks(a,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",a),ut("load",a);var d=!1,p=!1,b;for(b in l)if(l.hasOwnProperty(b)){var C=l[b];if(C!=null)switch(b){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:It(a,i,b,C,l,null)}}p&&It(a,i,"srcSet",l.srcSet,l,null),d&&It(a,i,"src",l.src,l,null);return;case"input":ut("invalid",a);var M=b=C=p=null,X=null,ce=null;for(d in l)if(l.hasOwnProperty(d)){var ge=l[d];if(ge!=null)switch(d){case"name":p=ge;break;case"type":C=ge;break;case"checked":X=ge;break;case"defaultChecked":ce=ge;break;case"value":b=ge;break;case"defaultValue":M=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(137,i));break;default:It(a,i,d,ge,l,null)}}$d(a,b,M,X,ce,C,p,!1);return;case"select":ut("invalid",a),d=C=b=null;for(p in l)if(l.hasOwnProperty(p)&&(M=l[p],M!=null))switch(p){case"value":b=M;break;case"defaultValue":C=M;break;case"multiple":d=M;default:It(a,i,p,M,l,null)}i=b,l=C,a.multiple=!!d,i!=null?li(a,!!d,i,!1):l!=null&&li(a,!!d,l,!0);return;case"textarea":ut("invalid",a),b=p=d=null;for(C in l)if(l.hasOwnProperty(C)&&(M=l[C],M!=null))switch(C){case"value":d=M;break;case"defaultValue":p=M;break;case"children":b=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:It(a,i,C,M,l,null)}Ue(a,d,p,b);return;case"option":for(X in l)l.hasOwnProperty(X)&&(d=l[X],d!=null)&&(X==="selected"?a.selected=d&&typeof d!="function"&&typeof d!="symbol":It(a,i,X,d,l,null));return;case"dialog":ut("beforetoggle",a),ut("toggle",a),ut("cancel",a),ut("close",a);break;case"iframe":case"object":ut("load",a);break;case"video":case"audio":for(d=0;d<lu.length;d++)ut(lu[d],a);break;case"image":ut("error",a),ut("load",a);break;case"details":ut("toggle",a);break;case"embed":case"source":case"link":ut("error",a),ut("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in l)if(l.hasOwnProperty(ce)&&(d=l[ce],d!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:It(a,i,ce,d,l,null)}return;default:if(ra(i)){for(ge in l)l.hasOwnProperty(ge)&&(d=l[ge],d!==void 0&&s0(a,i,ge,d,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(d=l[M],d!=null&&It(a,i,M,d,l,null))}function U5(a,i,l,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,C=null,M=null,X=null,ce=null,ge=null;for(me in l){var ye=l[me];if(l.hasOwnProperty(me)&&ye!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":X=ye;default:d.hasOwnProperty(me)||It(a,i,me,null,d,ye)}}for(var de in d){var me=d[de];if(ye=l[de],d.hasOwnProperty(de)&&(me!=null||ye!=null))switch(de){case"type":b=me;break;case"name":p=me;break;case"checked":ce=me;break;case"defaultChecked":ge=me;break;case"value":C=me;break;case"defaultValue":M=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(n(137,i));break;default:me!==ye&&It(a,i,de,me,d,ye)}}Tc(a,C,M,X,ce,ge,b,p);return;case"select":me=C=M=de=null;for(b in l)if(X=l[b],l.hasOwnProperty(b)&&X!=null)switch(b){case"value":break;case"multiple":me=X;default:d.hasOwnProperty(b)||It(a,i,b,null,d,X)}for(p in d)if(b=d[p],X=l[p],d.hasOwnProperty(p)&&(b!=null||X!=null))switch(p){case"value":de=b;break;case"defaultValue":M=b;break;case"multiple":C=b;default:b!==X&&It(a,i,p,b,d,X)}i=M,l=C,d=me,de!=null?li(a,!!l,de,!1):!!d!=!!l&&(i!=null?li(a,!!l,i,!0):li(a,!!l,l?[]:"",!1));return;case"textarea":me=de=null;for(M in l)if(p=l[M],l.hasOwnProperty(M)&&p!=null&&!d.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:It(a,i,M,null,d,p)}for(C in d)if(p=d[C],b=l[C],d.hasOwnProperty(C)&&(p!=null||b!=null))switch(C){case"value":de=p;break;case"defaultValue":me=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==b&&It(a,i,C,p,d,b)}B(a,de,me);return;case"option":for(var Ie in l)de=l[Ie],l.hasOwnProperty(Ie)&&de!=null&&!d.hasOwnProperty(Ie)&&(Ie==="selected"?a.selected=!1:It(a,i,Ie,null,d,de));for(X in d)de=d[X],me=l[X],d.hasOwnProperty(X)&&de!==me&&(de!=null||me!=null)&&(X==="selected"?a.selected=de&&typeof de!="function"&&typeof de!="symbol":It(a,i,X,de,d,me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in l)de=l[Ke],l.hasOwnProperty(Ke)&&de!=null&&!d.hasOwnProperty(Ke)&&It(a,i,Ke,null,d,de);for(ce in d)if(de=d[ce],me=l[ce],d.hasOwnProperty(ce)&&de!==me&&(de!=null||me!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,i));break;default:It(a,i,ce,de,d,me)}return;default:if(ra(i)){for(var Ft in l)de=l[Ft],l.hasOwnProperty(Ft)&&de!==void 0&&!d.hasOwnProperty(Ft)&&s0(a,i,Ft,void 0,d,de);for(ge in d)de=d[ge],me=l[ge],!d.hasOwnProperty(ge)||de===me||de===void 0&&me===void 0||s0(a,i,ge,de,d,me);return}}for(var ae in l)de=l[ae],l.hasOwnProperty(ae)&&de!=null&&!d.hasOwnProperty(ae)&&It(a,i,ae,null,d,de);for(ye in d)de=d[ye],me=l[ye],!d.hasOwnProperty(ye)||de===me||de==null&&me==null||It(a,i,ye,de,d,me)}function nj(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B5(){if(typeof performance.getEntriesByType=="function"){for(var a=0,i=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var p=l[d],b=p.transferSize,C=p.initiatorType,M=p.duration;if(b&&M&&nj(C)){for(C=0,M=p.responseEnd,d+=1;d<l.length;d++){var X=l[d],ce=X.startTime;if(ce>M)break;var ge=X.transferSize,ye=X.initiatorType;ge&&nj(ye)&&(X=X.responseEnd,C+=ge*(X<M?1:(M-ce)/(X-ce)))}if(--d,i+=8*(b+C)/(p.duration/1e3),a++,10<a)break}}if(0<a)return i/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var n0=null,a0=null;function Rf(a){return a.nodeType===9?a:a.ownerDocument}function aj(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rj(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function r0(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var i0=null;function V5(){var a=window.event;return a&&a.type==="popstate"?a===i0?!1:(i0=a,!0):(i0=null,!1)}var ij=typeof setTimeout=="function"?setTimeout:void 0,H5=typeof clearTimeout=="function"?clearTimeout:void 0,oj=typeof Promise=="function"?Promise:void 0,G5=typeof queueMicrotask=="function"?queueMicrotask:typeof oj<"u"?function(a){return oj.resolve(null).then(a).catch(Q5)}:ij;function Q5(a){setTimeout(function(){throw a})}function Ei(a){return a==="head"}function lj(a,i){var l=i,d=0;do{var p=l.nextSibling;if(a.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(d===0){a.removeChild(p),Rl(i);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")uu(a.ownerDocument.documentElement);else if(l==="head"){l=a.ownerDocument.head,uu(l);for(var b=l.firstChild;b;){var C=b.nextSibling,M=b.nodeName;b[lo]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=C}}else l==="body"&&uu(a.ownerDocument.body);l=p}while(l);Rl(i)}function cj(a,i){var l=a;a=0;do{var d=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(a===0)break;a--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||a++;l=d}while(l)}function o0(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":o0(l),Wo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function Z5(a,i,l,d){for(;a.nodeType===1;){var p=l;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[lo])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==p.rel||a.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=fa(a.nextSibling),a===null)break}return null}function K5(a,i,l){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=fa(a.nextSibling),a===null))return null;return a}function uj(a,i){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!i||(a=fa(a.nextSibling),a===null))return null;return a}function l0(a){return a.data==="$?"||a.data==="$~"}function c0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Y5(a,i){var l=a.ownerDocument;if(a.data==="$~")a._reactRetry=i;else if(a.data!=="$?"||l.readyState!=="loading")i();else{var d=function(){i(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function fa(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return a}var u0=null;function dj(a){a=a.nextSibling;for(var i=0;a;){if(a.nodeType===8){var l=a.data;if(l==="/$"||l==="/&"){if(i===0)return fa(a.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}a=a.nextSibling}return null}function fj(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return a;i--}else l!=="/$"&&l!=="/&"||i++}a=a.previousSibling}return null}function mj(a,i,l){switch(i=Rf(l),a){case"html":if(a=i.documentElement,!a)throw Error(n(452));return a;case"head":if(a=i.head,!a)throw Error(n(453));return a;case"body":if(a=i.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function uu(a){for(var i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Wo(a)}var ma=new Map,hj=new Set;function Df(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ur=I.d;I.d={f:W5,r:X5,D:J5,C:eT,L:tT,m:sT,X:aT,S:nT,M:rT};function W5(){var a=Ur.f(),i=Cf();return a||i}function X5(a){var i=wr(a);i!==null&&i.tag===5&&i.type==="form"?Ay(i):Ur.r(a)}var kl=typeof document>"u"?null:document;function pj(a,i,l){var d=kl;if(d&&typeof i=="string"&&i){var p=yn(i);p='link[rel="'+a+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),hj.has(p)||(hj.add(p),a={rel:a,crossOrigin:l,href:i},d.querySelector(p)===null&&(i=d.createElement("link"),Ks(i,"link",a),ls(i),d.head.appendChild(i)))}}function J5(a){Ur.D(a),pj("dns-prefetch",a,null)}function eT(a,i){Ur.C(a,i),pj("preconnect",a,i)}function tT(a,i,l){Ur.L(a,i,l);var d=kl;if(d&&a&&i){var p='link[rel="preload"][as="'+yn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+yn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+yn(l.imageSizes)+'"]')):p+='[href="'+yn(a)+'"]';var b=p;switch(i){case"style":b=Al(a);break;case"script":b=Ml(a)}ma.has(b)||(a=v({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:a,as:i},l),ma.set(b,a),d.querySelector(p)!==null||i==="style"&&d.querySelector(du(b))||i==="script"&&d.querySelector(fu(b))||(i=d.createElement("link"),Ks(i,"link",a),ls(i),d.head.appendChild(i)))}}function sT(a,i){Ur.m(a,i);var l=kl;if(l&&a){var d=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+yn(d)+'"][href="'+yn(a)+'"]',b=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ml(a)}if(!ma.has(b)&&(a=v({rel:"modulepreload",href:a},i),ma.set(b,a),l.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fu(b)))return}d=l.createElement("link"),Ks(d,"link",a),ls(d),l.head.appendChild(d)}}}function nT(a,i,l){Ur.S(a,i,l);var d=kl;if(d&&a){var p=Nr(d).hoistableStyles,b=Al(a);i=i||"default";var C=p.get(b);if(!C){var M={loading:0,preload:null};if(C=d.querySelector(du(b)))M.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":i},l),(l=ma.get(b))&&d0(a,l);var X=C=d.createElement("link");ls(X),Ks(X,"link",a),X._p=new Promise(function(ce,ge){X.onload=ce,X.onerror=ge}),X.addEventListener("load",function(){M.loading|=1}),X.addEventListener("error",function(){M.loading|=2}),M.loading|=4,zf(C,i,d)}C={type:"stylesheet",instance:C,count:1,state:M},p.set(b,C)}}}function aT(a,i){Ur.X(a,i);var l=kl;if(l&&a){var d=Nr(l).hoistableScripts,p=Ml(a),b=d.get(p);b||(b=l.querySelector(fu(p)),b||(a=v({src:a,async:!0},i),(i=ma.get(p))&&f0(a,i),b=l.createElement("script"),ls(b),Ks(b,"link",a),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function rT(a,i){Ur.M(a,i);var l=kl;if(l&&a){var d=Nr(l).hoistableScripts,p=Ml(a),b=d.get(p);b||(b=l.querySelector(fu(p)),b||(a=v({src:a,async:!0,type:"module"},i),(i=ma.get(p))&&f0(a,i),b=l.createElement("script"),ls(b),Ks(b,"link",a),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function gj(a,i,l,d){var p=(p=Q.current)?Df(p):null;if(!p)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Al(l.href),l=Nr(p).hoistableStyles,d=l.get(i),d||(d={type:"style",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Al(l.href);var b=Nr(p).hoistableStyles,C=b.get(a);if(C||(p=p.ownerDocument||p,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,C),(b=p.querySelector(du(a)))&&!b._p&&(C.instance=b,C.state.loading=5),ma.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ma.set(a,l),b||iT(p,a,l,C.state))),i&&d===null)throw Error(n(528,""));return C}if(i&&d!==null)throw Error(n(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ml(l),l=Nr(p).hoistableScripts,d=l.get(i),d||(d={type:"script",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Al(a){return'href="'+yn(a)+'"'}function du(a){return'link[rel="stylesheet"]['+a+"]"}function xj(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function iT(a,i,l,d){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=a.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),Ks(i,"link",l),ls(i),a.head.appendChild(i))}function Ml(a){return'[src="'+yn(a)+'"]'}function fu(a){return"script[async]"+a}function bj(a,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var d=a.querySelector('style[data-href~="'+yn(l.href)+'"]');if(d)return i.instance=d,ls(d),d;var p=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),ls(d),Ks(d,"style",p),zf(d,l.precedence,a),i.instance=d;case"stylesheet":p=Al(l.href);var b=a.querySelector(du(p));if(b)return i.state.loading|=4,i.instance=b,ls(b),b;d=xj(l),(p=ma.get(p))&&d0(d,p),b=(a.ownerDocument||a).createElement("link"),ls(b);var C=b;return C._p=new Promise(function(M,X){C.onload=M,C.onerror=X}),Ks(b,"link",d),i.state.loading|=4,zf(b,l.precedence,a),i.instance=b;case"script":return b=Ml(l.src),(p=a.querySelector(fu(b)))?(i.instance=p,ls(p),p):(d=l,(p=ma.get(b))&&(d=v({},l),f0(d,p)),a=a.ownerDocument||a,p=a.createElement("script"),ls(p),Ks(p,"link",d),a.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,zf(d,l.precedence,a));return i.instance}function zf(a,i,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,b=p,C=0;C<d.length;C++){var M=d[C];if(M.dataset.precedence===i)b=M;else if(b!==p)break}b?b.parentNode.insertBefore(a,b.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(a,i.firstChild))}function d0(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function f0(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var $f=null;function vj(a,i,l){if($f===null){var d=new Map,p=$f=new Map;p.set(l,d)}else p=$f,d=p.get(l),d||(d=new Map,p.set(l,d));if(d.has(a))return d;for(d.set(a,null),l=l.getElementsByTagName(a),p=0;p<l.length;p++){var b=l[p];if(!(b[lo]||b[_s]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(i)||"";C=a+C;var M=d.get(C);M?M.push(b):d.set(C,[b])}}return d}function yj(a,i,l){a=a.ownerDocument||a,a.head.insertBefore(l,i==="title"?a.querySelector("head > title"):null)}function oT(a,i,l){if(l===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(a=i.disabled,typeof i.precedence=="string"&&a==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function jj(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function lT(a,i,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Al(d.href),b=i.querySelector(du(p));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(a.count++,a=Pf.bind(a),i.then(a,a)),l.state.loading|=4,l.instance=b,ls(b);return}b=i.ownerDocument||i,d=xj(d),(p=ma.get(p))&&d0(d,p),b=b.createElement("link"),ls(b);var C=b;C._p=new Promise(function(M,X){C.onload=M,C.onerror=X}),Ks(b,"link",d),l.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(a.count++,l=Pf.bind(a),i.addEventListener("load",l),i.addEventListener("error",l))}}var m0=0;function cT(a,i){return a.stylesheets&&a.count===0&&Ff(a,a.stylesheets),0<a.count||0<a.imgCount?function(l){var d=setTimeout(function(){if(a.stylesheets&&Ff(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+i);0<a.imgBytes&&m0===0&&(m0=62500*B5());var p=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Ff(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>m0?50:800)+i);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(p)}}:null}function Pf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ff(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var If=null;function Ff(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,If=new Map,i.forEach(uT,a),If=null,Pf.call(a))}function uT(a,i){if(!(i.state.loading&4)){var l=If.get(a);if(l)var d=l.get(null);else{l=new Map,If.set(a,l);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var C=p[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),d=C)}d&&l.set(null,d)}p=i.instance,C=p.getAttribute("data-precedence"),b=l.get(C)||d,b===d&&l.set(null,p),l.set(C,p),this.count++,d=Pf.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),b?b.parentNode.insertBefore(p,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),i.state.loading|=4}}var mu={$$typeof:O,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function dT(a,i,l,d,p,b,C,M,X){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jc(0),this.hiddenUpdates=jc(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function wj(a,i,l,d,p,b,C,M,X,ce,ge,ye){return a=new dT(a,i,l,C,X,ce,ge,ye,M),i=1,b===!0&&(i|=24),b=In(3,null,null,i),a.current=b,b.stateNode=a,i=Gp(),i.refCount++,a.pooledCache=i,i.refCount++,b.memoizedState={element:d,isDehydrated:l,cache:i},Yp(b),a}function Sj(a){return a?(a=cl,a):cl}function Nj(a,i,l,d,p,b){p=Sj(p),d.context===null?d.context=p:d.pendingContext=p,d=pi(i),d.payload={element:l},b=b===void 0?null:b,b!==null&&(d.callback=b),l=gi(a,d,i),l!==null&&(En(l,a,i),Hc(l,a,i))}function Cj(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<i?l:i}}function h0(a,i){Cj(a,i),(a=a.alternate)&&Cj(a,i)}function Ej(a){if(a.tag===13||a.tag===31){var i=mo(a,67108864);i!==null&&En(i,a,67108864),h0(a,67108864)}}function _j(a){if(a.tag===13||a.tag===31){var i=Bn();i=Sc(i);var l=mo(a,i);l!==null&&En(l,a,i),h0(a,i)}}var Lf=!0;function fT(a,i,l,d){var p=A.T;A.T=null;var b=I.p;try{I.p=2,p0(a,i,l,d)}finally{I.p=b,A.T=p}}function mT(a,i,l,d){var p=A.T;A.T=null;var b=I.p;try{I.p=8,p0(a,i,l,d)}finally{I.p=b,A.T=p}}function p0(a,i,l,d){if(Lf){var p=g0(d);if(p===null)t0(a,i,d,qf,l),Oj(a,d);else if(pT(p,a,i,l,d))d.stopPropagation();else if(Oj(a,d),i&4&&-1<hT.indexOf(a)){for(;p!==null;){var b=wr(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=xr(b.pendingLanes);if(C!==0){var M=b;for(M.pendingLanes|=2,M.entangledLanes|=2;C;){var X=1<<31-_t(C);M.entanglements[1]|=X,C&=~X}Ha(b),(Nt&6)===0&&(Sf=_e()+500,ou(0))}}break;case 31:case 13:M=mo(b,2),M!==null&&En(M,b,2),Cf(),h0(b,2)}if(b=g0(d),b===null&&t0(a,i,d,qf,l),b===p)break;p=b}p!==null&&d.stopPropagation()}else t0(a,i,d,null,l)}}function g0(a){return a=bp(a),x0(a)}var qf=null;function x0(a){if(qf=null,a=jr(a),a!==null){var i=c(a);if(i===null)a=null;else{var l=i.tag;if(l===13){if(a=u(i),a!==null)return a;a=null}else if(l===31){if(a=f(i),a!==null)return a;a=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return qf=a,null}function Tj(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case Ce:return 2;case De:return 8;case We:case Ee:return 32;case qe:return 268435456;default:return 32}default:return 32}}var b0=!1,_i=null,Ti=null,Oi=null,hu=new Map,pu=new Map,ki=[],hT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oj(a,i){switch(a){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":hu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(i.pointerId)}}function gu(a,i,l,d,p,b){return a===null||a.nativeEvent!==b?(a={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:b,targetContainers:[p]},i!==null&&(i=wr(i),i!==null&&Ej(i)),a):(a.eventSystemFlags|=d,i=a.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),a)}function pT(a,i,l,d,p){switch(i){case"focusin":return _i=gu(_i,a,i,l,d,p),!0;case"dragenter":return Ti=gu(Ti,a,i,l,d,p),!0;case"mouseover":return Oi=gu(Oi,a,i,l,d,p),!0;case"pointerover":var b=p.pointerId;return hu.set(b,gu(hu.get(b)||null,a,i,l,d,p)),!0;case"gotpointercapture":return b=p.pointerId,pu.set(b,gu(pu.get(b)||null,a,i,l,d,p)),!0}return!1}function kj(a){var i=jr(a.target);if(i!==null){var l=c(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){a.blockedOn=i,Ad(a.priority,function(){_j(l)});return}}else if(i===31){if(i=f(l),i!==null){a.blockedOn=i,Ad(a.priority,function(){_j(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Uf(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var l=g0(a.nativeEvent);if(l===null){l=a.nativeEvent;var d=new l.constructor(l.type,l);xp=d,l.target.dispatchEvent(d),xp=null}else return i=wr(l),i!==null&&Ej(i),a.blockedOn=l,!1;i.shift()}return!0}function Aj(a,i,l){Uf(a)&&l.delete(i)}function gT(){b0=!1,_i!==null&&Uf(_i)&&(_i=null),Ti!==null&&Uf(Ti)&&(Ti=null),Oi!==null&&Uf(Oi)&&(Oi=null),hu.forEach(Aj),pu.forEach(Aj)}function Bf(a,i){a.blockedOn===i&&(a.blockedOn=null,b0||(b0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gT)))}var Vf=null;function Mj(a){Vf!==a&&(Vf=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Vf===a&&(Vf=null);for(var i=0;i<a.length;i+=3){var l=a[i],d=a[i+1],p=a[i+2];if(typeof d!="function"){if(x0(d||l)===null)continue;break}var b=wr(l);b!==null&&(a.splice(i,3),i-=3,gg(b,{pending:!0,data:p,method:l.method,action:d},d,p))}}))}function Rl(a){function i(X){return Bf(X,a)}_i!==null&&Bf(_i,a),Ti!==null&&Bf(Ti,a),Oi!==null&&Bf(Oi,a),hu.forEach(i),pu.forEach(i);for(var l=0;l<ki.length;l++){var d=ki[l];d.blockedOn===a&&(d.blockedOn=null)}for(;0<ki.length&&(l=ki[0],l.blockedOn===null);)kj(l),l.blockedOn===null&&ki.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var p=l[d],b=l[d+1],C=p[Is]||null;if(typeof b=="function")C||Mj(l);else if(C){var M=null;if(b&&b.hasAttribute("formAction")){if(p=b,C=b[Is]||null)M=C.formAction;else if(x0(p)!==null)continue}else M=C.action;typeof M=="function"?l[d+1]=M:(l.splice(d,3),d-=3),Mj(l)}}}function Rj(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(C){return p=C})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,p=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function v0(a){this._internalRoot=a}Hf.prototype.render=v0.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(n(409));var l=i.current,d=Bn();Nj(l,d,a,i,null,null)},Hf.prototype.unmount=v0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;Nj(a.current,2,null,a,null,null),Cf(),i[yr]=null}};function Hf(a){this._internalRoot=a}Hf.prototype.unstable_scheduleHydration=function(a){if(a){var i=kd();a={blockedOn:null,target:a,priority:i};for(var l=0;l<ki.length&&i!==0&&i<ki[l].priority;l++);ki.splice(l,0,a),l===0&&kj(a)}};var Dj=t.version;if(Dj!=="19.2.3")throw Error(n(527,Dj,"19.2.3"));I.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(i),a=a!==null?x(a):null,a=a===null?null:a.stateNode,a};var xT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{yt=Gf.inject(xT),Se=Gf}catch{}}return bu.createRoot=function(a,i){if(!o(a))throw Error(n(299));var l=!1,d="",p=qy,b=Uy,C=By;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError)),i=wj(a,1,!1,null,null,l,d,null,p,b,C,Rj),a[yr]=i.current,e0(a),new v0(i)},bu.hydrateRoot=function(a,i,l){if(!o(a))throw Error(n(299));var d=!1,p="",b=qy,C=Uy,M=By,X=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(X=l.formState)),i=wj(a,1,!0,i,l??null,d,p,X,b,C,M,Rj),i.context=Sj(null),l=i.current,d=Bn(),d=Sc(d),p=pi(d),p.callback=null,gi(l,p,d),l=d,i.current.lanes=l,oo(i,l),Ha(i),a[yr]=i.current,e0(a),new Hf(i)},bu.version="19.2.3",bu}var Vj;function TT(){if(Vj)return w0.exports;Vj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),w0.exports=_T(),w0.exports}var OT=TT(),Ss=ZN();function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},qu.apply(this,arguments)}var $i;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($i||($i={}));const Hj="popstate";function kT(e){e===void 0&&(e={});function t(n,o){let{pathname:c,search:u,hash:f}=n.location;return sx("",{pathname:c,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(n,o){return typeof o=="string"?o:Am(o)}return MT(t,s,null,e)}function Jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AT(){return Math.random().toString(36).substr(2,8)}function Gj(e,t){return{usr:e.state,key:e.key,idx:t}}function sx(e,t,s,n){return s===void 0&&(s=null),qu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nc(t):t,{state:s,key:t&&t.key||n||AT()})}function Am(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function nc(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function MT(e,t,s,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:c=!1}=n,u=o.history,f=$i.Pop,m=null,h=x();h==null&&(h=0,u.replaceState(qu({},u.state,{idx:h}),""));function x(){return(u.state||{idx:null}).idx}function v(){f=$i.Pop;let N=x(),T=N==null?null:N-h;h=N,m&&m({action:f,location:S.location,delta:T})}function y(N,T){f=$i.Push;let E=sx(S.location,N,T);h=x()+1;let O=Gj(E,h),k=S.createHref(E);try{u.pushState(O,"",k)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;o.location.assign(k)}c&&m&&m({action:f,location:S.location,delta:1})}function j(N,T){f=$i.Replace;let E=sx(S.location,N,T);h=x();let O=Gj(E,h),k=S.createHref(E);u.replaceState(O,"",k),c&&m&&m({action:f,location:S.location,delta:0})}function w(N){let T=o.location.origin!=="null"?o.location.origin:o.location.href,E=typeof N=="string"?N:Am(N);return E=E.replace(/ $/,"%20"),Jt(T,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,T)}let S={get action(){return f},get location(){return e(o,u)},listen(N){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Hj,v),m=N,()=>{o.removeEventListener(Hj,v),m=null}},createHref(N){return t(o,N)},createURL:w,encodeLocation(N){let T=w(N);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:j,go(N){return u.go(N)}};return S}var Qj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Qj||(Qj={}));function RT(e,t,s){return s===void 0&&(s="/"),DT(e,t,s)}function DT(e,t,s,n){let o=typeof t=="string"?nc(t):t,c=Kl(o.pathname||"/",s);if(c==null)return null;let u=KN(e);zT(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let h=GT(c);f=VT(u[m],h)}return f}function KN(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let o=(c,u,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};m.relativePath.startsWith("/")&&(Jt(m.relativePath.startsWith(n),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(n.length));let h=qi([n,m.relativePath]),x=s.concat(m);c.children&&c.children.length>0&&(Jt(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),KN(c.children,t,x,h)),!(c.path==null&&!c.index)&&t.push({path:h,score:UT(h,c.index),routesMeta:x})};return e.forEach((c,u)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))o(c,u);else for(let m of YN(c.path))o(c,u,m)}),t}function YN(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(n.length===0)return o?[c,""]:[c];let u=YN(n.join("/")),f=[];return f.push(...u.map(m=>m===""?c:[c,m].join("/"))),o&&f.push(...u),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function zT(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:BT(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const $T=/^:[\w-]+$/,PT=3,IT=2,FT=1,LT=10,qT=-2,Zj=e=>e==="*";function UT(e,t){let s=e.split("/"),n=s.length;return s.some(Zj)&&(n+=qT),t&&(n+=IT),s.filter(o=>!Zj(o)).reduce((o,c)=>o+($T.test(c)?PT:c===""?FT:LT),n)}function BT(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function VT(e,t,s){let{routesMeta:n}=e,o={},c="/",u=[];for(let f=0;f<n.length;++f){let m=n[f],h=f===n.length-1,x=c==="/"?t:t.slice(c.length)||"/",v=nx({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},x),y=m.route;if(!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:qi([c,v.pathname]),pathnameBase:WT(qi([c,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(c=qi([c,v.pathnameBase]))}return u}function nx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=HT(e.path,e.caseSensitive,e.end),o=t.match(s);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:n.reduce((h,x,v)=>{let{paramName:y,isOptional:j}=x;if(y==="*"){let S=f[v]||"";u=c.slice(0,c.length-S.length).replace(/(.)\/+$/,"$1")}const w=f[v];return j&&!w?h[y]=void 0:h[y]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:c,pathnameBase:u,pattern:e}}function HT(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Yx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(n.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function GT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}const QT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZT=e=>QT.test(e);function KT(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:o=""}=typeof e=="string"?nc(e):e,c;if(s)if(ZT(s))c=s;else{if(s.includes("//")){let u=s;s=s.replace(/\/\/+/g,"/"),Yx(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+s))}s.startsWith("/")?c=Kj(s.substring(1),"/"):c=Kj(s,t)}else c=t;return{pathname:c,search:XT(n),hash:JT(o)}}function Kj(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function E0(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YT(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Wx(e,t){let s=YT(e);return t?s.map((n,o)=>o===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Xx(e,t,s,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=nc(e):(o=qu({},e),Jt(!o.pathname||!o.pathname.includes("?"),E0("?","pathname","search",o)),Jt(!o.pathname||!o.pathname.includes("#"),E0("#","pathname","hash",o)),Jt(!o.search||!o.search.includes("#"),E0("#","search","hash",o)));let c=e===""||o.pathname==="",u=c?"/":o.pathname,f;if(u==null)f=s;else{let v=t.length-1;if(!n&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),v-=1;o.pathname=y.join("/")}f=v>=0?t[v]:"/"}let m=KT(o,f),h=u&&u!=="/"&&u.endsWith("/"),x=(c||u===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(h||x)&&(m.pathname+="/"),m}const qi=e=>e.join("/").replace(/\/\/+/g,"/"),WT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),XT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function eO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const WN=["post","put","patch","delete"];new Set(WN);const tO=["get",...WN];new Set(tO);function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Uu.apply(this,arguments)}const ch=g.createContext(null),XN=g.createContext(null),ei=g.createContext(null),uh=g.createContext(null),ti=g.createContext({outlet:null,matches:[],isDataRoute:!1}),JN=g.createContext(null);function sO(e,t){let{relative:s}=t===void 0?{}:t;ac()||Jt(!1);let{basename:n,navigator:o}=g.useContext(ei),{hash:c,pathname:u,search:f}=dh(e,{relative:s}),m=u;return n!=="/"&&(m=u==="/"?n:qi([n,u])),o.createHref({pathname:m,search:f,hash:c})}function ac(){return g.useContext(uh)!=null}function Ji(){return ac()||Jt(!1),g.useContext(uh).location}function e2(e){g.useContext(ei).static||g.useLayoutEffect(e)}function rc(){let{isDataRoute:e}=g.useContext(ti);return e?xO():nO()}function nO(){ac()||Jt(!1);let e=g.useContext(ch),{basename:t,future:s,navigator:n}=g.useContext(ei),{matches:o}=g.useContext(ti),{pathname:c}=Ji(),u=JSON.stringify(Wx(o,s.v7_relativeSplatPath)),f=g.useRef(!1);return e2(()=>{f.current=!0}),g.useCallback(function(h,x){if(x===void 0&&(x={}),!f.current)return;if(typeof h=="number"){n.go(h);return}let v=Xx(h,JSON.parse(u),c,x.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:qi([t,v.pathname])),(x.replace?n.replace:n.push)(v,x.state,x)},[t,n,u,c,e])}const aO=g.createContext(null);function rO(e){let t=g.useContext(ti).outlet;return t&&g.createElement(aO.Provider,{value:e},t)}function dh(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=g.useContext(ei),{matches:o}=g.useContext(ti),{pathname:c}=Ji(),u=JSON.stringify(Wx(o,n.v7_relativeSplatPath));return g.useMemo(()=>Xx(e,JSON.parse(u),c,s==="path"),[e,u,c,s])}function iO(e,t){return oO(e,t)}function oO(e,t,s,n){ac()||Jt(!1);let{navigator:o}=g.useContext(ei),{matches:c}=g.useContext(ti),u=c[c.length-1],f=u?u.params:{};u&&u.pathname;let m=u?u.pathnameBase:"/";u&&u.route;let h=Ji(),x;if(t){var v;let N=typeof t=="string"?nc(t):t;m==="/"||(v=N.pathname)!=null&&v.startsWith(m)||Jt(!1),x=N}else x=h;let y=x.pathname||"/",j=y;if(m!=="/"){let N=m.replace(/^\//,"").split("/");j="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=RT(e,{pathname:j}),S=fO(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:qi([m,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?m:qi([m,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,s,n);return t&&S?g.createElement(uh.Provider,{value:{location:Uu({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:$i.Pop}},S):S}function lO(){let e=gO(),t=eO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),s?g.createElement("pre",{style:o},s):null,null)}const cO=g.createElement(lO,null);class uO extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?g.createElement(ti.Provider,{value:this.props.routeContext},g.createElement(JN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dO(e){let{routeContext:t,match:s,children:n}=e,o=g.useContext(ch);return o&&o.static&&o.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=s.route.id),g.createElement(ti.Provider,{value:t},n)}function fO(e,t,s,n){var o;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var c;if(!s)return null;if(s.errors)e=s.matches;else if((c=n)!=null&&c.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let u=e,f=(o=s)==null?void 0:o.errors;if(f!=null){let x=u.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);x>=0||Jt(!1),u=u.slice(0,Math.min(u.length,x+1))}let m=!1,h=-1;if(s&&n&&n.v7_partialHydration)for(let x=0;x<u.length;x++){let v=u[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=x),v.route.id){let{loaderData:y,errors:j}=s,w=v.route.loader&&y[v.route.id]===void 0&&(!j||j[v.route.id]===void 0);if(v.route.lazy||w){m=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}return u.reduceRight((x,v,y)=>{let j,w=!1,S=null,N=null;s&&(j=f&&v.route.id?f[v.route.id]:void 0,S=v.route.errorElement||cO,m&&(h<0&&y===0?(bO("route-fallback"),w=!0,N=null):h===y&&(w=!0,N=v.route.hydrateFallbackElement||null)));let T=t.concat(u.slice(0,y+1)),E=()=>{let O;return j?O=S:w?O=N:v.route.Component?O=g.createElement(v.route.Component,null):v.route.element?O=v.route.element:O=x,g.createElement(dO,{match:v,routeContext:{outlet:x,matches:T,isDataRoute:s!=null},children:O})};return s&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?g.createElement(uO,{location:s.location,revalidation:s.revalidation,component:S,error:j,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}var t2=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(t2||{}),s2=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(s2||{});function mO(e){let t=g.useContext(ch);return t||Jt(!1),t}function hO(e){let t=g.useContext(XN);return t||Jt(!1),t}function pO(e){let t=g.useContext(ti);return t||Jt(!1),t}function n2(e){let t=pO(),s=t.matches[t.matches.length-1];return s.route.id||Jt(!1),s.route.id}function gO(){var e;let t=g.useContext(JN),s=hO(),n=n2();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function xO(){let{router:e}=mO(t2.UseNavigateStable),t=n2(s2.UseNavigateStable),s=g.useRef(!1);return e2(()=>{s.current=!0}),g.useCallback(function(o,c){c===void 0&&(c={}),s.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Uu({fromRouteId:t},c)))},[e,t])}const Yj={};function bO(e,t,s){Yj[e]||(Yj[e]=!0)}function vO(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Jx(e){let{to:t,replace:s,state:n,relative:o}=e;ac()||Jt(!1);let{future:c,static:u}=g.useContext(ei),{matches:f}=g.useContext(ti),{pathname:m}=Ji(),h=rc(),x=Xx(t,Wx(f,c.v7_relativeSplatPath),m,o==="path"),v=JSON.stringify(x);return g.useEffect(()=>h(JSON.parse(v),{replace:s,state:n,relative:o}),[h,v,o,s,n]),null}function a2(e){return rO(e.context)}function it(e){Jt(!1)}function yO(e){let{basename:t="/",children:s=null,location:n,navigationType:o=$i.Pop,navigator:c,static:u=!1,future:f}=e;ac()&&Jt(!1);let m=t.replace(/^\/*/,"/"),h=g.useMemo(()=>({basename:m,navigator:c,static:u,future:Uu({v7_relativeSplatPath:!1},f)}),[m,f,c,u]);typeof n=="string"&&(n=nc(n));let{pathname:x="/",search:v="",hash:y="",state:j=null,key:w="default"}=n,S=g.useMemo(()=>{let N=Kl(x,m);return N==null?null:{location:{pathname:N,search:v,hash:y,state:j,key:w},navigationType:o}},[m,x,v,y,j,w,o]);return S==null?null:g.createElement(ei.Provider,{value:h},g.createElement(uh.Provider,{children:s,value:S}))}function jO(e){let{children:t,location:s}=e;return iO(ax(t),s)}new Promise(()=>{});function ax(e,t){t===void 0&&(t=[]);let s=[];return g.Children.forEach(e,(n,o)=>{if(!g.isValidElement(n))return;let c=[...t,o];if(n.type===g.Fragment){s.push.apply(s,ax(n.props.children,c));return}n.type!==it&&Jt(!1),!n.props.index||!n.props.children||Jt(!1);let u={id:n.props.id||c.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=ax(n.props.children,c)),s.push(u)}),s}function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Mm.apply(this,arguments)}function r2(e,t){if(e==null)return{};var s={},n=Object.keys(e),o,c;for(c=0;c<n.length;c++)o=n[c],!(t.indexOf(o)>=0)&&(s[o]=e[o]);return s}function wO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function SO(e,t){return e.button===0&&(!t||t==="_self")&&!wO(e)}function rx(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let n=e[s];return t.concat(Array.isArray(n)?n.map(o=>[s,o]):[[s,n]])},[]))}function NO(e,t){let s=rx(e);return t&&t.forEach((n,o)=>{s.has(o)||t.getAll(o).forEach(c=>{s.append(o,c)})}),s}const CO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EO=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],_O="6";try{window.__reactRouterVersion=_O}catch{}const TO=g.createContext({isTransitioning:!1}),OO="startTransition",Wj=km[OO];function kO(e){let{basename:t,children:s,future:n,window:o}=e,c=g.useRef();c.current==null&&(c.current=kT({window:o,v5Compat:!0}));let u=c.current,[f,m]=g.useState({action:u.action,location:u.location}),{v7_startTransition:h}=n||{},x=g.useCallback(v=>{h&&Wj?Wj(()=>m(v)):m(v)},[m,h]);return g.useLayoutEffect(()=>u.listen(x),[u,x]),g.useEffect(()=>vO(n),[n]),g.createElement(yO,{basename:t,children:s,location:f.location,navigationType:f.action,navigator:u,future:n})}const AO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,As=g.forwardRef(function(t,s){let{onClick:n,relative:o,reloadDocument:c,replace:u,state:f,target:m,to:h,preventScrollReset:x,viewTransition:v}=t,y=r2(t,CO),{basename:j}=g.useContext(ei),w,S=!1;if(typeof h=="string"&&MO.test(h)&&(w=h,AO))try{let O=new URL(window.location.href),k=h.startsWith("//")?new URL(O.protocol+h):new URL(h),R=Kl(k.pathname,j);k.origin===O.origin&&R!=null?h=R+k.search+k.hash:S=!0}catch{}let N=sO(h,{relative:o}),T=DO(h,{replace:u,state:f,target:m,preventScrollReset:x,relative:o,viewTransition:v});function E(O){n&&n(O),O.defaultPrevented||T(O)}return g.createElement("a",Mm({},y,{href:w||N,onClick:S||c?n:E,ref:s,target:m}))}),Qf=g.forwardRef(function(t,s){let{"aria-current":n="page",caseSensitive:o=!1,className:c="",end:u=!1,style:f,to:m,viewTransition:h,children:x}=t,v=r2(t,EO),y=dh(m,{relative:v.relative}),j=Ji(),w=g.useContext(XN),{navigator:S,basename:N}=g.useContext(ei),T=w!=null&&$O(y)&&h===!0,E=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,O=j.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;o||(O=O.toLowerCase(),k=k?k.toLowerCase():null,E=E.toLowerCase()),k&&N&&(k=Kl(k,N)||k);const R=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let P=O===E||!u&&O.startsWith(E)&&O.charAt(R)==="/",z=k!=null&&(k===E||!u&&k.startsWith(E)&&k.charAt(E.length)==="/"),F={isActive:P,isPending:z,isTransitioning:T},te=P?n:void 0,H;typeof c=="function"?H=c(F):H=[c,P?"active":null,z?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Y=typeof f=="function"?f(F):f;return g.createElement(As,Mm({},v,{"aria-current":te,className:H,ref:s,style:Y,to:m,viewTransition:h}),typeof x=="function"?x(F):x)});var ix;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ix||(ix={}));var Xj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Xj||(Xj={}));function RO(e){let t=g.useContext(ch);return t||Jt(!1),t}function DO(e,t){let{target:s,replace:n,state:o,preventScrollReset:c,relative:u,viewTransition:f}=t===void 0?{}:t,m=rc(),h=Ji(),x=dh(e,{relative:u});return g.useCallback(v=>{if(SO(v,s)){v.preventDefault();let y=n!==void 0?n:Am(h)===Am(x);m(e,{replace:y,state:o,preventScrollReset:c,relative:u,viewTransition:f})}},[h,m,x,n,o,s,e,c,u,f])}function zO(e){let t=g.useRef(rx(e)),s=g.useRef(!1),n=Ji(),o=g.useMemo(()=>NO(n.search,s.current?null:t.current),[n.search]),c=rc(),u=g.useCallback((f,m)=>{const h=rx(typeof f=="function"?f(o):f);s.current=!0,c("?"+h,m)},[c,o]);return[o,u]}function $O(e,t){t===void 0&&(t={});let s=g.useContext(TO);s==null&&Jt(!1);let{basename:n}=RO(ix.useViewTransitionState),o=dh(e,{relative:t.relative});if(!s.isTransitioning)return!1;let c=Kl(s.currentLocation.pathname,n)||s.currentLocation.pathname,u=Kl(s.nextLocation.pathname,n)||s.nextLocation.pathname;return nx(o.pathname,u)!=null||nx(o.pathname,c)!=null}var ic=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},PO={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},IO=class{#e=PO;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Oo=new IO;function FO(e){setTimeout(e,0)}var $o=typeof window>"u"||"Deno"in globalThis;function mn(){}function LO(e,t){return typeof e=="function"?e(t):e}function ox(e){return typeof e=="number"&&e>=0&&e!==1/0}function i2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ui(e,t){return typeof e=="function"?e(t):e}function xa(e,t){return typeof e=="function"?e(t):e}function Jj(e,t){const{type:s="all",exact:n,fetchStatus:o,predicate:c,queryKey:u,stale:f}=e;if(u){if(n){if(t.queryHash!==eb(u,t.options))return!1}else if(!Bu(t.queryKey,u))return!1}if(s!=="all"){const m=t.isActive();if(s==="active"&&!m||s==="inactive"&&m)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||o&&o!==t.state.fetchStatus||c&&!c(t))}function ew(e,t){const{exact:s,status:n,predicate:o,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(s){if(Po(t.options.mutationKey)!==Po(c))return!1}else if(!Bu(t.options.mutationKey,c))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function eb(e,t){return(t?.queryKeyHashFn||Po)(e)}function Po(e){return JSON.stringify(e,(t,s)=>lx(s)?Object.keys(s).sort().reduce((n,o)=>(n[o]=s[o],n),{}):s)}function Bu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Bu(e[s],t[s])):!1}var qO=Object.prototype.hasOwnProperty;function o2(e,t){if(e===t)return e;const s=tw(e)&&tw(t);if(!s&&!(lx(e)&&lx(t)))return t;const o=(s?e:Object.keys(e)).length,c=s?t:Object.keys(t),u=c.length,f=s?new Array(u):{};let m=0;for(let h=0;h<u;h++){const x=s?h:c[h],v=e[x],y=t[x];if(v===y){f[x]=v,(s?h<o:qO.call(e,x))&&m++;continue}if(v===null||y===null||typeof v!="object"||typeof y!="object"){f[x]=y;continue}const j=o2(v,y);f[x]=j,j===v&&m++}return o===u&&m===o?e:f}function Rm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function tw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lx(e){if(!sw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!sw(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function sw(e){return Object.prototype.toString.call(e)==="[object Object]"}function UO(e){return new Promise(t=>{Oo.setTimeout(t,e)})}function cx(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?o2(e,t):t}function BO(e,t,s=0){const n=[...e,t];return s&&n.length>s?n.slice(1):n}function VO(e,t,s=0){const n=[t,...e];return s&&n.length>s?n.slice(0,-1):n}var tb=Symbol();function l2(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===tb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function sb(e,t){return typeof e=="function"?e(...t):!!e}function HO(e,t,s){let n=!1,o;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(o??=t(),n||(n=!0,o.aborted?s():o.addEventListener("abort",s,{once:!0})),o)}),e}var GO=class extends ic{#e;#t;#s;constructor(){super(),this.#s=e=>{if(!$o&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},nb=new GO;function ux(){let e,t;const s=new Promise((o,c)=>{e=o,t=c});s.status="pending",s.catch(()=>{});function n(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},s.reject=o=>{n({status:"rejected",reason:o}),t(o)},s}var QO=FO;function ZO(){let e=[],t=0,s=f=>{f()},n=f=>{f()},o=QO;const c=f=>{t?e.push(f):o(()=>{s(f)})},u=()=>{const f=e;e=[],f.length&&o(()=>{n(()=>{f.forEach(m=>{s(m)})})})};return{batch:f=>{let m;t++;try{m=f()}finally{t--,t||u()}return m},batchCalls:f=>(...m)=>{c(()=>{f(...m)})},schedule:c,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{n=f},setScheduler:f=>{o=f}}}var Ms=ZO(),KO=class extends ic{#e=!0;#t;#s;constructor(){super(),this.#s=e=>{if(!$o&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Dm=new KO;function YO(e){return Math.min(1e3*2**e,3e4)}function c2(e){return(e??"online")==="online"?Dm.isOnline():!0}var dx=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function u2(e){let t=!1,s=0,n;const o=ux(),c=()=>o.status!=="pending",u=S=>{if(!c()){const N=new dx(S);y(N),e.onCancel?.(N)}},f=()=>{t=!0},m=()=>{t=!1},h=()=>nb.isFocused()&&(e.networkMode==="always"||Dm.isOnline())&&e.canRun(),x=()=>c2(e.networkMode)&&e.canRun(),v=S=>{c()||(n?.(),o.resolve(S))},y=S=>{c()||(n?.(),o.reject(S))},j=()=>new Promise(S=>{n=N=>{(c()||h())&&S(N)},e.onPause?.()}).then(()=>{n=void 0,c()||e.onContinue?.()}),w=()=>{if(c())return;let S;const N=s===0?e.initialPromise:void 0;try{S=N??e.fn()}catch(T){S=Promise.reject(T)}Promise.resolve(S).then(v).catch(T=>{if(c())return;const E=e.retry??($o?0:3),O=e.retryDelay??YO,k=typeof O=="function"?O(s,T):O,R=E===!0||typeof E=="number"&&s<E||typeof E=="function"&&E(s,T);if(t||!R){y(T);return}s++,e.onFail?.(s,T),UO(k).then(()=>h()?void 0:j()).then(()=>{t?y(T):w()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(n?.(),o),cancelRetry:f,continueRetry:m,canStart:x,start:()=>(x()?w():j().then(w),o)}}var d2=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ox(this.gcTime)&&(this.#e=Oo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($o?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Oo.clearTimeout(this.#e),this.#e=void 0)}},WO=class extends d2{#e;#t;#s;#a;#n;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#s=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=aw(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=aw(this.options);t.data!==void 0&&(this.setState(nw(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,t){const s=cx(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#r({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(mn).catch(mn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>xa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ui(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!i2(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,n=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},o=()=>{const f=l2(this.options,t),h=(()=>{const x={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(x),x})();return this.#o=!1,this.options.persister?this.options.persister(f,h,this):f(h)},u=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:o};return n(f),f})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#r({type:"fetch",meta:u.fetchOptions?.meta}),this.#n=u2({initialPromise:t?.initialPromise,fn:u.fetchFn,onCancel:f=>{f instanceof dx&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(f,m)=>{this.#r({type:"failed",failureCount:f,error:m})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const f=await this.#n.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#s.config.onSuccess?.(f,this),this.#s.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof dx){if(f.silent)return this.#n.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#r({type:"error",error:f}),this.#s.config.onError?.(f,this),this.#s.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#r(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...f2(s.data,this.options),fetchMeta:e.meta??null};case"success":const n={...s,...nw(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const o=e.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Ms.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function f2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:c2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function nw(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function aw(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,n=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var XO=class extends ic{constructor(e,t){super(),this.options=t,this.#e=e,this.#r=null,this.#o=ux(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#s=void 0;#a=void 0;#n;#i;#o;#r;#p;#f;#m;#c;#u;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),rw(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fx(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fx(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#j(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),t._defaulted&&!Rm(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&iw(this.#t,s,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#t!==s||xa(this.options.enabled,this.#t)!==xa(t.enabled,this.#t)||Ui(this.options.staleTime,this.#t)!==Ui(t.staleTime,this.#t))&&this.#g();const o=this.#x();n&&(this.#t!==s||xa(this.options.enabled,this.#t)!==xa(t.enabled,this.#t)||o!==this.#l)&&this.#b(o)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return ek(this,s)&&(this.#a=s,this.#i=this.options,this.#n=this.#t.state),s}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(s,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,n))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(mn)),t}#g(){this.#y();const e=Ui(this.options.staleTime,this.#t);if($o||this.#a.isStale||!ox(e))return;const s=i2(this.#a.dataUpdatedAt,e)+1;this.#c=Oo.setTimeout(()=>{this.#a.isStale||this.updateResult()},s)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#j(),this.#l=e,!($o||xa(this.options.enabled,this.#t)===!1||!ox(this.#l)||this.#l===0)&&(this.#u=Oo.setInterval(()=>{(this.options.refetchIntervalInBackground||nb.isFocused())&&this.#d()},this.#l))}#v(){this.#g(),this.#b(this.#x())}#y(){this.#c&&(Oo.clearTimeout(this.#c),this.#c=void 0)}#j(){this.#u&&(Oo.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const s=this.#t,n=this.options,o=this.#a,c=this.#n,u=this.#i,m=e!==s?e.state:this.#s,{state:h}=e;let x={...h},v=!1,y;if(t._optimisticResults){const F=this.hasListeners(),te=!F&&rw(e,t),H=F&&iw(e,s,t,n);(te||H)&&(x={...x,...f2(h.data,e.options)}),t._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:j,errorUpdatedAt:w,status:S}=x;y=x.data;let N=!1;if(t.placeholderData!==void 0&&y===void 0&&S==="pending"){let F;o?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(F=o.data,N=!0):F=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,F!==void 0&&(S="success",y=cx(o?.data,F,t),v=!0)}if(t.select&&y!==void 0&&!N)if(o&&y===c?.data&&t.select===this.#p)y=this.#f;else try{this.#p=t.select,y=t.select(y),y=cx(o?.data,y,t),this.#f=y,this.#r=null}catch(F){this.#r=F}this.#r&&(j=this.#r,y=this.#f,w=Date.now(),S="error");const T=x.fetchStatus==="fetching",E=S==="pending",O=S==="error",k=E&&T,R=y!==void 0,z={status:S,fetchStatus:x.fetchStatus,isPending:E,isSuccess:S==="success",isError:O,isInitialLoading:k,isLoading:k,data:y,dataUpdatedAt:x.dataUpdatedAt,error:j,errorUpdatedAt:w,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>m.dataUpdateCount||x.errorUpdateCount>m.errorUpdateCount,isFetching:T,isRefetching:T&&!E,isLoadingError:O&&!R,isPaused:x.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:O&&R,isStale:ab(e,t),refetch:this.refetch,promise:this.#o,isEnabled:xa(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const F=Y=>{z.status==="error"?Y.reject(z.error):z.data!==void 0&&Y.resolve(z.data)},te=()=>{const Y=this.#o=z.promise=ux();F(Y)},H=this.#o;switch(H.status){case"pending":e.queryHash===s.queryHash&&F(H);break;case"fulfilled":(z.status==="error"||z.data!==H.value)&&te();break;case"rejected":(z.status!=="error"||z.error!==H.reason)&&te();break}}return z}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#i=this.options,this.#n.data!==void 0&&(this.#m=this.#t),Rm(t,e))return;this.#a=t;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,o=typeof n=="function"?n():n;if(o==="all"||!o&&!this.#h.size)return!0;const c=new Set(o??this.#h);return this.options.throwOnError&&c.add("error"),Object.keys(this.#a).some(u=>{const f=u;return this.#a[f]!==e[f]&&c.has(f)})};this.#S({listeners:s()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#S(e){Ms.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function JO(e,t){return xa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function rw(e,t){return JO(e,t)||e.state.data!==void 0&&fx(e,t,t.refetchOnMount)}function fx(e,t,s){if(xa(t.enabled,e)!==!1&&Ui(t.staleTime,e)!=="static"){const n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&ab(e,t)}return!1}function iw(e,t,s,n){return(e!==t||xa(n.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&ab(e,s)}function ab(e,t){return xa(t.enabled,e)!==!1&&e.isStaleByTime(Ui(t.staleTime,e))}function ek(e,t){return!Rm(e.getCurrentResult(),t)}function ow(e){return{onFetch:(t,s)=>{const n=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},m=0;const h=async()=>{let x=!1;const v=w=>{HO(w,()=>t.signal,()=>x=!0)},y=l2(t.options,t.fetchOptions),j=async(w,S,N)=>{if(x)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const E=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:S,direction:N?"backward":"forward",meta:t.options.meta};return v(P),P})(),O=await y(E),{maxPages:k}=t.options,R=N?VO:BO;return{pages:R(w.pages,O,k),pageParams:R(w.pageParams,S,k)}};if(o&&c.length){const w=o==="backward",S=w?tk:lw,N={pages:c,pageParams:u},T=S(n,N);f=await j(N,T,w)}else{const w=e??c.length;do{const S=m===0?u[0]??n.initialPageParam:lw(n,f);if(m>0&&S==null)break;f=await j(f,S),m++}while(m<w)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=h}}}function lw(e,{pages:t,pageParams:s}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,s[n],s):void 0}function tk(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var sk=class extends d2{#e;#t;#s;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#s=e.mutationCache,this.#t=[],this.state=e.state||m2(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=u2({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#n({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const n=this.state.status==="pending",o=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:o}),await this.#s.config.onMutate?.(e,this,s);const u=await this.options.onMutate?.(e,s);u!==this.state.context&&this.#n({type:"pending",context:u,variables:e,isPaused:o})}const c=await this.#a.start();return await this.#s.config.onSuccess?.(c,e,this.state.context,this,s),await this.options.onSuccess?.(c,e,this.state.context,s),await this.#s.config.onSettled?.(c,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(c,null,e,this.state.context,s),this.#n({type:"success",data:c}),c}catch(c){try{await this.#s.config.onError?.(c,e,this.state.context,this,s)}catch(u){Promise.reject(u)}try{await this.options.onError?.(c,e,this.state.context,s)}catch(u){Promise.reject(u)}try{await this.#s.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,s)}catch(u){Promise.reject(u)}try{await this.options.onSettled?.(void 0,c,e,this.state.context,s)}catch(u){Promise.reject(u)}throw this.#n({type:"error",error:c}),c}finally{this.#s.runNext(this)}}#n(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ms.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#s.notify({mutation:this,type:"updated",action:e})})}};function m2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nk=class extends ic{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(e,t,s){const n=new sk({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:s});return this.add(n),n}add(e){this.#e.add(e);const t=Zf(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Zf(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const n=s.indexOf(e);n!==-1&&s.splice(n,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Zf(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(o=>o.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Zf(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ms.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>ew(t,s))}findAll(e={}){return this.getAll().filter(t=>ew(e,t))}notify(e){Ms.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ms.batch(()=>Promise.all(e.map(t=>t.continue().catch(mn))))}};function Zf(e){return e.options.scope?.id}var ak=class extends ic{#e;#t=void 0;#s;#a;constructor(t,s){super(),this.#e=t,this.setOptions(s),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const s=this.options;this.options=this.#e.defaultMutationOptions(t),Rm(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),s?.mutationKey&&this.options.mutationKey&&Po(s.mutationKey)!==Po(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#i()}mutate(t,s){return this.#a=s,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(t)}#n(){const t=this.#s?.state??m2();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){Ms.batch(()=>{if(this.#a&&this.hasListeners()){const s=this.#t.variables,n=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#a.onSuccess?.(t.data,s,n,o)}catch(c){Promise.reject(c)}try{this.#a.onSettled?.(t.data,null,s,n,o)}catch(c){Promise.reject(c)}}else if(t?.type==="error"){try{this.#a.onError?.(t.error,s,n,o)}catch(c){Promise.reject(c)}try{this.#a.onSettled?.(void 0,t.error,s,n,o)}catch(c){Promise.reject(c)}}}this.listeners.forEach(s=>{s(this.#t)})})}},rk=class extends ic{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const n=t.queryKey,o=t.queryHash??eb(n,t);let c=this.get(o);return c||(c=new WO({client:e,queryKey:n,queryHash:o,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(c)),c}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ms.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Jj(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>Jj(e,s)):t}notify(e){Ms.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ms.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ms.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ik=class{#e;#t;#s;#a;#n;#i;#o;#r;constructor(e={}){this.#e=e.queryCache||new rk,this.#t=e.mutationCache||new nk,this.#s=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=nb.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Dm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),n=s.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Ui(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const n=s.data;return[t,n]})}setQueryData(e,t,s){const n=this.defaultQueryOptions({queryKey:e}),c=this.#e.get(n.queryHash)?.state.data,u=LO(t,c);if(u!==void 0)return this.#e.build(this,n).setData(u,{...s,manual:!0})}setQueriesData(e,t,s){return Ms.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Ms.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return Ms.batch(()=>(s.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},n=Ms.batch(()=>this.#e.findAll(e).map(o=>o.cancel(s)));return Promise.all(n).then(mn).catch(mn)}invalidateQueries(e,t={}){return Ms.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},n=Ms.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,s);return s.throwOnError||(c=c.catch(mn)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(n).then(mn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(Ui(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(mn).catch(mn)}fetchInfiniteQuery(e){return e.behavior=ow(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(mn).catch(mn)}ensureInfiniteQueryData(e){return e.behavior=ow(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dm.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#a.set(Po(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],s={};return t.forEach(n=>{Bu(e,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(e,t){this.#n.set(Po(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],s={};return t.forEach(n=>{Bu(e,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=eb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===tb&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},h2=g.createContext(void 0),Lt=e=>{const t=g.useContext(h2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ok=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(h2.Provider,{value:e,children:t})),p2=g.createContext(!1),lk=()=>g.useContext(p2);p2.Provider;function ck(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var uk=g.createContext(ck()),dk=()=>g.useContext(uk),fk=(e,t,s)=>{const n=s?.state.error&&typeof e.throwOnError=="function"?sb(e.throwOnError,[s.state.error,s]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},mk=e=>{g.useEffect(()=>{e.clearReset()},[e])},hk=({result:e,errorResetBoundary:t,throwOnError:s,query:n,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(o&&e.data===void 0||sb(s,[e.error,n])),pk=e=>{if(e.suspense){const s=o=>o==="static"?o:Math.max(o??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...o)=>s(n(...o)):s(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},gk=(e,t)=>e.isLoading&&e.isFetching&&!t,xk=(e,t)=>e?.suspense&&t.isPending,cw=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function bk(e,t,s){const n=lk(),o=dk(),c=Lt(),u=c.defaultQueryOptions(e);c.getDefaultOptions().queries?._experimental_beforeQuery?.(u);const f=c.getQueryCache().get(u.queryHash);u._optimisticResults=n?"isRestoring":"optimistic",pk(u),fk(u,o,f),mk(o);const m=!c.getQueryCache().get(u.queryHash),[h]=g.useState(()=>new t(c,u)),x=h.getOptimisticResult(u),v=!n&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(y=>{const j=v?h.subscribe(Ms.batchCalls(y)):mn;return h.updateResult(),j},[h,v]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),g.useEffect(()=>{h.setOptions(u)},[u,h]),xk(u,x))throw cw(u,h,o);if(hk({result:x,errorResetBoundary:o,throwOnError:u.throwOnError,query:f,suspense:u.suspense}))throw x.error;return c.getDefaultOptions().queries?._experimental_afterQuery?.(u,x),u.experimental_prefetchInRender&&!$o&&gk(x,n)&&(m?cw(u,h,o):f?.promise)?.catch(mn).finally(()=>{h.updateResult()}),u.notifyOnChangeProps?x:h.trackResult(x)}function ze(e,t){return bk(e,XO)}function Ze(e,t){const s=Lt(),[n]=g.useState(()=>new ak(s,e));g.useEffect(()=>{n.setOptions(e)},[n,e]);const o=g.useSyncExternalStore(g.useCallback(u=>n.subscribe(Ms.batchCalls(u)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),c=g.useCallback((u,f)=>{n.mutate(u,f).catch(mn)},[n]);if(o.error&&sb(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:c,mutateAsync:o.mutate}}let vk={data:""},yk=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||vk},jk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,wk=/\/\*[^]*?\*\/|  +/g,uw=/\n+/g,zi=(e,t)=>{let s="",n="",o="";for(let c in e){let u=e[c];c[0]=="@"?c[1]=="i"?s=c+" "+u+";":n+=c[1]=="f"?zi(u,c):c+"{"+zi(u,c[1]=="k"?"":t)+"}":typeof u=="object"?n+=zi(u,t?t.replace(/([^,])+/g,f=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,f):f?f+" "+m:m)):c):u!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=zi.p?zi.p(c,u):c+":"+u+";")}return s+(t&&o?t+"{"+o+"}":o)+n},Br={},g2=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+g2(e[s]);return t}return e},Sk=(e,t,s,n,o)=>{let c=g2(e),u=Br[c]||(Br[c]=(m=>{let h=0,x=11;for(;h<m.length;)x=101*x+m.charCodeAt(h++)>>>0;return"go"+x})(c));if(!Br[u]){let m=c!==e?e:(h=>{let x,v,y=[{}];for(;x=jk.exec(h.replace(wk,""));)x[4]?y.shift():x[3]?(v=x[3].replace(uw," ").trim(),y.unshift(y[0][v]=y[0][v]||{})):y[0][x[1]]=x[2].replace(uw," ").trim();return y[0]})(e);Br[u]=zi(o?{["@keyframes "+u]:m}:m,s?"":"."+u)}let f=s&&Br.g?Br.g:null;return s&&(Br.g=Br[u]),((m,h,x,v)=>{v?h.data=h.data.replace(v,m):h.data.indexOf(m)===-1&&(h.data=x?m+h.data:h.data+m)})(Br[u],t,n,f),u},Nk=(e,t,s)=>e.reduce((n,o,c)=>{let u=t[c];if(u&&u.call){let f=u(s),m=f&&f.props&&f.props.className||/^go/.test(f)&&f;u=m?"."+m:f&&typeof f=="object"?f.props?"":zi(f,""):f===!1?"":f}return n+o+(u??"")},"");function fh(e){let t=this||{},s=e.call?e(t.p):e;return Sk(s.unshift?s.raw?Nk(s,[].slice.call(arguments,1),t.p):s.reduce((n,o)=>Object.assign(n,o&&o.call?o(t.p):o),{}):s,yk(t.target),t.g,t.o,t.k)}let x2,mx,hx;fh.bind({g:1});let Wr=fh.bind({k:1});function Ck(e,t,s,n){zi.p=t,x2=e,mx=s,hx=n}function eo(e,t){let s=this||{};return function(){let n=arguments;function o(c,u){let f=Object.assign({},c),m=f.className||o.className;s.p=Object.assign({theme:mx&&mx()},f),s.o=/ *go\d+/.test(m),f.className=fh.apply(s,n)+(m?" "+m:"");let h=e;return e[0]&&(h=f.as||e,delete f.as),hx&&h[0]&&hx(f),x2(h,f)}return o}}var Ek=e=>typeof e=="function",zm=(e,t)=>Ek(e)?e(t):e,_k=(()=>{let e=0;return()=>(++e).toString()})(),b2=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Tk=20,rb="default",v2=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(u=>u.id===t.toast.id?{...u,...t.toast}:u)};case 2:let{toast:n}=t;return v2(e,{type:e.toasts.find(u=>u.id===n.id)?1:0,toast:n});case 3:let{toastId:o}=t;return{...e,toasts:e.toasts.map(u=>u.id===o||o===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(u=>u.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let c=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+c}))}}},xm=[],y2={toasts:[],pausedAt:void 0,settings:{toastLimit:Tk}},Ja={},j2=(e,t=rb)=>{Ja[t]=v2(Ja[t]||y2,e),xm.forEach(([s,n])=>{s===t&&n(Ja[t])})},w2=e=>Object.keys(Ja).forEach(t=>j2(e,t)),Ok=e=>Object.keys(Ja).find(t=>Ja[t].toasts.some(s=>s.id===e)),mh=(e=rb)=>t=>{j2(t,e)},kk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ak=(e={},t=rb)=>{let[s,n]=g.useState(Ja[t]||y2),o=g.useRef(Ja[t]);g.useEffect(()=>(o.current!==Ja[t]&&n(Ja[t]),xm.push([t,n]),()=>{let u=xm.findIndex(([f])=>f===t);u>-1&&xm.splice(u,1)}),[t]);let c=s.toasts.map(u=>{var f,m,h;return{...e,...e[u.type],...u,removeDelay:u.removeDelay||((f=e[u.type])==null?void 0:f.removeDelay)||e?.removeDelay,duration:u.duration||((m=e[u.type])==null?void 0:m.duration)||e?.duration||kk[u.type],style:{...e.style,...(h=e[u.type])==null?void 0:h.style,...u.style}}});return{...s,toasts:c}},Mk=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:s?.id||_k()}),Ju=e=>(t,s)=>{let n=Mk(t,e,s);return mh(n.toasterId||Ok(n.id))({type:2,toast:n}),n.id},bt=(e,t)=>Ju("blank")(e,t);bt.error=Ju("error");bt.success=Ju("success");bt.loading=Ju("loading");bt.custom=Ju("custom");bt.dismiss=(e,t)=>{let s={type:3,toastId:e};t?mh(t)(s):w2(s)};bt.dismissAll=e=>bt.dismiss(void 0,e);bt.remove=(e,t)=>{let s={type:4,toastId:e};t?mh(t)(s):w2(s)};bt.removeAll=e=>bt.remove(void 0,e);bt.promise=(e,t,s)=>{let n=bt.loading(t.loading,{...s,...s?.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let c=t.success?zm(t.success,o):void 0;return c?bt.success(c,{id:n,...s,...s?.success}):bt.dismiss(n),o}).catch(o=>{let c=t.error?zm(t.error,o):void 0;c?bt.error(c,{id:n,...s,...s?.error}):bt.dismiss(n)}),e};var Rk=1e3,Dk=(e,t="default")=>{let{toasts:s,pausedAt:n}=Ak(e,t),o=g.useRef(new Map).current,c=g.useCallback((v,y=Rk)=>{if(o.has(v))return;let j=setTimeout(()=>{o.delete(v),u({type:4,toastId:v})},y);o.set(v,j)},[]);g.useEffect(()=>{if(n)return;let v=Date.now(),y=s.map(j=>{if(j.duration===1/0)return;let w=(j.duration||0)+j.pauseDuration-(v-j.createdAt);if(w<0){j.visible&&bt.dismiss(j.id);return}return setTimeout(()=>bt.dismiss(j.id,t),w)});return()=>{y.forEach(j=>j&&clearTimeout(j))}},[s,n,t]);let u=g.useCallback(mh(t),[t]),f=g.useCallback(()=>{u({type:5,time:Date.now()})},[u]),m=g.useCallback((v,y)=>{u({type:1,toast:{id:v,height:y}})},[u]),h=g.useCallback(()=>{n&&u({type:6,time:Date.now()})},[n,u]),x=g.useCallback((v,y)=>{let{reverseOrder:j=!1,gutter:w=8,defaultPosition:S}=y||{},N=s.filter(O=>(O.position||S)===(v.position||S)&&O.height),T=N.findIndex(O=>O.id===v.id),E=N.filter((O,k)=>k<T&&O.visible).length;return N.filter(O=>O.visible).slice(...j?[E+1]:[0,E]).reduce((O,k)=>O+(k.height||0)+w,0)},[s]);return g.useEffect(()=>{s.forEach(v=>{if(v.dismissed)c(v.id,v.removeDelay);else{let y=o.get(v.id);y&&(clearTimeout(y),o.delete(v.id))}})},[s,c]),{toasts:s,handlers:{updateHeight:m,startPause:f,endPause:h,calculateOffset:x}}},zk=Wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$k=Wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pk=Wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ik=eo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$k} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Pk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Fk=Wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Lk=eo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Fk} 1s linear infinite;
`,qk=Wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Uk=Wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Bk=eo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Uk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Vk=eo("div")`
  position: absolute;
`,Hk=eo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Gk=Wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Qk=eo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Gk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Zk=({toast:e})=>{let{icon:t,type:s,iconTheme:n}=e;return t!==void 0?typeof t=="string"?g.createElement(Qk,null,t):t:s==="blank"?null:g.createElement(Hk,null,g.createElement(Lk,{...n}),s!=="loading"&&g.createElement(Vk,null,s==="error"?g.createElement(Ik,{...n}):g.createElement(Bk,{...n})))},Kk=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Yk=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Wk="0%{opacity:0;} 100%{opacity:1;}",Xk="0%{opacity:1;} 100%{opacity:0;}",Jk=eo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eA=eo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,tA=(e,t)=>{let s=e.includes("top")?1:-1,[n,o]=b2()?[Wk,Xk]:[Kk(s),Yk(s)];return{animation:t?`${Wr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Wr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},sA=g.memo(({toast:e,position:t,style:s,children:n})=>{let o=e.height?tA(e.position||t||"top-center",e.visible):{opacity:0},c=g.createElement(Zk,{toast:e}),u=g.createElement(eA,{...e.ariaProps},zm(e.message,e));return g.createElement(Jk,{className:e.className,style:{...o,...s,...e.style}},typeof n=="function"?n({icon:c,message:u}):g.createElement(g.Fragment,null,c,u))});Ck(g.createElement);var nA=({id:e,className:t,style:s,onHeightUpdate:n,children:o})=>{let c=g.useCallback(u=>{if(u){let f=()=>{let m=u.getBoundingClientRect().height;n(e,m)};f(),new MutationObserver(f).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return g.createElement("div",{ref:c,className:t,style:s},o)},aA=(e,t)=>{let s=e.includes("top"),n=s?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:b2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...n,...o}},rA=fh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Kf=16,iA=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:n,children:o,toasterId:c,containerStyle:u,containerClassName:f})=>{let{toasts:m,handlers:h}=Dk(s,c);return g.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:Kf,left:Kf,right:Kf,bottom:Kf,pointerEvents:"none",...u},className:f,onMouseEnter:h.startPause,onMouseLeave:h.endPause},m.map(x=>{let v=x.position||t,y=h.calculateOffset(x,{reverseOrder:e,gutter:n,defaultPosition:t}),j=aA(v,y);return g.createElement(nA,{id:x.id,key:x.id,onHeightUpdate:h.updateHeight,className:x.visible?rA:"",style:j},x.type==="custom"?zm(x.message,x):o?o(x):g.createElement(sA,{toast:x,position:v}))}))},he=bt;function S2(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(s=S2(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function oA(){for(var e,t,s=0,n="",o=arguments.length;s<o;s++)(e=arguments[s])&&(t=S2(e))&&(n&&(n+=" "),n+=t);return n}const lA=(e,t)=>{const s=new Array(e.length+t.length);for(let n=0;n<e.length;n++)s[n]=e[n];for(let n=0;n<t.length;n++)s[e.length+n]=t[n];return s},cA=(e,t)=>({classGroupId:e,validator:t}),N2=(e=new Map,t=null,s)=>({nextPart:e,validators:t,classGroupId:s}),$m="-",dw=[],uA="arbitrary..",dA=e=>{const t=mA(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return fA(u);const f=u.split($m),m=f[0]===""&&f.length>1?1:0;return C2(f,m,t)},getConflictingClassGroupIds:(u,f)=>{if(f){const m=n[u],h=s[u];return m?h?lA(h,m):m:h||dw}return s[u]||dw}}},C2=(e,t,s)=>{if(e.length-t===0)return s.classGroupId;const o=e[t],c=s.nextPart.get(o);if(c){const h=C2(e,t+1,c);if(h)return h}const u=s.validators;if(u===null)return;const f=t===0?e.join($m):e.slice(t).join($m),m=u.length;for(let h=0;h<m;h++){const x=u[h];if(x.validator(f))return x.classGroupId}},fA=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),s=t.indexOf(":"),n=t.slice(0,s);return n?uA+n:void 0})(),mA=e=>{const{theme:t,classGroups:s}=e;return hA(s,t)},hA=(e,t)=>{const s=N2();for(const n in e){const o=e[n];ib(o,s,n,t)}return s},ib=(e,t,s,n)=>{const o=e.length;for(let c=0;c<o;c++){const u=e[c];pA(u,t,s,n)}},pA=(e,t,s,n)=>{if(typeof e=="string"){gA(e,t,s);return}if(typeof e=="function"){xA(e,t,s,n);return}bA(e,t,s,n)},gA=(e,t,s)=>{const n=e===""?t:E2(t,e);n.classGroupId=s},xA=(e,t,s,n)=>{if(vA(e)){ib(e(n),t,s,n);return}t.validators===null&&(t.validators=[]),t.validators.push(cA(s,e))},bA=(e,t,s,n)=>{const o=Object.entries(e),c=o.length;for(let u=0;u<c;u++){const[f,m]=o[u];ib(m,E2(t,f),s,n)}},E2=(e,t)=>{let s=e;const n=t.split($m),o=n.length;for(let c=0;c<o;c++){const u=n[c];let f=s.nextPart.get(u);f||(f=N2(),s.nextPart.set(u,f)),s=f}return s},vA=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,yA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=Object.create(null),n=Object.create(null);const o=(c,u)=>{s[c]=u,t++,t>e&&(t=0,n=s,s=Object.create(null))};return{get(c){let u=s[c];if(u!==void 0)return u;if((u=n[c])!==void 0)return o(c,u),u},set(c,u){c in s?s[c]=u:o(c,u)}}},px="!",fw=":",jA=[],mw=(e,t,s,n,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:s,maybePostfixModifierPosition:n,isExternal:o}),wA=e=>{const{prefix:t,experimentalParseClassName:s}=e;let n=o=>{const c=[];let u=0,f=0,m=0,h;const x=o.length;for(let S=0;S<x;S++){const N=o[S];if(u===0&&f===0){if(N===fw){c.push(o.slice(m,S)),m=S+1;continue}if(N==="/"){h=S;continue}}N==="["?u++:N==="]"?u--:N==="("?f++:N===")"&&f--}const v=c.length===0?o:o.slice(m);let y=v,j=!1;v.endsWith(px)?(y=v.slice(0,-1),j=!0):v.startsWith(px)&&(y=v.slice(1),j=!0);const w=h&&h>m?h-m:void 0;return mw(c,j,y,w)};if(t){const o=t+fw,c=n;n=u=>u.startsWith(o)?c(u.slice(o.length)):mw(jA,!1,u,void 0,!0)}if(s){const o=n;n=c=>s({className:c,parseClassName:o})}return n},SA=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((s,n)=>{t.set(s,1e6+n)}),s=>{const n=[];let o=[];for(let c=0;c<s.length;c++){const u=s[c],f=u[0]==="[",m=t.has(u);f||m?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(u)):o.push(u)}return o.length>0&&(o.sort(),n.push(...o)),n}},NA=e=>({cache:yA(e.cacheSize),parseClassName:wA(e),sortModifiers:SA(e),...dA(e)}),CA=/\s+/,EA=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:c}=t,u=[],f=e.trim().split(CA);let m="";for(let h=f.length-1;h>=0;h-=1){const x=f[h],{isExternal:v,modifiers:y,hasImportantModifier:j,baseClassName:w,maybePostfixModifierPosition:S}=s(x);if(v){m=x+(m.length>0?" "+m:m);continue}let N=!!S,T=n(N?w.substring(0,S):w);if(!T){if(!N){m=x+(m.length>0?" "+m:m);continue}if(T=n(w),!T){m=x+(m.length>0?" "+m:m);continue}N=!1}const E=y.length===0?"":y.length===1?y[0]:c(y).join(":"),O=j?E+px:E,k=O+T;if(u.indexOf(k)>-1)continue;u.push(k);const R=o(T,N);for(let P=0;P<R.length;++P){const z=R[P];u.push(O+z)}m=x+(m.length>0?" "+m:m)}return m},_A=(...e)=>{let t=0,s,n,o="";for(;t<e.length;)(s=e[t++])&&(n=_2(s))&&(o&&(o+=" "),o+=n);return o},_2=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=_2(e[n]))&&(s&&(s+=" "),s+=t);return s},TA=(e,...t)=>{let s,n,o,c;const u=m=>{const h=t.reduce((x,v)=>v(x),e());return s=NA(h),n=s.cache.get,o=s.cache.set,c=f,f(m)},f=m=>{const h=n(m);if(h)return h;const x=EA(m,s);return o(m,x),x};return c=u,(...m)=>c(_A(...m))},OA=[],Os=e=>{const t=s=>s[e]||OA;return t.isThemeGetter=!0,t},T2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,O2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,kA=/^\d+\/\d+$/,AA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,DA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dl=e=>kA.test(e),ot=e=>!!e&&!Number.isNaN(Number(e)),Mi=e=>!!e&&Number.isInteger(Number(e)),_0=e=>e.endsWith("%")&&ot(e.slice(0,-1)),Vr=e=>AA.test(e),$A=()=>!0,PA=e=>MA.test(e)&&!RA.test(e),k2=()=>!1,IA=e=>DA.test(e),FA=e=>zA.test(e),LA=e=>!Fe(e)&&!Le(e),qA=e=>oc(e,R2,k2),Fe=e=>T2.test(e),Eo=e=>oc(e,D2,PA),T0=e=>oc(e,GA,ot),hw=e=>oc(e,A2,k2),UA=e=>oc(e,M2,FA),Yf=e=>oc(e,z2,IA),Le=e=>O2.test(e),vu=e=>lc(e,D2),BA=e=>lc(e,QA),pw=e=>lc(e,A2),VA=e=>lc(e,R2),HA=e=>lc(e,M2),Wf=e=>lc(e,z2,!0),oc=(e,t,s)=>{const n=T2.exec(e);return n?n[1]?t(n[1]):s(n[2]):!1},lc=(e,t,s=!1)=>{const n=O2.exec(e);return n?n[1]?t(n[1]):s:!1},A2=e=>e==="position"||e==="percentage",M2=e=>e==="image"||e==="url",R2=e=>e==="length"||e==="size"||e==="bg-size",D2=e=>e==="length",GA=e=>e==="number",QA=e=>e==="family-name",z2=e=>e==="shadow",ZA=()=>{const e=Os("color"),t=Os("font"),s=Os("text"),n=Os("font-weight"),o=Os("tracking"),c=Os("leading"),u=Os("breakpoint"),f=Os("container"),m=Os("spacing"),h=Os("radius"),x=Os("shadow"),v=Os("inset-shadow"),y=Os("text-shadow"),j=Os("drop-shadow"),w=Os("blur"),S=Os("perspective"),N=Os("aspect"),T=Os("ease"),E=Os("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...k(),Le,Fe],P=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],F=()=>[Le,Fe,m],te=()=>[Dl,"full","auto",...F()],H=()=>[Mi,"none","subgrid",Le,Fe],Y=()=>["auto",{span:["full",Mi,Le,Fe]},Mi,Le,Fe],Z=()=>[Mi,"auto",Le,Fe],ee=()=>["auto","min","max","fr",Le,Fe],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",...F()],I=()=>[Dl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],$=()=>[e,Le,Fe],K=()=>[...k(),pw,hw,{position:[Le,Fe]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],_=()=>["auto","cover","contain",VA,qA,{size:[Le,Fe]}],L=()=>[_0,vu,Eo],G=()=>["","none","full",h,Le,Fe],ne=()=>["",ot,vu,Eo],D=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[ot,_0,pw,hw],we=()=>["","none",w,Le,Fe],ue=()=>["none",ot,Le,Fe],ve=()=>["none",ot,Le,Fe],$e=()=>[ot,Le,Fe],St=()=>[Dl,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vr],breakpoint:[Vr],color:[$A],container:[Vr],"drop-shadow":[Vr],ease:["in","out","in-out"],font:[LA],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vr],shadow:[Vr],spacing:["px",ot],text:[Vr],"text-shadow":[Vr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Dl,Fe,Le,N]}],container:["container"],columns:[{columns:[ot,Fe,Le,f]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:te()}],"inset-x":[{"inset-x":te()}],"inset-y":[{"inset-y":te()}],start:[{start:te()}],end:[{end:te()}],top:[{top:te()}],right:[{right:te()}],bottom:[{bottom:te()}],left:[{left:te()}],visibility:["visible","invisible","collapse"],z:[{z:[Mi,"auto",Le,Fe]}],basis:[{basis:[Dl,"full","auto",f,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ot,Dl,"auto","initial","none",Fe]}],grow:[{grow:["",ot,Le,Fe]}],shrink:[{shrink:["",ot,Le,Fe]}],order:[{order:[Mi,"first","last","none",Le,Fe]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ee()}],"auto-rows":[{"auto-rows":ee()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[f,"screen",...I()]}],"min-w":[{"min-w":[f,"screen","none",...I()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",s,vu,Eo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Le,T0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_0,Fe]}],"font-family":[{font:[BA,Fe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Le,Fe]}],"line-clamp":[{"line-clamp":[ot,"none",Le,T0]}],leading:[{leading:[c,...F()]}],"list-image":[{"list-image":["none",Le,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Le,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:[ot,"from-font","auto",Le,Eo]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[ot,"auto",Le,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:_()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mi,Le,Fe],radial:["",Le,Fe],conic:[Mi,Le,Fe]},HA,UA]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...D(),"hidden","none"]}],"divide-style":[{divide:[...D(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...D(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ot,Le,Fe]}],"outline-w":[{outline:["",ot,vu,Eo]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",x,Wf,Yf]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",v,Wf,Yf]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[ot,Eo]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",y,Wf,Yf]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[ot,Le,Fe]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ot]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Le,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[ot]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:_()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Le,Fe]}],filter:[{filter:["","none",Le,Fe]}],blur:[{blur:we()}],brightness:[{brightness:[ot,Le,Fe]}],contrast:[{contrast:[ot,Le,Fe]}],"drop-shadow":[{"drop-shadow":["","none",j,Wf,Yf]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",ot,Le,Fe]}],"hue-rotate":[{"hue-rotate":[ot,Le,Fe]}],invert:[{invert:["",ot,Le,Fe]}],saturate:[{saturate:[ot,Le,Fe]}],sepia:[{sepia:["",ot,Le,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",Le,Fe]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[ot,Le,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[ot,Le,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ot,Le,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ot,Le,Fe]}],"backdrop-invert":[{"backdrop-invert":["",ot,Le,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[ot,Le,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[ot,Le,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",ot,Le,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Le,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ot,"initial",Le,Fe]}],ease:[{ease:["linear","initial",T,Le,Fe]}],delay:[{delay:[ot,Le,Fe]}],animate:[{animate:["none",E,Le,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Le,Fe]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:ve()}],"scale-x":[{"scale-x":ve()}],"scale-y":[{"scale-y":ve()}],"scale-z":[{"scale-z":ve()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Le,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:St()}],"translate-x":[{"translate-x":St()}],"translate-y":[{"translate-y":St()}],"translate-z":[{"translate-z":St()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le,Fe]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[ot,vu,Eo,T0]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},KA=TA(ZA);function je(...e){return KA(oA(e))}const gw=e=>{let t;const s=new Set,n=(h,x)=>{const v=typeof h=="function"?h(t):h;if(!Object.is(v,t)){const y=t;t=x??(typeof v!="object"||v===null)?v:Object.assign({},t,v),s.forEach(j=>j(t,y))}},o=()=>t,f={setState:n,getState:o,getInitialState:()=>m,subscribe:h=>(s.add(h),()=>s.delete(h))},m=t=e(n,o,f);return f},YA=(e=>e?gw(e):gw),WA=e=>e;function XA(e,t=WA){const s=oe.useSyncExternalStore(e.subscribe,oe.useCallback(()=>t(e.getState()),[e,t]),oe.useCallback(()=>t(e.getInitialState()),[e,t]));return oe.useDebugValue(s),s}const xw=e=>{const t=YA(e),s=n=>XA(t,n);return Object.assign(s,t),s},$2=(e=>e?xw(e):xw),ob=$2(e=>({sidebarOpen:!0,sidebarCollapsed:!1,toggleSidebar:()=>e(t=>({sidebarOpen:!t.sidebarOpen})),setSidebarOpen:t=>e({sidebarOpen:t}),toggleSidebarCollapsed:()=>e(t=>({sidebarCollapsed:!t.sidebarCollapsed}))}));function JA(e,t){let s;try{s=e()}catch{return}return{getItem:o=>{var c;const u=m=>m===null?null:JSON.parse(m,void 0),f=(c=s.getItem(o))!=null?c:null;return f instanceof Promise?f.then(u):u(f)},setItem:(o,c)=>s.setItem(o,JSON.stringify(c,void 0)),removeItem:o=>s.removeItem(o)}}const gx=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then(n){return gx(n)(s)},catch(n){return this}}}catch(s){return{then(n){return this},catch(n){return gx(n)(s)}}}},e3=(e,t)=>(s,n,o)=>{let c={storage:JA(()=>localStorage),partialize:S=>S,version:0,merge:(S,N)=>({...N,...S}),...t},u=!1;const f=new Set,m=new Set;let h=c.storage;if(!h)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),s(...S)},n,o);const x=()=>{const S=c.partialize({...n()});return h.setItem(c.name,{state:S,version:c.version})},v=o.setState;o.setState=(S,N)=>(v(S,N),x());const y=e((...S)=>(s(...S),x()),n,o);o.getInitialState=()=>y;let j;const w=()=>{var S,N;if(!h)return;u=!1,f.forEach(E=>{var O;return E((O=n())!=null?O:y)});const T=((N=c.onRehydrateStorage)==null?void 0:N.call(c,(S=n())!=null?S:y))||void 0;return gx(h.getItem.bind(h))(c.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==c.version){if(c.migrate){const O=c.migrate(E.state,E.version);return O instanceof Promise?O.then(k=>[!0,k]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var O;const[k,R]=E;if(j=c.merge(R,(O=n())!=null?O:y),s(j,!0),k)return x()}).then(()=>{T?.(j,void 0),j=n(),u=!0,m.forEach(E=>E(j))}).catch(E=>{T?.(void 0,E)})};return o.persist={setOptions:S=>{c={...c,...S},S.storage&&(h=S.storage)},clearStorage:()=>{h?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>w(),hasHydrated:()=>u,onHydrate:S=>(f.add(S),()=>{f.delete(S)}),onFinishHydration:S=>(m.add(S),()=>{m.delete(S)})},c.skipHydration||w(),j||y},t3=e3,qt=$2()(t3(e=>({usuario:null,gabinete:null,gabinetes:[],subgabinete:null,subgabinetes:[],token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,login:(t,s,n,o)=>e({usuario:t,gabinete:s,gabinetes:t.gabinetes||[],subgabinete:null,subgabinetes:t.subgabinetes||[],token:n,refreshToken:o,isAuthenticated:!0,isLoading:!1}),logout:()=>e({usuario:null,gabinete:null,gabinetes:[],subgabinete:null,subgabinetes:[],token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1}),setLoading:t=>e({isLoading:t}),updateUsuario:t=>e(s=>({usuario:s.usuario?{...s.usuario,...t}:null})),setTokens:(t,s)=>e({token:t,refreshToken:s}),setGabinete:t=>e({gabinete:t}),setGabinetes:t=>e({gabinetes:t}),setSubgabinete:t=>e({subgabinete:t}),setSubgabinetes:t=>e({subgabinetes:t})}),{name:"gpvx-auth",partialize:e=>({usuario:e.usuario,gabinete:e.gabinete,gabinetes:e.gabinetes,subgabinete:e.subgabinete,subgabinetes:e.subgabinetes,token:e.token,refreshToken:e.refreshToken,isAuthenticated:e.isAuthenticated})}));const s3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,n)=>n?n.toUpperCase():s.toLowerCase()),bw=e=>{const t=n3(e);return t.charAt(0).toUpperCase()+t.slice(1)},P2=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim(),a3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var r3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const i3=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:o="",children:c,iconNode:u,...f},m)=>g.createElement("svg",{ref:m,...r3,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:P2("lucide",o),...!c&&!a3(f)&&{"aria-hidden":"true"},...f},[...u.map(([h,x])=>g.createElement(h,x)),...Array.isArray(c)?c:[c]]));const Ae=(e,t)=>{const s=g.forwardRef(({className:n,...o},c)=>g.createElement(i3,{ref:c,iconNode:t,className:P2(`lucide-${s3(bw(e))}`,`lucide-${e}`,n),...o}));return s.displayName=bw(e),s};const o3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],I2=Ae("arrow-left",o3);const l3=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Qr=Ae("arrow-up-right",l3);const c3=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],u3=Ae("bell",c3);const d3=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],ds=Ae("building-2",d3);const f3=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Ll=Ae("building",f3);const m3=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],Du=Ae("cake",m3);const h3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xn=Ae("calendar",h3);const p3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],si=Ae("chart-column",p3);const g3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lb=Ae("check",g3);const x3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Bi=Ae("chevron-down",x3);const b3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],F2=Ae("chevron-left",b3);const v3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],L2=Ae("chevron-right",v3);const y3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],j3=Ae("chevron-up",y3);const w3=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],S3=Ae("chevrons-left",w3);const N3=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],C3=Ae("chevrons-right",N3);const E3=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],_3=Ae("chevrons-up-down",E3);const T3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hh=Ae("circle-alert",T3);const O3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],va=Ae("circle-check-big",O3);const k3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],q2=Ae("circle-pause",k3);const A3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],M3=Ae("circle-question-mark",A3);const R3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ed=Ae("circle-x",R3);const D3=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],kn=Ae("clipboard-list",D3);const z3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Io=Ae("clock",z3);const $3=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],vw=Ae("crown",$3);const P3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ni=Ae("download",P3);const I3=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],F3=Ae("ellipsis-vertical",I3);const L3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],q3=Ae("eye-off",L3);const U3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],td=Ae("eye",U3);const B3=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],V3=Ae("facebook",B3);const H3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],G3=Ae("file-question-mark",H3);const Q3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],rn=Ae("file-text",Q3);const Z3=[["path",{d:"M15 2h-4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"14sh0y"}],["path",{d:"M16.706 2.706A2.4 2.4 0 0 0 15 2v5a1 1 0 0 0 1 1h5a2.4 2.4 0 0 0-.706-1.706z",key:"1970lx"}],["path",{d:"M5 7a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 1.732-1",key:"l4dndm"}]],yw=Ae("files",Z3);const K3=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],_u=Ae("folder-kanban",K3);const Y3=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],W3=Ae("folder-open",Y3);const X3=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fr=Ae("funnel",X3);const J3=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],jw=Ae("gift",J3);const eM=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],tM=Ae("hash",eM);const sM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],U2=Ae("history",sM);const nM=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],aM=Ae("instagram",nM);const rM=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],sr=Ae("layers",rM);const iM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],B2=Ae("layout-dashboard",iM);const oM=[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],V2=Ae("link-2-off",oM);const lM=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],H2=Ae("link-2",lM);const cM=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],G2=Ae("link",cM);const uM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Aa=Ae("loader-circle",uM);const dM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yl=Ae("lock",dM);const fM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Q2=Ae("log-out",fM);const mM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Rn=Ae("mail",mM);const hM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Kn=Ae("map-pin",hM);const pM=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],Tu=Ae("map-pinned",pM);const gM=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Pm=Ae("message-circle",gM);const xM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],pn=Ae("message-square",xM);const bM=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],cb=Ae("palette",bM);const vM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],yM=Ae("pencil",vM);const jM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ds=Ae("phone",jM);const wM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fs=Ae("plus",wM);const SM=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],to=Ae("power-off",SM);const NM=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],so=Ae("power",NM);const CM=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Vi=Ae("qr-code",CM);const EM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Wl=Ae("refresh-cw",EM);const _M=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Jn=Ae("save",_M);const TM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bn=Ae("search",TM);const OM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ph=Ae("send",OM);const kM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Z2=Ae("settings",kM);const AM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ma=Ae("shield",AM);const MM=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],RM=Ae("smartphone",MM);const DM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ww=Ae("sparkles",DM);const zM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ia=Ae("square-pen",zM);const $M=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ns=Ae("tag",$M);const PM=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],IM=Ae("tags",PM);const FM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gh=Ae("trash-2",FM);const LM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sd=Ae("triangle-alert",LM);const qM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],K2=Ae("upload",qM);const UM=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bm=Ae("user-check",UM);const BM=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Im=Ae("user-cog",BM);const VM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],HM=Ae("user-plus",VM);const GM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rt=Ae("user",GM);const QM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],es=Ae("users",QM);const ZM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ht=Ae("x",ZM),KM={primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500 active:bg-primary-700 shadow-md hover:shadow-lg",secondary:"bg-slate-100 text-slate-700 hover:bg-slate-200 focus:ring-slate-400 active:bg-slate-300",outline:"border-2 border-primary-500 text-primary-600 hover:bg-primary-50 focus:ring-primary-500 active:bg-primary-100",ghost:"text-slate-600 hover:bg-slate-100 focus:ring-slate-400 active:bg-slate-200",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500 active:bg-red-700"},YM={sm:"px-3 py-1.5 text-sm rounded-lg",md:"px-4 py-2.5 rounded-xl",lg:"px-6 py-3 text-lg rounded-xl"},ke=oe.forwardRef(({className:e,variant:t="primary",size:s="md",isLoading:n,disabled:o,leftIcon:c,rightIcon:u,children:f,...m},h)=>r.jsxs("button",{ref:h,className:je("inline-flex items-center justify-center gap-2 font-medium","transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed",KM[t],YM[s],e),disabled:o||n,...m,children:[n?r.jsx(Aa,{className:"w-4 h-4 animate-spin"}):c,f,!n&&u]}));ke.displayName="Button";const Ve=oe.forwardRef(({className:e,label:t,error:s,helperText:n,leftIcon:o,rightIcon:c,...u},f)=>r.jsxs("div",{className:"w-full",children:[t&&r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:t}),r.jsxs("div",{className:"relative",children:[o&&r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:o}),r.jsx("input",{ref:f,className:je("w-full px-4 py-2.5 rounded-xl border bg-white","focus:outline-none focus:ring-2 focus:border-transparent","placeholder:text-slate-400 transition-all duration-200",s?"border-red-300 focus:ring-red-500":"border-slate-200 focus:ring-primary-500",o&&"pl-10",c&&"pr-10",e),...u}),c&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:c})]}),s&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:s}),n&&!s&&r.jsx("p",{className:"text-sm text-slate-500 mt-1",children:n})]}));Ve.displayName="Input";function WM(e){if(!e)return"";const t=e.split("-");return t.length!==3?"":`${t[2]}/${t[1]}/${t[0]}`}const Y2=oe.forwardRef(({value:e="",onChange:t,label:s,error:n,disabled:o,className:c},u)=>{const f=h=>{t&&t(h.target.value)},m=WM(e);return r.jsxs("div",{className:"w-full",children:[s&&r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:s}),r.jsxs("div",{className:"relative",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none z-10"}),r.jsx("div",{className:"absolute left-10 top-1/2 -translate-y-1/2 pointer-events-none z-10",children:r.jsx("span",{className:m?"text-slate-900":"text-slate-400",children:m||"dd/mm/aaaa"})}),r.jsx("input",{ref:u,type:"date",value:e,onChange:f,disabled:o,className:je("w-full pl-10 pr-4 py-2.5 rounded-xl border bg-white cursor-pointer","focus:outline-none focus:ring-2 focus:border-transparent","transition-all duration-200",n?"border-red-300 focus:ring-red-500":"border-slate-200 focus:ring-primary-500",o&&"bg-slate-50 cursor-not-allowed",c),style:{color:"transparent"}})]}),n&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:n})]})});Y2.displayName="DateInput";const Pe=oe.forwardRef(({className:e,variant:t="default",padding:s="md",children:n,...o},c)=>{const u={none:"",sm:"p-4",md:"p-6",lg:"p-8"},f={default:"",hover:"hover:shadow-lg transition-shadow duration-200",interactive:"hover:shadow-lg hover:border-primary-200 transition-all duration-200 cursor-pointer"};return r.jsx("div",{ref:c,className:je("bg-white rounded-2xl shadow-soft border border-slate-100",u[s],f[t],e),...o,children:n})});Pe.displayName="Card";const ql=({className:e,children:t,...s})=>r.jsx("div",{className:je("mb-4",e),...s,children:t}),Ul=({className:e,children:t,...s})=>r.jsx("h3",{className:je("text-lg font-semibold text-slate-900",e),...s,children:t}),Zr=({className:e,children:t,...s})=>r.jsx("div",{className:je("",e),...s,children:t}),XM={default:"bg-slate-100 text-slate-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"},JM={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"},ts=({className:e,variant:t="default",size:s="md",children:n,...o})=>r.jsx("span",{className:je("inline-flex items-center rounded-full font-medium",XM[t],JM[s],e),...o,children:n}),Sw={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-lg"},e6={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};function t6(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}const Dn=({className:e,src:t,alt:s,name:n,size:o="md",...c})=>{const[u,f]=oe.useState(!1);return t&&!u?r.jsx("div",{className:je("rounded-full overflow-hidden flex-shrink-0",Sw[o],e),...c,children:r.jsx("img",{src:t,alt:s||n,className:"w-full h-full object-cover",onError:()=>f(!0)})}):r.jsx("div",{className:je("rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-semibold flex-shrink-0",Sw[o],e),...c,children:n?t6(n):r.jsx(Rt,{className:e6[o]})})},s6=typeof document<"u"?oe.useLayoutEffect:()=>{},no=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},ko=e=>e&&"window"in e&&e.window===e?e:no(e).defaultView||window;function n6(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function a6(e){return n6(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let r6=!1;function ub(){return r6}function W2(e,t){if(!ub())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let s=t;for(;s!==null;){if(s===e)return!0;s.tagName==="SLOT"&&s.assignedSlot?s=s.assignedSlot.parentNode:a6(s)?s=s.host:s=s.parentNode}return!1}const xx=(e=document)=>{var t;if(!ub())return e.activeElement;let s=e.activeElement;for(;s&&"shadowRoot"in s&&(!((t=s.shadowRoot)===null||t===void 0)&&t.activeElement);)s=s.shadowRoot.activeElement;return s};function X2(e){return ub()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function i6(e){if(o6())e.focus({preventScroll:!0});else{let t=l6(e);e.focus(),c6(t)}}let Xf=null;function o6(){if(Xf==null){Xf=!1;try{document.createElement("div").focus({get preventScroll(){return Xf=!0,!0}})}catch{}}return Xf}function l6(e){let t=e.parentNode,s=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&s.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&s.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),s}function c6(e){for(let{element:t,scrollTop:s,scrollLeft:n}of e)t.scrollTop=s,t.scrollLeft=n}function xh(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let s=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(s)&&s.some(n=>e.test(n.brand))||e.test(window.navigator.userAgent)}function J2(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function cc(e){let t=null;return()=>(t==null&&(t=e()),t)}const Fm=cc(function(){return J2(/^Mac/i)}),u6=cc(function(){return J2(/^iPad/i)||Fm()&&navigator.maxTouchPoints>1}),d6=cc(function(){return xh(/AppleWebKit/i)&&!f6()}),f6=cc(function(){return xh(/Chrome/i)}),m6=cc(function(){return xh(/Android/i)}),h6=cc(function(){return xh(/Firefox/i)});function Vu(e,t,s=!0){var n,o;let{metaKey:c,ctrlKey:u,altKey:f,shiftKey:m}=t;h6()&&(!((o=window.event)===null||o===void 0||(n=o.type)===null||n===void 0)&&n.startsWith("key"))&&e.target==="_blank"&&(Fm()?c=!0:u=!0);let h=d6()&&Fm()&&!u6()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:c,ctrlKey:u,altKey:f,shiftKey:m}):new MouseEvent("click",{metaKey:c,ctrlKey:u,altKey:f,shiftKey:m,detail:1,bubbles:!0,cancelable:!0});Vu.isOpening=s,i6(e),e.dispatchEvent(h),Vu.isOpening=!1}Vu.isOpening=!1;function eC(){let e=g.useRef(new Map),t=g.useCallback((o,c,u,f)=>{let m=f?.once?(...h)=>{e.current.delete(u),u(...h)}:u;e.current.set(u,{type:c,eventTarget:o,fn:m,options:f}),o.addEventListener(c,m,f)},[]),s=g.useCallback((o,c,u,f)=>{var m;let h=((m=e.current.get(u))===null||m===void 0?void 0:m.fn)||u;o.removeEventListener(c,h,f),e.current.delete(u)},[]),n=g.useCallback(()=>{e.current.forEach((o,c)=>{s(o.eventTarget,o.type,c,o.options)})},[s]);return g.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:s,removeAllGlobalListeners:n}}function p6(e){return e.pointerType===""&&e.isTrusted?!0:m6()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function tC(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function g6(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function sC(e){let t=g.useRef({isFocused:!1,observer:null});return s6(()=>{const s=t.current;return()=>{s.observer&&(s.observer.disconnect(),s.observer=null)}},[]),g.useCallback(s=>{if(s.target instanceof HTMLButtonElement||s.target instanceof HTMLInputElement||s.target instanceof HTMLTextAreaElement||s.target instanceof HTMLSelectElement){t.current.isFocused=!0;let n=s.target,o=c=>{if(t.current.isFocused=!1,n.disabled){let u=tC(c);e?.(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};n.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&n.disabled){var c;(c=t.current.observer)===null||c===void 0||c.disconnect();let u=n===document.activeElement?null:document.activeElement;n.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(n,{attributes:!0,attributeFilter:["disabled"]})}},[e])}let x6=!1,nd=null,bx=new Set,zu=new Map,Fo=!1,vx=!1;const b6={Tab:!0,Escape:!0};function db(e,t){for(let s of bx)s(e,t)}function v6(e){return!(e.metaKey||!Fm()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Lm(e){Fo=!0,!Vu.isOpening&&v6(e)&&(nd="keyboard",db("keyboard",e))}function Hl(e){nd="pointer","pointerType"in e&&e.pointerType,(e.type==="mousedown"||e.type==="pointerdown")&&(Fo=!0,db("pointer",e))}function nC(e){!Vu.isOpening&&p6(e)&&(Fo=!0,nd="virtual")}function aC(e){e.target===window||e.target===document||x6||!e.isTrusted||(!Fo&&!vx&&(nd="virtual",db("virtual",e)),Fo=!1,vx=!1)}function rC(){Fo=!1,vx=!0}function yx(e){if(typeof window>"u"||typeof document>"u"||zu.get(ko(e)))return;const t=ko(e),s=no(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Fo=!0,n.apply(this,arguments)},s.addEventListener("keydown",Lm,!0),s.addEventListener("keyup",Lm,!0),s.addEventListener("click",nC,!0),t.addEventListener("focus",aC,!0),t.addEventListener("blur",rC,!1),typeof PointerEvent<"u"&&(s.addEventListener("pointerdown",Hl,!0),s.addEventListener("pointermove",Hl,!0),s.addEventListener("pointerup",Hl,!0)),t.addEventListener("beforeunload",()=>{iC(e)},{once:!0}),zu.set(t,{focus:n})}const iC=(e,t)=>{const s=ko(e),n=no(e);t&&n.removeEventListener("DOMContentLoaded",t),zu.has(s)&&(s.HTMLElement.prototype.focus=zu.get(s).focus,n.removeEventListener("keydown",Lm,!0),n.removeEventListener("keyup",Lm,!0),n.removeEventListener("click",nC,!0),s.removeEventListener("focus",aC,!0),s.removeEventListener("blur",rC,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",Hl,!0),n.removeEventListener("pointermove",Hl,!0),n.removeEventListener("pointerup",Hl,!0)),zu.delete(s))};function y6(e){const t=no(e);let s;return t.readyState!=="loading"?yx(e):(s=()=>{yx(e)},t.addEventListener("DOMContentLoaded",s)),()=>iC(e,s)}typeof document<"u"&&y6();function oC(){return nd!=="pointer"}const j6=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function w6(e,t,s){let n=no(s?.target);const o=typeof window<"u"?ko(s?.target).HTMLInputElement:HTMLInputElement,c=typeof window<"u"?ko(s?.target).HTMLTextAreaElement:HTMLTextAreaElement,u=typeof window<"u"?ko(s?.target).HTMLElement:HTMLElement,f=typeof window<"u"?ko(s?.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof o&&!j6.has(n.activeElement.type)||n.activeElement instanceof c||n.activeElement instanceof u&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&s instanceof f&&!b6[s.key])}function S6(e,t,s){yx(),g.useEffect(()=>{let n=(o,c)=>{w6(!!s?.isTextInput,o,c)&&e(oC())};return bx.add(n),()=>{bx.delete(n)}},t)}function N6(e){let{isDisabled:t,onFocus:s,onBlur:n,onFocusChange:o}=e;const c=g.useCallback(m=>{if(m.target===m.currentTarget)return n&&n(m),o&&o(!1),!0},[n,o]),u=sC(c),f=g.useCallback(m=>{const h=no(m.target),x=h?xx(h):xx();m.target===m.currentTarget&&x===X2(m.nativeEvent)&&(s&&s(m),o&&o(!0),u(m))},[o,s,u]);return{focusProps:{onFocus:!t&&(s||o||n)?f:void 0,onBlur:!t&&(n||o)?c:void 0}}}function C6(e){let{isDisabled:t,onBlurWithin:s,onFocusWithin:n,onFocusWithinChange:o}=e,c=g.useRef({isFocusWithin:!1}),{addGlobalListener:u,removeAllGlobalListeners:f}=eC(),m=g.useCallback(v=>{v.currentTarget.contains(v.target)&&c.current.isFocusWithin&&!v.currentTarget.contains(v.relatedTarget)&&(c.current.isFocusWithin=!1,f(),s&&s(v),o&&o(!1))},[s,o,c,f]),h=sC(m),x=g.useCallback(v=>{if(!v.currentTarget.contains(v.target))return;const y=no(v.target),j=xx(y);if(!c.current.isFocusWithin&&j===X2(v.nativeEvent)){n&&n(v),o&&o(!0),c.current.isFocusWithin=!0,h(v);let w=v.currentTarget;u(y,"focus",S=>{if(c.current.isFocusWithin&&!W2(w,S.target)){let N=new y.defaultView.FocusEvent("blur",{relatedTarget:S.target});g6(N,w);let T=tC(N);m(T)}},{capture:!0})}},[n,o,h,u,m]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:x,onBlur:m}}}let jx=!1,Jf=0;function E6(){jx=!0,setTimeout(()=>{jx=!1},50)}function Nw(e){e.pointerType==="touch"&&E6()}function _6(){if(!(typeof document>"u"))return Jf===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Nw),Jf++,()=>{Jf--,!(Jf>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Nw)}}function ad(e){let{onHoverStart:t,onHoverChange:s,onHoverEnd:n,isDisabled:o}=e,[c,u]=g.useState(!1),f=g.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;g.useEffect(_6,[]);let{addGlobalListener:m,removeAllGlobalListeners:h}=eC(),{hoverProps:x,triggerHoverEnd:v}=g.useMemo(()=>{let y=(S,N)=>{if(f.pointerType=N,o||N==="touch"||f.isHovered||!S.currentTarget.contains(S.target))return;f.isHovered=!0;let T=S.currentTarget;f.target=T,m(no(S.target),"pointerover",E=>{f.isHovered&&f.target&&!W2(f.target,E.target)&&j(E,E.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:T,pointerType:N}),s&&s(!0),u(!0)},j=(S,N)=>{let T=f.target;f.pointerType="",f.target=null,!(N==="touch"||!f.isHovered||!T)&&(f.isHovered=!1,h(),n&&n({type:"hoverend",target:T,pointerType:N}),s&&s(!1),u(!1))},w={};return typeof PointerEvent<"u"&&(w.onPointerEnter=S=>{jx&&S.pointerType==="mouse"||y(S,S.pointerType)},w.onPointerLeave=S=>{!o&&S.currentTarget.contains(S.target)&&j(S,S.pointerType)}),{hoverProps:w,triggerHoverEnd:j}},[t,s,n,o,f,m,h]);return g.useEffect(()=>{o&&v({currentTarget:f.target},f.pointerType)},[o]),{hoverProps:x,isHovered:c}}function rd(e={}){let{autoFocus:t=!1,isTextInput:s,within:n}=e,o=g.useRef({isFocused:!1,isFocusVisible:t||oC()}),[c,u]=g.useState(!1),[f,m]=g.useState(()=>o.current.isFocused&&o.current.isFocusVisible),h=g.useCallback(()=>m(o.current.isFocused&&o.current.isFocusVisible),[]),x=g.useCallback(j=>{o.current.isFocused=j,u(j),h()},[h]);S6(j=>{o.current.isFocusVisible=j,h()},[],{isTextInput:s});let{focusProps:v}=N6({isDisabled:n,onFocusChange:x}),{focusWithinProps:y}=C6({isDisabled:!n,onFocusWithinChange:x});return{isFocused:c,isFocusVisible:f,focusProps:n?y:v}}var T6=Object.defineProperty,O6=(e,t,s)=>t in e?T6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,O0=(e,t,s)=>(O6(e,typeof t!="symbol"?t+"":t,s),s);let k6=class{constructor(){O0(this,"current",this.detect()),O0(this,"handoffState","pending"),O0(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},nr=new k6;function ao(e){var t;return nr.isServer?null:e==null?document:(t=e?.ownerDocument)!=null?t:document}function Qi(e){var t,s;return nr.isServer?null:e==null?document:(s=(t=e?.getRootNode)==null?void 0:t.call(e))!=null?s:document}function Zi(e){var t,s;return(s=(t=Qi(e))==null?void 0:t.activeElement)!=null?s:null}function id(e){return Zi(e)===e}function bh(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function ln(){let e=[],t={addEventListener(s,n,o,c){return s.addEventListener(n,o,c),t.add(()=>s.removeEventListener(n,o,c))},requestAnimationFrame(...s){let n=requestAnimationFrame(...s);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...s){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...s))},setTimeout(...s){let n=setTimeout(...s);return t.add(()=>clearTimeout(n))},microTask(...s){let n={current:!0};return bh(()=>{n.current&&s[0]()}),t.add(()=>{n.current=!1})},style(s,n,o){let c=s.style.getPropertyValue(n);return Object.assign(s.style,{[n]:o}),this.add(()=>{Object.assign(s.style,{[n]:c})})},group(s){let n=ln();return s(n),this.add(()=>n.dispose())},add(s){return e.includes(s)||e.push(s),()=>{let n=e.indexOf(s);if(n>=0)for(let o of e.splice(n,1))o()}},dispose(){for(let s of e.splice(0))s()}};return t}function mr(){let[e]=g.useState(ln);return g.useEffect(()=>()=>e.dispose(),[e]),e}let pt=(e,t)=>{nr.isServer?g.useEffect(e,t):g.useLayoutEffect(e,t)};function Da(e){let t=g.useRef(e);return pt(()=>{t.current=e},[e]),t}let Oe=function(e){let t=Da(e);return oe.useCallback((...s)=>t.current(...s),[t])};function A6(e){let t=e.width/2,s=e.height/2;return{top:e.clientY-s,right:e.clientX+t,bottom:e.clientY+s,left:e.clientX-t}}function M6(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function vh({disabled:e=!1}={}){let t=g.useRef(null),[s,n]=g.useState(!1),o=mr(),c=Oe(()=>{t.current=null,n(!1),o.dispose()}),u=Oe(f=>{if(o.dispose(),t.current===null){t.current=f.currentTarget,n(!0);{let m=ao(f.currentTarget);o.addEventListener(m,"pointerup",c,!1),o.addEventListener(m,"pointermove",h=>{if(t.current){let x=A6(h);n(M6(x,t.current.getBoundingClientRect()))}},!1),o.addEventListener(m,"pointercancel",c,!1)}}});return{pressed:s,pressProps:e?{}:{onPointerDown:u,onPointerUp:c,onClick:c}}}function Gt(e){return g.useMemo(()=>e,Object.values(e))}let R6=g.createContext(void 0);function yh(){return g.useContext(R6)}function wx(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function $t(e,t,...s){if(e in t){let o=t[e];return typeof o=="function"?o(...s):o}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$t),n}var zn=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(zn||{}),Pi=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Pi||{});function xt(){let e=z6();return g.useCallback(t=>D6({mergeRefs:e,...t}),[e])}function D6({ourProps:e,theirProps:t,slot:s,defaultTag:n,features:o,visible:c=!0,name:u,mergeRefs:f}){f=f??$6;let m=lC(t,e);if(c)return em(m,s,n,u,f);let h=o??0;if(h&2){let{static:x=!1,...v}=m;if(x)return em(v,s,n,u,f)}if(h&1){let{unmount:x=!0,...v}=m;return $t(x?0:1,{0(){return null},1(){return em({...v,hidden:!0,style:{display:"none"}},s,n,u,f)}})}return em(m,s,n,u,f)}function em(e,t={},s,n,o){let{as:c=s,children:u,refName:f="ref",...m}=k0(e,["unmount","static"]),h=e.ref!==void 0?{[f]:e.ref}:{},x=typeof u=="function"?u(t):u;"className"in m&&m.className&&typeof m.className=="function"&&(m.className=m.className(t)),m["aria-labelledby"]&&m["aria-labelledby"]===m.id&&(m["aria-labelledby"]=void 0);let v={};if(t){let y=!1,j=[];for(let[w,S]of Object.entries(t))typeof S=="boolean"&&(y=!0),S===!0&&j.push(w.replace(/([A-Z])/g,N=>`-${N.toLowerCase()}`));if(y){v["data-headlessui-state"]=j.join(" ");for(let w of j)v[`data-${w}`]=""}}if($u(c)&&(Object.keys(Di(m)).length>0||Object.keys(Di(v)).length>0))if(!g.isValidElement(x)||Array.isArray(x)&&x.length>1||I6(x)){if(Object.keys(Di(m)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Di(m)).concat(Object.keys(Di(v))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=x.props,j=y?.className,w=typeof j=="function"?(...T)=>wx(j(...T),m.className):wx(j,m.className),S=w?{className:w}:{},N=lC(x.props,Di(k0(m,["ref"])));for(let T in v)T in N&&delete v[T];return g.cloneElement(x,Object.assign({},N,v,h,{ref:o(P6(x),h.ref)},S))}return g.createElement(c,Object.assign({},k0(m,["ref"]),!$u(c)&&h,!$u(c)&&v),x)}function z6(){let e=g.useRef([]),t=g.useCallback(s=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(s):n.current=s)},[]);return(...s)=>{if(!s.every(n=>n==null))return e.current=s,t}}function $6(...e){return e.every(t=>t==null)?void 0:t=>{for(let s of e)s!=null&&(typeof s=="function"?s(t):s.current=t)}}function lC(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},s={};for(let n of e)for(let o in n)o.startsWith("on")&&typeof n[o]=="function"?(s[o]!=null||(s[o]=[]),s[o].push(n[o])):t[o]=n[o];if(t.disabled||t["aria-disabled"])for(let n in s)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(s[n]=[o=>{var c;return(c=o?.preventDefault)==null?void 0:c.call(o)}]);for(let n in s)Object.assign(t,{[n](o,...c){let u=s[n];for(let f of u){if((o instanceof Event||o?.nativeEvent instanceof Event)&&o.defaultPrevented)return;f(o,...c)}}});return t}function cr(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},s={};for(let n of e)for(let o in n)o.startsWith("on")&&typeof n[o]=="function"?(s[o]!=null||(s[o]=[]),s[o].push(n[o])):t[o]=n[o];for(let n in s)Object.assign(t,{[n](...o){let c=s[n];for(let u of c)u?.(...o)}});return t}function lt(e){var t;return Object.assign(g.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Di(e){let t=Object.assign({},e);for(let s in t)t[s]===void 0&&delete t[s];return t}function k0(e,t=[]){let s=Object.assign({},e);for(let n of t)n in s&&delete s[n];return s}function P6(e){return oe.version.split(".")[0]>="19"?e.props.ref:e.ref}function $u(e){return e===g.Fragment||e===Symbol.for("react.fragment")}function I6(e){return $u(e.type)}function cC(e,t,s){let[n,o]=g.useState(s),c=e!==void 0,u=g.useRef(c),f=g.useRef(!1),m=g.useRef(!1);return c&&!u.current&&!f.current?(f.current=!0,u.current=c,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!c&&u.current&&!m.current&&(m.current=!0,u.current=c,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[c?e:n,Oe(h=>(c||Ss.flushSync(()=>o(h)),t?.(h)))]}function uC(e){let[t]=g.useState(e);return t}function dC(e={},t=null,s=[]){for(let[n,o]of Object.entries(e))mC(s,fC(t,n),o);return s}function fC(e,t){return e?e+"["+t+"]":t}function mC(e,t,s){if(Array.isArray(s))for(let[n,o]of s.entries())mC(e,fC(t,n.toString()),o);else s instanceof Date?e.push([t,s.toISOString()]):typeof s=="boolean"?e.push([t,s?"1":"0"]):typeof s=="string"?e.push([t,s]):typeof s=="number"?e.push([t,`${s}`]):s==null?e.push([t,""]):L6(s)&&!g.isValidElement(s)&&dC(s,t,e)}function F6(e){var t,s;let n=(t=e?.form)!=null?t:e.closest("form");if(n){for(let o of n.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(s=n.requestSubmit)==null||s.call(n)}}function L6(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}let q6="span";var Xr=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Xr||{});function U6(e,t){var s;let{features:n=1,...o}=e,c={ref:t,"aria-hidden":(n&2)===2?!0:(s=o["aria-hidden"])!=null?s:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return xt()({ourProps:c,theirProps:o,slot:{},defaultTag:q6,name:"Hidden"})}let Ki=lt(U6),B6=g.createContext(null);function V6({children:e}){let t=g.useContext(B6);if(!t)return oe.createElement(oe.Fragment,null,e);let{target:s}=t;return s?Ss.createPortal(oe.createElement(oe.Fragment,null,e),s):null}function hC({data:e,form:t,disabled:s,onReset:n,overrides:o}){let[c,u]=g.useState(null),f=mr();return g.useEffect(()=>{if(n&&c)return f.addEventListener(c,"reset",n)},[c,t,n]),oe.createElement(V6,null,oe.createElement(H6,{setForm:u,formId:t}),dC(e).map(([m,h])=>oe.createElement(Ki,{features:Xr.Hidden,...Di({key:m,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:s,name:m,value:h,...o})})))}function H6({setForm:e,formId:t}){return g.useEffect(()=>{if(t){let s=document.getElementById(t);s&&e(s)}},[e,t]),t?null:oe.createElement(Ki,{features:Xr.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:s=>{if(!s)return;let n=s.closest("form");n&&e(n)}})}let G6=g.createContext(void 0);function fb(){return g.useContext(G6)}function pC(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Yr(e){return pC(e)&&"tagName"in e}function Us(e){return Yr(e)&&"accessKey"in e}function Oa(e){return Yr(e)&&"tabIndex"in e}function Q6(e){return Yr(e)&&"style"in e}function Z6(e){return Us(e)&&e.nodeName==="IFRAME"}function qm(e){return Us(e)&&e.nodeName==="INPUT"}function Cw(e){return Us(e)&&e.nodeName==="LABEL"}function K6(e){return Us(e)&&e.nodeName==="FIELDSET"}function gC(e){return Us(e)&&e.nodeName==="LEGEND"}function Y6(e){return Yr(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Um(e){let t=e.parentElement,s=null;for(;t&&!K6(t);)gC(t)&&(s=t),t=t.parentElement;let n=t?.getAttribute("disabled")==="";return n&&W6(s)?!1:n}function W6(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(gC(t))return!1;t=t.previousElementSibling}return!0}let xC=Symbol();function bC(e,t=!0){return Object.assign(e,{[xC]:t})}function Et(...e){let t=g.useRef(e);g.useEffect(()=>{t.current=e},[e]);let s=Oe(n=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(n):o.current=n)});return e.every(n=>n==null||n?.[xC])?void 0:s}let jh=g.createContext(null);jh.displayName="DescriptionContext";function vC(){let e=g.useContext(jh);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,vC),t}return e}function yC(){var e,t;return(t=(e=g.useContext(jh))==null?void 0:e.value)!=null?t:void 0}function jC(){let[e,t]=g.useState([]);return[e.length>0?e.join(" "):void 0,g.useMemo(()=>function(s){let n=Oe(c=>(t(u=>[...u,c]),()=>t(u=>{let f=u.slice(),m=f.indexOf(c);return m!==-1&&f.splice(m,1),f}))),o=g.useMemo(()=>({register:n,slot:s.slot,name:s.name,props:s.props,value:s.value}),[n,s.slot,s.name,s.props,s.value]);return oe.createElement(jh.Provider,{value:o},s.children)},[t])]}let X6="p";function J6(e,t){let s=g.useId(),n=yh(),{id:o=`headlessui-description-${s}`,...c}=e,u=vC(),f=Et(t);pt(()=>u.register(o),[o,u.register]);let m=Gt({...u.slot,disabled:n||!1}),h={ref:f,...u.props,id:o};return xt()({ourProps:h,theirProps:c,slot:m,defaultTag:X6,name:u.name||"Description"})}let eR=lt(J6),tR=Object.assign(eR,{});var Ge=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Ge||{});let wh=g.createContext(null);wh.displayName="LabelContext";function mb(){let e=g.useContext(wh);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,mb),t}return e}function od(e){var t,s,n;let o=(s=(t=g.useContext(wh))==null?void 0:t.value)!=null?s:void 0;return((n=e?.length)!=null?n:0)>0?[o,...e].filter(Boolean).join(" "):o}function Sh({inherit:e=!1}={}){let t=od(),[s,n]=g.useState([]),o=e?[t,...s].filter(Boolean):s;return[o.length>0?o.join(" "):void 0,g.useMemo(()=>function(c){let u=Oe(m=>(n(h=>[...h,m]),()=>n(h=>{let x=h.slice(),v=x.indexOf(m);return v!==-1&&x.splice(v,1),x}))),f=g.useMemo(()=>({register:u,slot:c.slot,name:c.name,props:c.props,value:c.value}),[u,c.slot,c.name,c.props,c.value]);return oe.createElement(wh.Provider,{value:f},c.children)},[n])]}let sR="label";function nR(e,t){var s;let n=g.useId(),o=mb(),c=fb(),u=yh(),{id:f=`headlessui-label-${n}`,htmlFor:m=c??((s=o.props)==null?void 0:s.htmlFor),passive:h=!1,...x}=e,v=Et(t);pt(()=>o.register(f),[f,o.register]);let y=Oe(S=>{let N=S.currentTarget;if(!(S.target!==S.currentTarget&&Y6(S.target))&&(Cw(N)&&S.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(S),Cw(N))){let T=document.getElementById(N.htmlFor);if(T){let E=T.getAttribute("disabled");if(E==="true"||E==="")return;let O=T.getAttribute("aria-disabled");if(O==="true"||O==="")return;(qm(T)&&(T.type==="file"||T.type==="radio"||T.type==="checkbox")||T.role==="radio"||T.role==="checkbox"||T.role==="switch")&&T.click(),T.focus({preventScroll:!0})}}}),j=Gt({...o.slot,disabled:u||!1}),w={ref:v,...o.props,id:f,htmlFor:m,onClick:y};return h&&("onClick"in w&&(delete w.htmlFor,delete w.onClick),"onClick"in x&&delete x.onClick),xt()({ourProps:w,theirProps:x,slot:j,defaultTag:m?sR:"div",name:o.name||"Label"})}let aR=lt(nR),wC=Object.assign(aR,{}),rR=g.createContext(()=>{});function hb({value:e,children:t}){return oe.createElement(rR.Provider,{value:e},t)}function zl(e,t,s){let n=s.initialDeps??[],o,c=!0;function u(){var f,m,h;let x;s.key&&((f=s.debug)!=null&&f.call(s))&&(x=Date.now());const v=e();if(!(v.length!==n.length||v.some((w,S)=>n[S]!==w)))return o;n=v;let j;if(s.key&&((m=s.debug)!=null&&m.call(s))&&(j=Date.now()),o=t(...v),s.key&&((h=s.debug)!=null&&h.call(s))){const w=Math.round((Date.now()-x)*100)/100,S=Math.round((Date.now()-j)*100)/100,N=S/16,T=(E,O)=>{for(E=String(E);E.length<O;)E=" "+E;return E};console.info(`%c ${T(S,5)} /${T(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*N,120))}deg 100% 31%);`,s?.key)}return s?.onChange&&!(c&&s.skipInitialOnChange)&&s.onChange(o),c=!1,o}return u.updateDeps=f=>{n=f},u}function Ew(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const iR=(e,t)=>Math.abs(e-t)<1.01,oR=(e,t,s)=>{let n;return function(...o){e.clearTimeout(n),n=e.setTimeout(()=>t.apply(this,o),s)}},_w=e=>{const{offsetWidth:t,offsetHeight:s}=e;return{width:t,height:s}},lR=e=>e,cR=e=>{const t=Math.max(e.startIndex-e.overscan,0),s=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let o=t;o<=s;o++)n.push(o);return n},uR=(e,t)=>{const s=e.scrollElement;if(!s)return;const n=e.targetWindow;if(!n)return;const o=u=>{const{width:f,height:m}=u;t({width:Math.round(f),height:Math.round(m)})};if(o(_w(s)),!n.ResizeObserver)return()=>{};const c=new n.ResizeObserver(u=>{const f=()=>{const m=u[0];if(m?.borderBoxSize){const h=m.borderBoxSize[0];if(h){o({width:h.inlineSize,height:h.blockSize});return}}o(_w(s))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(f):f()});return c.observe(s,{box:"border-box"}),()=>{c.unobserve(s)}},Tw={passive:!0},Ow=typeof window>"u"?!0:"onscrollend"in window,dR=(e,t)=>{const s=e.scrollElement;if(!s)return;const n=e.targetWindow;if(!n)return;let o=0;const c=e.options.useScrollendEvent&&Ow?()=>{}:oR(n,()=>{t(o,!1)},e.options.isScrollingResetDelay),u=x=>()=>{const{horizontal:v,isRtl:y}=e.options;o=v?s.scrollLeft*(y&&-1||1):s.scrollTop,c(),t(o,x)},f=u(!0),m=u(!1);s.addEventListener("scroll",f,Tw);const h=e.options.useScrollendEvent&&Ow;return h&&s.addEventListener("scrollend",m,Tw),()=>{s.removeEventListener("scroll",f),h&&s.removeEventListener("scrollend",m)}},fR=(e,t,s)=>{if(t?.borderBoxSize){const n=t.borderBoxSize[0];if(n)return Math.round(n[s.options.horizontal?"inlineSize":"blockSize"])}return e[s.options.horizontal?"offsetWidth":"offsetHeight"]},mR=(e,{adjustments:t=0,behavior:s},n)=>{var o,c;const u=e+t;(c=(o=n.scrollElement)==null?void 0:o.scrollTo)==null||c.call(o,{[n.options.horizontal?"left":"top"]:u,behavior:s})};class hR{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let s=null;const n=()=>s||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:s=new this.targetWindow.ResizeObserver(o=>{o.forEach(c=>{const u=()=>{this._measureElement(c.target,c)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(u):u()})}));return{disconnect:()=>{var o;(o=n())==null||o.disconnect(),s=null},observe:o=>{var c;return(c=n())==null?void 0:c.observe(o,{box:"border-box"})},unobserve:o=>{var c;return(c=n())==null?void 0:c.unobserve(o)}}})(),this.range=null,this.setOptions=s=>{Object.entries(s).forEach(([n,o])=>{typeof o>"u"&&delete s[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:lR,rangeExtractor:cR,onChange:()=>{},measureElement:fR,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...s}},this.notify=s=>{var n,o;(o=(n=this.options).onChange)==null||o.call(n,this,s)},this.maybeNotify=zl(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),s=>{this.notify(s)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(s=>s()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var s;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((s=this.scrollElement)==null?void 0:s.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,c)=>{this.scrollAdjustments=0,this.scrollDirection=c?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=c,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(s,n)=>{const o=new Map,c=new Map;for(let u=n-1;u>=0;u--){const f=s[u];if(o.has(f.lane))continue;const m=c.get(f.lane);if(m==null||f.end>m.end?c.set(f.lane,f):f.end<m.end&&o.set(f.lane,!0),o.size===this.options.lanes)break}return c.size===this.options.lanes?Array.from(c.values()).sort((u,f)=>u.end===f.end?u.index-f.index:u.end-f.end)[0]:void 0},this.getMeasurementOptions=zl(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(s,n,o,c,u,f)=>(this.prevLanes!==void 0&&this.prevLanes!==f&&(this.lanesChangedFlag=!0),this.prevLanes=f,this.pendingMeasuredCacheIndexes=[],{count:s,paddingStart:n,scrollMargin:o,getItemKey:c,enabled:u,lanes:f}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=zl(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:s,paddingStart:n,scrollMargin:o,getItemKey:c,enabled:u,lanes:f},m)=>{if(!u)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>s)for(const y of this.laneAssignments.keys())y>=s&&this.laneAssignments.delete(y);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(y=>{this.itemSizeCache.set(y.key,y.size)}));const h=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===s&&(this.lanesSettling=!1);const x=this.measurementsCache.slice(0,h),v=new Array(f).fill(void 0);for(let y=0;y<h;y++){const j=x[y];j&&(v[j.lane]=y)}for(let y=h;y<s;y++){const j=c(y),w=this.laneAssignments.get(y);let S,N;if(w!==void 0&&this.options.lanes>1){S=w;const k=v[S],R=k!==void 0?x[k]:void 0;N=R?R.end+this.options.gap:n+o}else{const k=this.options.lanes===1?x[y-1]:this.getFurthestMeasurement(x,y);N=k?k.end+this.options.gap:n+o,S=k?k.lane:y%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(y,S)}const T=m.get(j),E=typeof T=="number"?T:this.options.estimateSize(y),O=N+E;x[y]={index:y,start:N,size:E,end:O,key:j,lane:S},v[S]=y}return this.measurementsCache=x,x},{key:!1,debug:()=>this.options.debug}),this.calculateRange=zl(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(s,n,o,c)=>this.range=s.length>0&&n>0?pR({measurements:s,outerSize:n,scrollOffset:o,lanes:c}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=zl(()=>{let s=null,n=null;const o=this.calculateRange();return o&&(s=o.startIndex,n=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,s,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,s,n]},(s,n,o,c,u)=>c===null||u===null?[]:s({startIndex:c,endIndex:u,overscan:n,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=s=>{const n=this.options.indexAttribute,o=s.getAttribute(n);return o?parseInt(o,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(s,n)=>{const o=this.indexFromElement(s),c=this.measurementsCache[o];if(!c)return;const u=c.key,f=this.elementsCache.get(u);f!==s&&(f&&this.observer.unobserve(f),this.observer.observe(s),this.elementsCache.set(u,s)),s.isConnected&&this.resizeItem(o,this.options.measureElement(s,n,this))},this.resizeItem=(s,n)=>{const o=this.measurementsCache[s];if(!o)return;const c=this.itemSizeCache.get(o.key)??o.size,u=n-c;u!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,u,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=u,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,n)),this.notify(!1))},this.measureElement=s=>{if(!s){this.elementsCache.forEach((n,o)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(o))});return}this._measureElement(s,void 0)},this.getVirtualItems=zl(()=>[this.getVirtualIndexes(),this.getMeasurements()],(s,n)=>{const o=[];for(let c=0,u=s.length;c<u;c++){const f=s[c],m=n[f];o.push(m)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=s=>{const n=this.getMeasurements();if(n.length!==0)return Ew(n[SC(0,n.length-1,o=>Ew(n[o]).start,s)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const s=this.scrollElement.document.documentElement;return this.options.horizontal?s.scrollWidth-this.scrollElement.innerWidth:s.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(s,n,o=0)=>{if(!this.scrollElement)return 0;const c=this.getSize(),u=this.getScrollOffset();n==="auto"&&(n=s>=u+c?"end":"start"),n==="center"?s+=(o-c)/2:n==="end"&&(s-=c);const f=this.getMaxScrollOffset();return Math.max(Math.min(f,s),0)},this.getOffsetForIndex=(s,n="auto")=>{s=Math.max(0,Math.min(s,this.options.count-1));const o=this.measurementsCache[s];if(!o)return;const c=this.getSize(),u=this.getScrollOffset();if(n==="auto")if(o.end>=u+c-this.options.scrollPaddingEnd)n="end";else if(o.start<=u+this.options.scrollPaddingStart)n="start";else return[u,"start"];if(n==="end"&&s===this.options.count-1)return[this.getMaxScrollOffset(),n];const f=n==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(f,n,o.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(s,{align:n="start",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(s,n),{adjustments:void 0,behavior:o})},this.scrollToIndex=(s,{align:n="auto",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),s=Math.max(0,Math.min(s,this.options.count-1)),this.currentScrollToIndex=s;let c=0;const u=10,f=h=>{if(!this.targetWindow)return;const x=this.getOffsetForIndex(s,h);if(!x){console.warn("Failed to get offset for index:",s);return}const[v,y]=x;this._scrollToOffset(v,{adjustments:void 0,behavior:o}),this.targetWindow.requestAnimationFrame(()=>{const j=()=>{if(this.currentScrollToIndex!==s)return;const w=this.getScrollOffset(),S=this.getOffsetForIndex(s,y);if(!S){console.warn("Failed to get offset for index:",s);return}iR(S[0],w)||m(y)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(j):j()})},m=h=>{this.targetWindow&&this.currentScrollToIndex===s&&(c++,c<u?this.targetWindow.requestAnimationFrame(()=>f(h)):console.warn(`Failed to scroll to index ${s} after ${u} attempts.`))};f(n)},this.scrollBy=(s,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+s,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var s;const n=this.getMeasurements();let o;if(n.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((s=n[n.length-1])==null?void 0:s.end)??0;else{const c=Array(this.options.lanes).fill(null);let u=n.length-1;for(;u>=0&&c.some(f=>f===null);){const f=n[u];c[f.lane]===null&&(c[f.lane]=f.end),u--}o=Math.max(...c.filter(f=>f!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(s,{adjustments:n,behavior:o})=>{this.options.scrollToFn(s,{behavior:o,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const SC=(e,t,s,n)=>{for(;e<=t;){const o=(e+t)/2|0,c=s(o);if(c<n)e=o+1;else if(c>n)t=o-1;else return o}return e>0?e-1:0};function pR({measurements:e,outerSize:t,scrollOffset:s,lanes:n}){const o=e.length-1,c=m=>e[m].start;if(e.length<=n)return{startIndex:0,endIndex:o};let u=SC(0,o,c,s),f=u;if(n===1)for(;f<o&&e[f].end<s+t;)f++;else if(n>1){const m=Array(n).fill(0);for(;f<o&&m.some(x=>x<s+t);){const x=e[f];m[x.lane]=x.end,f++}const h=Array(n).fill(s+t);for(;u>=0&&h.some(x=>x>=s);){const x=e[u];h[x.lane]=x.start,u--}u=Math.max(0,u-u%n),f=Math.min(o,f+(n-1-f%n))}return{startIndex:u,endIndex:f}}const kw=typeof document<"u"?g.useLayoutEffect:g.useEffect;function gR({useFlushSync:e=!0,...t}){const s=g.useReducer(()=>({}),{})[1],n={...t,onChange:(c,u)=>{var f;e&&u?Ss.flushSync(s):s(),(f=t.onChange)==null||f.call(t,c,u)}},[o]=g.useState(()=>new hR(n));return o.setOptions(n),kw(()=>o._didMount(),[]),kw(()=>o._willUpdate()),o}function xR(e){return gR({observeElementRect:uR,observeElementOffset:dR,scrollToFn:mR,...e})}function bR(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function NC(e=bR){return g.useCallback((t,s)=>{if(typeof e=="string"){let n=e;return t?.[n]===s?.[n]}return e(t,s)},[e])}function Aw(e){if(e===null)return{width:0,height:0};let{width:t,height:s}=e.getBoundingClientRect();return{width:t,height:s}}function Hu(e,t,s=!1){let[n,o]=g.useState(()=>Aw(t));return pt(()=>{if(!t||!e)return;let c=ln();return c.requestAnimationFrame(function u(){c.requestAnimationFrame(u),o(f=>{let m=Aw(t);return m.width===f.width&&m.height===f.height?f:m})}),()=>{c.dispose()}},[t,e]),s?{width:`${n.width}px`,height:`${n.height}px`}:n}var pb=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(pb||{});function gb(e){let t=g.useRef(null),s=Oe(o=>{t.current=o.pointerType,!Um(o.currentTarget)&&o.pointerType==="mouse"&&o.button===pb.Left&&(o.preventDefault(),e(o))}),n=Oe(o=>{t.current!=="mouse"&&(Um(o.currentTarget)||e(o))});return{onPointerDown:s,onClick:n}}let CC=class extends Map{constructor(t){super(),this.factory=t}get(t){let s=super.get(t);return s===void 0&&(s=this.factory(t),this.set(t,s)),s}};var vR=Object.defineProperty,yR=(e,t,s)=>t in e?vR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,jR=(e,t,s)=>(yR(e,t+"",s),s),EC=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)},ha=(e,t,s)=>(EC(e,t,"read from private field"),s?s.call(e):t.get(e)),A0=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},Mw=(e,t,s,n)=>(EC(e,t,"write to private field"),t.set(e,s),s),Za,Ou,ku;let ld=class{constructor(t){A0(this,Za,{}),A0(this,Ou,new CC(()=>new Set)),A0(this,ku,new Set),jR(this,"disposables",ln()),Mw(this,Za,t),nr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return ha(this,Za)}subscribe(t,s){if(nr.isServer)return()=>{};let n={selector:t,callback:s,current:t(ha(this,Za))};return ha(this,ku).add(n),this.disposables.add(()=>{ha(this,ku).delete(n)})}on(t,s){return nr.isServer?()=>{}:(ha(this,Ou).get(t).add(s),this.disposables.add(()=>{ha(this,Ou).get(t).delete(s)}))}send(t){let s=this.reduce(ha(this,Za),t);if(s!==ha(this,Za)){Mw(this,Za,s);for(let n of ha(this,ku)){let o=n.selector(ha(this,Za));_C(n.current,o)||(n.current=o,n.callback(o))}for(let n of ha(this,Ou).get(t.type))n(ha(this,Za),t)}}};Za=new WeakMap,Ou=new WeakMap,ku=new WeakMap;function _C(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:M0(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:M0(e.entries(),t.entries()):Rw(e)&&Rw(t)?M0(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function M0(e,t){do{let s=e.next(),n=t.next();if(s.done&&n.done)return!0;if(s.done||n.done||!Object.is(s.value,n.value))return!1}while(!0)}function Rw(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function Pu(e){let[t,s]=e(),n=ln();return(...o)=>{t(...o),n.dispose(),n.microTask(s)}}var wR=Object.defineProperty,SR=(e,t,s)=>t in e?wR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Dw=(e,t,s)=>(SR(e,typeof t!="symbol"?t+"":t,s),s),Nh=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Nh||{});let NR={0(e,t){let s=t.id,n=e.stack,o=e.stack.indexOf(s);if(o!==-1){let c=e.stack.slice();return c.splice(o,1),c.push(s),n=c,{...e,stack:n}}return{...e,stack:[...e.stack,s]}},1(e,t){let s=t.id,n=e.stack.indexOf(s);if(n===-1)return e;let o=e.stack.slice();return o.splice(n,1),{...e,stack:o}}},CR=class TC extends ld{constructor(){super(...arguments),Dw(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Dw(this,"selectors",{isTop:(t,s)=>t.stack[t.stack.length-1]===s,inStack:(t,s)=>t.stack.includes(s)})}static new(){return new TC({stack:[]})}reduce(t,s){return $t(s.type,NR,t,s)}};const ai=new CC(()=>CR.new());var R0={exports:{}},D0={};var zw;function ER(){if(zw)return D0;zw=1;var e=lh();function t(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var s=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,o=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return D0.useSyncExternalStoreWithSelector=function(m,h,x,v,y){var j=o(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=u(function(){function N(R){if(!T){if(T=!0,E=R,R=v(R),y!==void 0&&w.hasValue){var P=w.value;if(y(P,R))return O=P}return O=R}if(P=O,s(E,R))return P;var z=v(R);return y!==void 0&&y(P,z)?(E=R,P):(E=R,O=z)}var T=!1,E,O,k=x===void 0?null:x;return[function(){return N(h())},k===null?void 0:function(){return N(k())}]},[h,x,v,y]);var S=n(m,j[0],j[1]);return c(function(){w.hasValue=!0,w.value=S},[S]),f(S),S},D0}var $w;function _R(){return $w||($w=1,R0.exports=ER()),R0.exports}var TR=_R();function Ye(e,t,s=_C){return TR.useSyncExternalStoreWithSelector(Oe(n=>e.subscribe(OR,n)),Oe(()=>e.state),Oe(()=>e.state),Oe(t),s)}function OR(e){return e}function cd(e,t){let s=g.useId(),n=ai.get(t),[o,c]=Ye(n,g.useCallback(u=>[n.selectors.isTop(u,s),n.selectors.inStack(u,s)],[n,s]));return pt(()=>{if(e)return n.actions.push(s),()=>n.actions.pop(s)},[n,e,s]),e?c?o:!0:!1}let Sx=new Map,Iu=new Map;function Pw(e){var t;let s=(t=Iu.get(e))!=null?t:0;return Iu.set(e,s+1),s!==0?()=>Iw(e):(Sx.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Iw(e))}function Iw(e){var t;let s=(t=Iu.get(e))!=null?t:1;if(s===1?Iu.delete(e):Iu.set(e,s-1),s!==1)return;let n=Sx.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,Sx.delete(e))}function Ch(e,{allowed:t,disallowed:s}={}){let n=cd(e,"inert-others");pt(()=>{var o,c;if(!n)return;let u=ln();for(let m of(o=s?.())!=null?o:[])m&&u.add(Pw(m));let f=(c=t?.())!=null?c:[];for(let m of f){if(!m)continue;let h=ao(m);if(!h)continue;let x=m.parentElement;for(;x&&x!==h.body;){for(let v of x.children)f.some(y=>v.contains(y))||u.add(Pw(v));x=x.parentElement}}return u.dispose},[n,t,s])}function ud(e,t,s){let n=Da(o=>{let c=o.getBoundingClientRect();c.x===0&&c.y===0&&c.width===0&&c.height===0&&s()});g.useEffect(()=>{if(!e)return;let o=t===null?null:Us(t)?t:t.current;if(!o)return;let c=ln();if(typeof ResizeObserver<"u"){let u=new ResizeObserver(()=>n.current(o));u.observe(o),c.add(()=>u.disconnect())}if(typeof IntersectionObserver<"u"){let u=new IntersectionObserver(()=>n.current(o));u.observe(o),c.add(()=>u.disconnect())}return()=>c.dispose()},[t,n,e])}let Bm=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),kR=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ms=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(ms||{}),Xl=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Xl||{}),AR=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(AR||{});function dd(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Bm)).sort((t,s)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(s.tabIndex||Number.MAX_SAFE_INTEGER)))}function MR(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(kR)).sort((t,s)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(s.tabIndex||Number.MAX_SAFE_INTEGER)))}var fd=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(fd||{});function md(e,t=0){var s;return e===((s=ao(e))==null?void 0:s.body)?!1:$t(t,{0(){return e.matches(Bm)},1(){let n=e;for(;n!==null;){if(n.matches(Bm))return!0;n=n.parentElement}return!1}})}function OC(e){ln().nextFrame(()=>{let t=Zi(e);t&&Oa(t)&&!md(t,0)&&ar(e)})}var RR=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(RR||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ar(e){e?.focus({preventScroll:!0})}let DR=["textarea","input"].join(",");function zR(e){var t,s;return(s=(t=e?.matches)==null?void 0:t.call(e,DR))!=null?s:!1}function Eh(e,t=s=>s){return e.slice().sort((s,n)=>{let o=t(s),c=t(n);if(o===null||c===null)return 0;let u=o.compareDocumentPosition(c);return u&Node.DOCUMENT_POSITION_FOLLOWING?-1:u&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function kC(e,t,s=e===null?document.body:Qi(e)){return Yn(dd(s),t,{relativeTo:e})}function Yn(e,t,{sorted:s=!0,relativeTo:n=null,skipElements:o=[]}={}){let c=Array.isArray(e)?e.length>0?Qi(e[0]):document:Qi(e),u=Array.isArray(e)?s?Eh(e):e:t&64?MR(e):dd(e);o.length>0&&u.length>1&&(u=u.filter(j=>!o.some(w=>w!=null&&"current"in w?w?.current===j:w===j))),n=n??c?.activeElement;let f=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,u.indexOf(n))-1;if(t&4)return Math.max(0,u.indexOf(n))+1;if(t&8)return u.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=t&32?{preventScroll:!0}:{},x=0,v=u.length,y;do{if(x>=v||x+v<=0)return 0;let j=m+x;if(t&16)j=(j+v)%v;else{if(j<0)return 3;if(j>=v)return 1}y=u[j],y?.focus(h),x+=f}while(y!==Zi(y));return t&6&&zR(y)&&y.select(),2}function AC(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function $R(){return/Android/gi.test(window.navigator.userAgent)}function Nx(){return AC()||$R()}function Bl(e,t,s,n){let o=Da(s);g.useEffect(()=>{if(!e)return;function c(u){o.current(u)}return document.addEventListener(t,c,n),()=>document.removeEventListener(t,c,n)},[e,t,n])}function MC(e,t,s,n){let o=Da(s);g.useEffect(()=>{if(!e)return;function c(u){o.current(u)}return window.addEventListener(t,c,n),()=>window.removeEventListener(t,c,n)},[e,t,n])}const Fw=30;function hd(e,t,s){let n=Da(s),o=g.useCallback(function(f,m){if(f.defaultPrevented)return;let h=m(f);if(h===null||!h.getRootNode().contains(h)||!h.isConnected)return;let x=(function v(y){return typeof y=="function"?v(y()):Array.isArray(y)||y instanceof Set?y:[y]})(t);for(let v of x)if(v!==null&&(v.contains(h)||f.composed&&f.composedPath().includes(v)))return;return!md(h,fd.Loose)&&h.tabIndex!==-1&&f.preventDefault(),n.current(f,h)},[n,t]),c=g.useRef(null);Bl(e,"pointerdown",f=>{var m,h;Nx()||(c.current=((h=(m=f.composedPath)==null?void 0:m.call(f))==null?void 0:h[0])||f.target)},!0),Bl(e,"pointerup",f=>{if(Nx()||!c.current)return;let m=c.current;return c.current=null,o(f,()=>m)},!0);let u=g.useRef({x:0,y:0});Bl(e,"touchstart",f=>{u.current.x=f.touches[0].clientX,u.current.y=f.touches[0].clientY},!0),Bl(e,"touchend",f=>{let m={x:f.changedTouches[0].clientX,y:f.changedTouches[0].clientY};if(!(Math.abs(m.x-u.current.x)>=Fw||Math.abs(m.y-u.current.y)>=Fw))return o(f,()=>Oa(f.target)?f.target:null)},!0),MC(e,"blur",f=>o(f,()=>Z6(window.document.activeElement)?window.document.activeElement:null),!0)}function za(...e){return g.useMemo(()=>ao(...e),[...e])}function PR(...e){return g.useMemo(()=>Qi(...e),[...e])}var IR=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(IR||{});const Gn={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},FR=200,Lw=5;function xb(e,{trigger:t,action:s,close:n,select:o}){let c=g.useRef(null),u=g.useRef(null),f=g.useRef(null);Bl(e&&t!==null,"pointerdown",m=>{pC(m?.target)&&t!=null&&t.contains(m.target)&&(u.current=m.x,f.current=m.y,c.current=m.timeStamp)}),Bl(e&&t!==null,"pointerup",m=>{var h,x;let v=c.current;if(v===null||(c.current=null,!Oa(m.target))||Math.abs(m.x-((h=u.current)!=null?h:m.x))<Lw&&Math.abs(m.y-((x=f.current)!=null?x:m.y))<Lw)return;let y=s(m);switch(y.kind){case 0:return;case 1:{m.timeStamp-v>FR&&(o(y.target),n());break}case 2:{n();break}}},{capture:!0})}function _h(e,t,s,n){let o=Da(s);g.useEffect(()=>{e=e??window;function c(u){o.current(u)}return e.addEventListener(t,c,n),()=>e.removeEventListener(t,c,n)},[e,t,n])}function RC(e){let t=g.useRef({value:"",selectionStart:null,selectionEnd:null});return _h(e,"blur",s=>{let n=s.target;qm(n)&&(t.current={value:n.value,selectionStart:n.selectionStart,selectionEnd:n.selectionEnd})}),Oe(()=>{if(!id(e)&&qm(e)&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==t.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:s,selectionEnd:n}=t.current;s!==null&&n!==null&&e.setSelectionRange(s,n)}t.current={value:"",selectionStart:null,selectionEnd:null}}})}function Th(e,t){return g.useMemo(()=>{var s;if(e.type)return e.type;let n=(s=e.as)!=null?s:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function LR(e){return g.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function qR(e,t){let s=e(),n=new Set;return{getSnapshot(){return s},subscribe(o){return n.add(o),()=>n.delete(o)},dispatch(o,...c){let u=t[o].call(s,...c);u&&(s=u,n.forEach(f=>f()))}}}function UR(){let e;return{before({doc:t}){var s;let n=t.documentElement,o=(s=t.defaultView)!=null?s:window;e=Math.max(0,o.innerWidth-n.clientWidth)},after({doc:t,d:s}){let n=t.documentElement,o=Math.max(0,n.clientWidth-n.offsetWidth),c=Math.max(0,e-o);s.style(n,"paddingRight",`${c}px`)}}}function BR(){return AC()?{before({doc:e,d:t,meta:s}){function n(o){for(let c of s().containers)for(let u of c())if(u.contains(o))return!0;return!1}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let f=ln();f.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>f.dispose()))}let c=(o=window.scrollY)!=null?o:window.pageYOffset,u=null;t.addEventListener(e,"click",f=>{if(Oa(f.target))try{let m=f.target.closest("a");if(!m)return;let{hash:h}=new URL(m.href),x=e.querySelector(h);Oa(x)&&!n(x)&&(u=x)}catch{}},!0),t.group(f=>{t.addEventListener(e,"touchstart",m=>{if(f.dispose(),Oa(m.target)&&Q6(m.target))if(n(m.target)){let h=m.target;for(;h.parentElement&&n(h.parentElement);)h=h.parentElement;f.style(h,"overscrollBehavior","contain")}else f.style(m.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",f=>{if(Oa(f.target)){if(qm(f.target))return;if(n(f.target)){let m=f.target;for(;m.parentElement&&m.dataset.headlessuiPortal!==""&&!(m.scrollHeight>m.clientHeight||m.scrollWidth>m.clientWidth);)m=m.parentElement;m.dataset.headlessuiPortal===""&&f.preventDefault()}else f.preventDefault()}},{passive:!1}),t.add(()=>{var f;let m=(f=window.scrollY)!=null?f:window.pageYOffset;c!==m&&window.scrollTo(0,c),u&&u.isConnected&&(u.scrollIntoView({block:"nearest"}),u=null)})})}}:{}}function VR(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function qw(e){let t={};for(let s of e)Object.assign(t,s(t));return t}let Ao=qR(()=>new Map,{PUSH(e,t){var s;let n=(s=this.get(e))!=null?s:{doc:e,count:0,d:ln(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=qw(n.meta),this.set(e,n),this},POP(e,t){let s=this.get(e);return s&&(s.count--,s.meta.delete(t),s.computedMeta=qw(s.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},s=[BR(),UR(),VR()];s.forEach(({before:n})=>n?.(t)),s.forEach(({after:n})=>n?.(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ao.subscribe(()=>{let e=Ao.getSnapshot(),t=new Map;for(let[s]of e)t.set(s,s.documentElement.style.overflow);for(let s of e.values()){let n=t.get(s.doc)==="hidden",o=s.count!==0;(o&&!n||!o&&n)&&Ao.dispatch(s.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",s),s.count===0&&Ao.dispatch("TEARDOWN",s)}});function HR(e,t,s=()=>({containers:[]})){let n=LR(Ao),o=t?n.get(t):void 0,c=o?o.count>0:!1;return pt(()=>{if(!(!t||!e))return Ao.dispatch("PUSH",t,s),()=>Ao.dispatch("POP",t,s)},[e,t]),c}function pd(e,t,s=()=>[document.body]){let n=cd(e,"scroll-lock");HR(n,t,o=>{var c;return{containers:[...(c=o.containers)!=null?c:[],s]}})}function Uw(e){return[e.screenX,e.screenY]}function bb(){let e=g.useRef([-1,-1]);return{wasMoved(t){let s=Uw(t);return e.current[0]===s[0]&&e.current[1]===s[1]?!1:(e.current=s,!0)},update(t){e.current=Uw(t)}}}function GR(e=0){let[t,s]=g.useState(e),n=g.useCallback(m=>s(m),[]),o=g.useCallback(m=>s(h=>h|m),[]),c=g.useCallback(m=>(t&m)===m,[t]),u=g.useCallback(m=>s(h=>h&~m),[]),f=g.useCallback(m=>s(h=>h^m),[]);return{flags:t,setFlag:n,addFlag:o,hasFlag:c,removeFlag:u,toggleFlag:f}}var QR={},Bw,Vw;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Bw=process==null?void 0:QR)==null?void 0:Bw.NODE_ENV)==="test"&&typeof((Vw=Element?.prototype)==null?void 0:Vw.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var ZR=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(ZR||{});function uc(e){let t={};for(let s in e)e[s]===!0&&(t[`data-${s}`]="");return t}function dc(e,t,s,n){let[o,c]=g.useState(s),{hasFlag:u,addFlag:f,removeFlag:m}=GR(e&&o?3:0),h=g.useRef(!1),x=g.useRef(!1),v=mr();return pt(()=>{var y;if(e){if(s&&c(!0),!t){s&&f(3);return}return(y=n?.start)==null||y.call(n,s),KR(t,{inFlight:h,prepare(){x.current?x.current=!1:x.current=h.current,h.current=!0,!x.current&&(s?(f(3),m(4)):(f(4),m(2)))},run(){x.current?s?(m(3),f(4)):(m(4),f(3)):s?m(1):f(1)},done(){var j;x.current&&XR(t)||(h.current=!1,m(7),s||c(!1),(j=n?.end)==null||j.call(n,s))}})}},[e,s,t,v]),e?[o,{closed:u(1),enter:u(2),leave:u(4),transition:u(2)||u(4)}]:[s,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function KR(e,{prepare:t,run:s,done:n,inFlight:o}){let c=ln();return WR(e,{prepare:t,inFlight:o}),c.nextFrame(()=>{s(),c.requestAnimationFrame(()=>{c.add(YR(e,n))})}),c.dispose}function YR(e,t){var s,n;let o=ln();if(!e)return o.dispose;let c=!1;o.add(()=>{c=!0});let u=(n=(s=e.getAnimations)==null?void 0:s.call(e).filter(f=>f instanceof CSSTransition))!=null?n:[];return u.length===0?(t(),o.dispose):(Promise.allSettled(u.map(f=>f.finished)).then(()=>{c||t()}),o.dispose)}function WR(e,{inFlight:t,prepare:s}){if(t!=null&&t.current){s();return}let n=e.style.transition;e.style.transition="none",s(),e.offsetHeight,e.style.transition=n}function XR(e){var t,s;return((s=(t=e.getAnimations)==null?void 0:t.call(e))!=null?s:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function DC(e,{container:t,accept:s,walk:n}){let o=g.useRef(s),c=g.useRef(n);g.useEffect(()=>{o.current=s,c.current=n},[s,n]),pt(()=>{if(!t||!e)return;let u=ao(t);if(!u)return;let f=o.current,m=c.current,h=Object.assign(v=>f(v),{acceptNode:f}),x=u.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,h,!1);for(;x.nextNode();)m(x.currentNode)},[t,e,o,c])}function Gu(e,t){let s=g.useRef([]),n=Oe(e);g.useEffect(()=>{let o=[...s.current];for(let[c,u]of t.entries())if(s.current[c]!==u){let f=n(t,o);return s.current=t,f}},[n,...t])}function Oh(){return typeof window<"u"}function fc(e){return zC(e)?(e.nodeName||"").toLowerCase():"#document"}function ea(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hr(e){var t;return(t=(zC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zC(e){return Oh()?e instanceof Node||e instanceof ea(e).Node:!1}function gn(e){return Oh()?e instanceof Element||e instanceof ea(e).Element:!1}function ur(e){return Oh()?e instanceof HTMLElement||e instanceof ea(e).HTMLElement:!1}function Hw(e){return!Oh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ea(e).ShadowRoot}const JR=new Set(["inline","contents"]);function gd(e){const{overflow:t,overflowX:s,overflowY:n,display:o}=$a(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!JR.has(o)}const eD=new Set(["table","td","th"]);function tD(e){return eD.has(fc(e))}const sD=[":popover-open",":modal"];function kh(e){return sD.some(t=>{try{return e.matches(t)}catch{return!1}})}const nD=["transform","translate","scale","rotate","perspective"],aD=["transform","translate","scale","rotate","perspective","filter"],rD=["paint","layout","strict","content"];function vb(e){const t=yb(),s=gn(e)?$a(e):e;return nD.some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||aD.some(n=>(s.willChange||"").includes(n))||rD.some(n=>(s.contain||"").includes(n))}function iD(e){let t=Yi(e);for(;ur(t)&&!Jl(t);){if(vb(t))return t;if(kh(t))return null;t=Yi(t)}return null}function yb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oD=new Set(["html","body","#document"]);function Jl(e){return oD.has(fc(e))}function $a(e){return ea(e).getComputedStyle(e)}function Ah(e){return gn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yi(e){if(fc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Hw(e)&&e.host||hr(e);return Hw(t)?t.host:t}function $C(e){const t=Yi(e);return Jl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ur(t)&&gd(t)?t:$C(t)}function Qu(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const o=$C(e),c=o===((n=e.ownerDocument)==null?void 0:n.body),u=ea(o);if(c){const f=Cx(u);return t.concat(u,u.visualViewport||[],gd(o)?o:[],f&&s?Qu(f):[])}return t.concat(o,Qu(o,[],s))}function Cx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lD(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:s,version:n}=t;return s+"/"+n}).join(" "):navigator.userAgent}const Lo=Math.min,tn=Math.max,Zu=Math.round,tm=Math.floor,rr=e=>({x:e,y:e}),cD={left:"right",right:"left",bottom:"top",top:"bottom"},uD={start:"end",end:"start"};function Gw(e,t,s){return tn(e,Lo(t,s))}function mc(e,t){return typeof e=="function"?e(t):e}function Wi(e){return e.split("-")[0]}function xd(e){return e.split("-")[1]}function PC(e){return e==="x"?"y":"x"}function IC(e){return e==="y"?"height":"width"}const dD=new Set(["top","bottom"]);function Kr(e){return dD.has(Wi(e))?"y":"x"}function FC(e){return PC(Kr(e))}function fD(e,t,s){s===void 0&&(s=!1);const n=xd(e),o=FC(e),c=IC(o);let u=o==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(u=Vm(u)),[u,Vm(u)]}function mD(e){const t=Vm(e);return[Ex(e),t,Ex(t)]}function Ex(e){return e.replace(/start|end/g,t=>uD[t])}const Qw=["left","right"],Zw=["right","left"],hD=["top","bottom"],pD=["bottom","top"];function gD(e,t,s){switch(e){case"top":case"bottom":return s?t?Zw:Qw:t?Qw:Zw;case"left":case"right":return t?hD:pD;default:return[]}}function xD(e,t,s,n){const o=xd(e);let c=gD(Wi(e),s==="start",n);return o&&(c=c.map(u=>u+"-"+o),t&&(c=c.concat(c.map(Ex)))),c}function Vm(e){return e.replace(/left|right|bottom|top/g,t=>cD[t])}function bD(e){return{top:0,right:0,bottom:0,left:0,...e}}function vD(e){return typeof e!="number"?bD(e):{top:e,right:e,bottom:e,left:e}}function Hm(e){const{x:t,y:s,width:n,height:o}=e;return{width:n,height:o,top:s,left:t,right:t+n,bottom:s+o,x:t,y:s}}function Kw(e,t,s){let{reference:n,floating:o}=e;const c=Kr(t),u=FC(t),f=IC(u),m=Wi(t),h=c==="y",x=n.x+n.width/2-o.width/2,v=n.y+n.height/2-o.height/2,y=n[f]/2-o[f]/2;let j;switch(m){case"top":j={x,y:n.y-o.height};break;case"bottom":j={x,y:n.y+n.height};break;case"right":j={x:n.x+n.width,y:v};break;case"left":j={x:n.x-o.width,y:v};break;default:j={x:n.x,y:n.y}}switch(xd(t)){case"start":j[u]-=y*(s&&h?-1:1);break;case"end":j[u]+=y*(s&&h?-1:1);break}return j}const yD=async(e,t,s)=>{const{placement:n="bottom",strategy:o="absolute",middleware:c=[],platform:u}=s,f=c.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(t));let h=await u.getElementRects({reference:e,floating:t,strategy:o}),{x,y:v}=Kw(h,n,m),y=n,j={},w=0;for(let S=0;S<f.length;S++){const{name:N,fn:T}=f[S],{x:E,y:O,data:k,reset:R}=await T({x,y:v,initialPlacement:n,placement:y,strategy:o,middlewareData:j,rects:h,platform:u,elements:{reference:e,floating:t}});x=E??x,v=O??v,j={...j,[N]:{...j[N],...k}},R&&w<=50&&(w++,typeof R=="object"&&(R.placement&&(y=R.placement),R.rects&&(h=R.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:o}):R.rects),{x,y:v}=Kw(h,y,m)),S=-1)}return{x,y:v,placement:y,strategy:o,middlewareData:j}};async function Mh(e,t){var s;t===void 0&&(t={});const{x:n,y:o,platform:c,rects:u,elements:f,strategy:m}=e,{boundary:h="clippingAncestors",rootBoundary:x="viewport",elementContext:v="floating",altBoundary:y=!1,padding:j=0}=mc(t,e),w=vD(j),N=f[y?v==="floating"?"reference":"floating":v],T=Hm(await c.getClippingRect({element:(s=await(c.isElement==null?void 0:c.isElement(N)))==null||s?N:N.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:h,rootBoundary:x,strategy:m})),E=v==="floating"?{x:n,y:o,width:u.floating.width,height:u.floating.height}:u.reference,O=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),k=await(c.isElement==null?void 0:c.isElement(O))?await(c.getScale==null?void 0:c.getScale(O))||{x:1,y:1}:{x:1,y:1},R=Hm(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:E,offsetParent:O,strategy:m}):E);return{top:(T.top-R.top+w.top)/k.y,bottom:(R.bottom-T.bottom+w.bottom)/k.y,left:(T.left-R.left+w.left)/k.x,right:(R.right-T.right+w.right)/k.x}}const jD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:o,middlewareData:c,rects:u,initialPlacement:f,platform:m,elements:h}=t,{mainAxis:x=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:S=!0,...N}=mc(e,t);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const T=Wi(o),E=Kr(f),O=Wi(f)===f,k=await(m.isRTL==null?void 0:m.isRTL(h.floating)),R=y||(O||!S?[Vm(f)]:mD(f)),P=w!=="none";!y&&P&&R.push(...xD(f,S,w,k));const z=[f,...R],F=await Mh(t,N),te=[];let H=((n=c.flip)==null?void 0:n.overflows)||[];if(x&&te.push(F[T]),v){const q=fD(o,u,k);te.push(F[q[0]],F[q[1]])}if(H=[...H,{placement:o,overflows:te}],!te.every(q=>q<=0)){var Y,Z;const q=(((Y=c.flip)==null?void 0:Y.index)||0)+1,U=z[q];if(U&&(!(v==="alignment"?E!==Kr(U):!1)||H.every($=>Kr($.placement)===E?$.overflows[0]>0:!0)))return{data:{index:q,overflows:H},reset:{placement:U}};let A=(Z=H.filter(I=>I.overflows[0]<=0).sort((I,$)=>I.overflows[1]-$.overflows[1])[0])==null?void 0:Z.placement;if(!A)switch(j){case"bestFit":{var ee;const I=(ee=H.filter($=>{if(P){const K=Kr($.placement);return K===E||K==="y"}return!0}).map($=>[$.placement,$.overflows.filter(K=>K>0).reduce((K,V)=>K+V,0)]).sort(($,K)=>$[1]-K[1])[0])==null?void 0:ee[0];I&&(A=I);break}case"initialPlacement":A=f;break}if(o!==A)return{reset:{placement:A}}}return{}}}},wD=new Set(["left","top"]);async function SD(e,t){const{placement:s,platform:n,elements:o}=e,c=await(n.isRTL==null?void 0:n.isRTL(o.floating)),u=Wi(s),f=xd(s),m=Kr(s)==="y",h=wD.has(u)?-1:1,x=c&&m?-1:1,v=mc(t,e);let{mainAxis:y,crossAxis:j,alignmentAxis:w}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return f&&typeof w=="number"&&(j=f==="end"?w*-1:w),m?{x:j*x,y:y*h}:{x:y*h,y:j*x}}const ND=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:o,y:c,placement:u,middlewareData:f}=t,m=await SD(t,e);return u===((s=f.offset)==null?void 0:s.placement)&&(n=f.arrow)!=null&&n.alignmentOffset?{}:{x:o+m.x,y:c+m.y,data:{...m,placement:u}}}}},CD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:o}=t,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:N=>{let{x:T,y:E}=N;return{x:T,y:E}}},...m}=mc(e,t),h={x:s,y:n},x=await Mh(t,m),v=Kr(Wi(o)),y=PC(v);let j=h[y],w=h[v];if(c){const N=y==="y"?"top":"left",T=y==="y"?"bottom":"right",E=j+x[N],O=j-x[T];j=Gw(E,j,O)}if(u){const N=v==="y"?"top":"left",T=v==="y"?"bottom":"right",E=w+x[N],O=w-x[T];w=Gw(E,w,O)}const S=f.fn({...t,[y]:j,[v]:w});return{...S,data:{x:S.x-s,y:S.y-n,enabled:{[y]:c,[v]:u}}}}}},ED=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,n;const{placement:o,rects:c,platform:u,elements:f}=t,{apply:m=()=>{},...h}=mc(e,t),x=await Mh(t,h),v=Wi(o),y=xd(o),j=Kr(o)==="y",{width:w,height:S}=c.floating;let N,T;v==="top"||v==="bottom"?(N=v,T=y===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(T=v,N=y==="end"?"top":"bottom");const E=S-x.top-x.bottom,O=w-x.left-x.right,k=Lo(S-x[N],E),R=Lo(w-x[T],O),P=!t.middlewareData.shift;let z=k,F=R;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(F=O),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(z=E),P&&!y){const H=tn(x.left,0),Y=tn(x.right,0),Z=tn(x.top,0),ee=tn(x.bottom,0);j?F=w-2*(H!==0||Y!==0?H+Y:tn(x.left,x.right)):z=S-2*(Z!==0||ee!==0?Z+ee:tn(x.top,x.bottom))}await m({...t,availableWidth:F,availableHeight:z});const te=await u.getDimensions(f.floating);return w!==te.width||S!==te.height?{reset:{rects:!0}}:{}}}};function LC(e){const t=$a(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=ur(e),c=o?e.offsetWidth:s,u=o?e.offsetHeight:n,f=Zu(s)!==c||Zu(n)!==u;return f&&(s=c,n=u),{width:s,height:n,$:f}}function jb(e){return gn(e)?e:e.contextElement}function Gl(e){const t=jb(e);if(!ur(t))return rr(1);const s=t.getBoundingClientRect(),{width:n,height:o,$:c}=LC(t);let u=(c?Zu(s.width):s.width)/n,f=(c?Zu(s.height):s.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const _D=rr(0);function qC(e){const t=ea(e);return!yb()||!t.visualViewport?_D:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function TD(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==ea(e)?!1:t}function qo(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const o=e.getBoundingClientRect(),c=jb(e);let u=rr(1);t&&(n?gn(n)&&(u=Gl(n)):u=Gl(e));const f=TD(c,s,n)?qC(c):rr(0);let m=(o.left+f.x)/u.x,h=(o.top+f.y)/u.y,x=o.width/u.x,v=o.height/u.y;if(c){const y=ea(c),j=n&&gn(n)?ea(n):n;let w=y,S=Cx(w);for(;S&&n&&j!==w;){const N=Gl(S),T=S.getBoundingClientRect(),E=$a(S),O=T.left+(S.clientLeft+parseFloat(E.paddingLeft))*N.x,k=T.top+(S.clientTop+parseFloat(E.paddingTop))*N.y;m*=N.x,h*=N.y,x*=N.x,v*=N.y,m+=O,h+=k,w=ea(S),S=Cx(w)}}return Hm({width:x,height:v,x:m,y:h})}function Rh(e,t){const s=Ah(e).scrollLeft;return t?t.left+s:qo(hr(e)).left+s}function UC(e,t){const s=e.getBoundingClientRect(),n=s.left+t.scrollLeft-Rh(e,s),o=s.top+t.scrollTop;return{x:n,y:o}}function OD(e){let{elements:t,rect:s,offsetParent:n,strategy:o}=e;const c=o==="fixed",u=hr(n),f=t?kh(t.floating):!1;if(n===u||f&&c)return s;let m={scrollLeft:0,scrollTop:0},h=rr(1);const x=rr(0),v=ur(n);if((v||!v&&!c)&&((fc(n)!=="body"||gd(u))&&(m=Ah(n)),ur(n))){const j=qo(n);h=Gl(n),x.x=j.x+n.clientLeft,x.y=j.y+n.clientTop}const y=u&&!v&&!c?UC(u,m):rr(0);return{width:s.width*h.x,height:s.height*h.y,x:s.x*h.x-m.scrollLeft*h.x+x.x+y.x,y:s.y*h.y-m.scrollTop*h.y+x.y+y.y}}function kD(e){return Array.from(e.getClientRects())}function AD(e){const t=hr(e),s=Ah(e),n=e.ownerDocument.body,o=tn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),c=tn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let u=-s.scrollLeft+Rh(e);const f=-s.scrollTop;return $a(n).direction==="rtl"&&(u+=tn(t.clientWidth,n.clientWidth)-o),{width:o,height:c,x:u,y:f}}const Yw=25;function MD(e,t){const s=ea(e),n=hr(e),o=s.visualViewport;let c=n.clientWidth,u=n.clientHeight,f=0,m=0;if(o){c=o.width,u=o.height;const x=yb();(!x||x&&t==="fixed")&&(f=o.offsetLeft,m=o.offsetTop)}const h=Rh(n);if(h<=0){const x=n.ownerDocument,v=x.body,y=getComputedStyle(v),j=x.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,w=Math.abs(n.clientWidth-v.clientWidth-j);w<=Yw&&(c-=w)}else h<=Yw&&(c+=h);return{width:c,height:u,x:f,y:m}}const RD=new Set(["absolute","fixed"]);function DD(e,t){const s=qo(e,!0,t==="fixed"),n=s.top+e.clientTop,o=s.left+e.clientLeft,c=ur(e)?Gl(e):rr(1),u=e.clientWidth*c.x,f=e.clientHeight*c.y,m=o*c.x,h=n*c.y;return{width:u,height:f,x:m,y:h}}function Ww(e,t,s){let n;if(t==="viewport")n=MD(e,s);else if(t==="document")n=AD(hr(e));else if(gn(t))n=DD(t,s);else{const o=qC(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Hm(n)}function BC(e,t){const s=Yi(e);return s===t||!gn(s)||Jl(s)?!1:$a(s).position==="fixed"||BC(s,t)}function zD(e,t){const s=t.get(e);if(s)return s;let n=Qu(e,[],!1).filter(f=>gn(f)&&fc(f)!=="body"),o=null;const c=$a(e).position==="fixed";let u=c?Yi(e):e;for(;gn(u)&&!Jl(u);){const f=$a(u),m=vb(u);!m&&f.position==="fixed"&&(o=null),(c?!m&&!o:!m&&f.position==="static"&&!!o&&RD.has(o.position)||gd(u)&&!m&&BC(e,u))?n=n.filter(x=>x!==u):o=f,u=Yi(u)}return t.set(e,n),n}function $D(e){let{element:t,boundary:s,rootBoundary:n,strategy:o}=e;const u=[...s==="clippingAncestors"?kh(t)?[]:zD(t,this._c):[].concat(s),n],f=u[0],m=u.reduce((h,x)=>{const v=Ww(t,x,o);return h.top=tn(v.top,h.top),h.right=Lo(v.right,h.right),h.bottom=Lo(v.bottom,h.bottom),h.left=tn(v.left,h.left),h},Ww(t,f,o));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function PD(e){const{width:t,height:s}=LC(e);return{width:t,height:s}}function ID(e,t,s){const n=ur(t),o=hr(t),c=s==="fixed",u=qo(e,!0,c,t);let f={scrollLeft:0,scrollTop:0};const m=rr(0);function h(){m.x=Rh(o)}if(n||!n&&!c)if((fc(t)!=="body"||gd(o))&&(f=Ah(t)),n){const j=qo(t,!0,c,t);m.x=j.x+t.clientLeft,m.y=j.y+t.clientTop}else o&&h();c&&!n&&o&&h();const x=o&&!n&&!c?UC(o,f):rr(0),v=u.left+f.scrollLeft-m.x-x.x,y=u.top+f.scrollTop-m.y-x.y;return{x:v,y,width:u.width,height:u.height}}function z0(e){return $a(e).position==="static"}function Xw(e,t){if(!ur(e)||$a(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return hr(e)===s&&(s=s.ownerDocument.body),s}function VC(e,t){const s=ea(e);if(kh(e))return s;if(!ur(e)){let o=Yi(e);for(;o&&!Jl(o);){if(gn(o)&&!z0(o))return o;o=Yi(o)}return s}let n=Xw(e,t);for(;n&&tD(n)&&z0(n);)n=Xw(n,t);return n&&Jl(n)&&z0(n)&&!vb(n)?s:n||iD(e)||s}const FD=async function(e){const t=this.getOffsetParent||VC,s=this.getDimensions,n=await s(e.floating);return{reference:ID(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function LD(e){return $a(e).direction==="rtl"}const qD={convertOffsetParentRelativeRectToViewportRelativeRect:OD,getDocumentElement:hr,getClippingRect:$D,getOffsetParent:VC,getElementRects:FD,getClientRects:kD,getDimensions:PD,getScale:Gl,isElement:gn,isRTL:LD};function HC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function UD(e,t){let s=null,n;const o=hr(e);function c(){var f;clearTimeout(n),(f=s)==null||f.disconnect(),s=null}function u(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),c();const h=e.getBoundingClientRect(),{left:x,top:v,width:y,height:j}=h;if(f||t(),!y||!j)return;const w=tm(v),S=tm(o.clientWidth-(x+y)),N=tm(o.clientHeight-(v+j)),T=tm(x),O={rootMargin:-w+"px "+-S+"px "+-N+"px "+-T+"px",threshold:tn(0,Lo(1,m))||1};let k=!0;function R(P){const z=P[0].intersectionRatio;if(z!==m){if(!k)return u();z?u(!1,z):n=setTimeout(()=>{u(!1,1e-7)},1e3)}z===1&&!HC(h,e.getBoundingClientRect())&&u(),k=!1}try{s=new IntersectionObserver(R,{...O,root:o.ownerDocument})}catch{s=new IntersectionObserver(R,O)}s.observe(e)}return u(!0),c}function BD(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=n,h=jb(e),x=o||c?[...h?Qu(h):[],...Qu(t)]:[];x.forEach(T=>{o&&T.addEventListener("scroll",s,{passive:!0}),c&&T.addEventListener("resize",s)});const v=h&&f?UD(h,s):null;let y=-1,j=null;u&&(j=new ResizeObserver(T=>{let[E]=T;E&&E.target===h&&j&&(j.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var O;(O=j)==null||O.observe(t)})),s()}),h&&!m&&j.observe(h),j.observe(t));let w,S=m?qo(e):null;m&&N();function N(){const T=qo(e);S&&!HC(S,T)&&s(),S=T,w=requestAnimationFrame(N)}return s(),()=>{var T;x.forEach(E=>{o&&E.removeEventListener("scroll",s),c&&E.removeEventListener("resize",s)}),v?.(),(T=j)==null||T.disconnect(),j=null,m&&cancelAnimationFrame(w)}}const $0=Mh,VD=ND,HD=CD,GD=jD,QD=ED,ZD=(e,t,s)=>{const n=new Map,o={platform:qD,...s},c={...o.platform,_c:n};return yD(e,t,{...o,platform:c})};var KD=typeof document<"u",YD=function(){},vm=KD?g.useLayoutEffect:YD;function Gm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!Gm(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),s=o.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=s;n--!==0;){const c=o[n];if(!(c==="_owner"&&e.$$typeof)&&!Gm(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function GC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Jw(e,t){const s=GC(e);return Math.round(t*s)/s}function P0(e){const t=g.useRef(e);return vm(()=>{t.current=e}),t}function WD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:o,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:m,open:h}=e,[x,v]=g.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[y,j]=g.useState(n);Gm(y,n)||j(n);const[w,S]=g.useState(null),[N,T]=g.useState(null),E=g.useCallback($=>{$!==P.current&&(P.current=$,S($))},[]),O=g.useCallback($=>{$!==z.current&&(z.current=$,T($))},[]),k=c||w,R=u||N,P=g.useRef(null),z=g.useRef(null),F=g.useRef(x),te=m!=null,H=P0(m),Y=P0(o),Z=P0(h),ee=g.useCallback(()=>{if(!P.current||!z.current)return;const $={placement:t,strategy:s,middleware:y};Y.current&&($.platform=Y.current),ZD(P.current,z.current,$).then(K=>{const V={...K,isPositioned:Z.current!==!1};q.current&&!Gm(F.current,V)&&(F.current=V,Ss.flushSync(()=>{v(V)}))})},[y,t,s,Y,Z]);vm(()=>{h===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,v($=>({...$,isPositioned:!1})))},[h]);const q=g.useRef(!1);vm(()=>(q.current=!0,()=>{q.current=!1}),[]),vm(()=>{if(k&&(P.current=k),R&&(z.current=R),k&&R){if(H.current)return H.current(k,R,ee);ee()}},[k,R,ee,H,te]);const U=g.useMemo(()=>({reference:P,floating:z,setReference:E,setFloating:O}),[E,O]),A=g.useMemo(()=>({reference:k,floating:R}),[k,R]),I=g.useMemo(()=>{const $={position:s,left:0,top:0};if(!A.floating)return $;const K=Jw(A.floating,x.x),V=Jw(A.floating,x.y);return f?{...$,transform:"translate("+K+"px, "+V+"px)",...GC(A.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:K,top:V}},[s,f,A.floating,x.x,x.y]);return g.useMemo(()=>({...x,update:ee,refs:U,elements:A,floatingStyles:I}),[x,ee,U,A,I])}const QC=(e,t)=>({...VD(e),options:[e,t]}),XD=(e,t)=>({...HD(e),options:[e,t]}),JD=(e,t)=>({...GD(e),options:[e,t]}),ez=(e,t)=>({...QD(e),options:[e,t]}),ZC={...km},tz=ZC.useInsertionEffect,sz=tz||(e=>e());function KC(e){const t=g.useRef(()=>{});return sz(()=>{t.current=e}),g.useCallback(function(){for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return t.current==null?void 0:t.current(...n)},[])}var _x=typeof document<"u"?g.useLayoutEffect:g.useEffect;let eS=!1,nz=0;const tS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+nz++;function az(){const[e,t]=g.useState(()=>eS?tS():void 0);return _x(()=>{e==null&&t(tS())},[]),g.useEffect(()=>{eS=!0},[]),e}const rz=ZC.useId,iz=rz||az;function oz(){const e=new Map;return{emit(t,s){var n;(n=e.get(t))==null||n.forEach(o=>o(s))},on(t,s){e.set(t,[...e.get(t)||[],s])},off(t,s){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(o=>o!==s))||[])}}}const lz=g.createContext(null),cz=g.createContext(null),uz=()=>{var e;return((e=g.useContext(lz))==null?void 0:e.id)||null},dz=()=>g.useContext(cz),fz="data-floating-ui-focusable";function mz(e){const{open:t=!1,onOpenChange:s,elements:n}=e,o=iz(),c=g.useRef({}),[u]=g.useState(()=>oz()),f=uz()!=null,[m,h]=g.useState(n.reference),x=KC((j,w,S)=>{c.current.openEvent=j?w:void 0,u.emit("openchange",{open:j,event:w,reason:S,nested:f}),s?.(j,w,S)}),v=g.useMemo(()=>({setPositionReference:h}),[]),y=g.useMemo(()=>({reference:m||n.reference||null,floating:n.floating||null,domReference:n.reference}),[m,n.reference,n.floating]);return g.useMemo(()=>({dataRef:c,open:t,onOpenChange:x,elements:y,events:u,floatingId:o,refs:v}),[t,x,y,u,o,v])}function hz(e){e===void 0&&(e={});const{nodeId:t}=e,s=mz({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||s,o=n.elements,[c,u]=g.useState(null),[f,m]=g.useState(null),x=o?.domReference||c,v=g.useRef(null),y=dz();_x(()=>{x&&(v.current=x)},[x]);const j=WD({...e,elements:{...o,...f&&{reference:f}}}),w=g.useCallback(O=>{const k=gn(O)?{getBoundingClientRect:()=>O.getBoundingClientRect(),contextElement:O}:O;m(k),j.refs.setReference(k)},[j.refs]),S=g.useCallback(O=>{(gn(O)||O===null)&&(v.current=O,u(O)),(gn(j.refs.reference.current)||j.refs.reference.current===null||O!==null&&!gn(O))&&j.refs.setReference(O)},[j.refs]),N=g.useMemo(()=>({...j.refs,setReference:S,setPositionReference:w,domReference:v}),[j.refs,S,w]),T=g.useMemo(()=>({...j.elements,domReference:x}),[j.elements,x]),E=g.useMemo(()=>({...j,...n,refs:N,elements:T,nodeId:t}),[j,N,T,t,n]);return _x(()=>{n.dataRef.current.floatingContext=E;const O=y?.nodesRef.current.find(k=>k.id===t);O&&(O.context=E)}),g.useMemo(()=>({...j,context:E,refs:N,elements:T}),[j,N,T,E])}const sS="active",nS="selected";function I0(e,t,s){const n=new Map,o=s==="item";let c=e;if(o&&e){const{[sS]:u,[nS]:f,...m}=e;c=m}return{...s==="floating"&&{tabIndex:-1,[fz]:""},...c,...t.map(u=>{const f=u?u[s]:null;return typeof f=="function"?e?f(e):null:f}).concat(e).reduce((u,f)=>(f&&Object.entries(f).forEach(m=>{let[h,x]=m;if(!(o&&[sS,nS].includes(h)))if(h.indexOf("on")===0){if(n.has(h)||n.set(h,[]),typeof x=="function"){var v;(v=n.get(h))==null||v.push(x),u[h]=function(){for(var y,j=arguments.length,w=new Array(j),S=0;S<j;S++)w[S]=arguments[S];return(y=n.get(h))==null?void 0:y.map(N=>N(...w)).find(N=>N!==void 0)}}}else u[h]=x}),u),{})}}function pz(e){e===void 0&&(e=[]);const t=e.map(f=>f?.reference),s=e.map(f=>f?.floating),n=e.map(f=>f?.item),o=g.useCallback(f=>I0(f,e,"reference"),t),c=g.useCallback(f=>I0(f,e,"floating"),s),u=g.useCallback(f=>I0(f,e,"item"),n);return g.useMemo(()=>({getReferenceProps:o,getFloatingProps:c,getItemProps:u}),[o,c,u])}function aS(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const gz=e=>({name:"inner",options:e,async fn(t){const{listRef:s,overflowRef:n,onFallbackChange:o,offset:c=0,index:u=0,minItemsVisible:f=4,referenceOverflowThreshold:m=0,scrollRef:h,...x}=mc(e,t),{rects:v,elements:{floating:y}}=t,j=s.current[u],w=h?.current||y,S=y.clientTop||w.clientTop,N=y.clientTop!==0,T=w.clientTop!==0,E=y===w;if(!j)return{};const O={...t,...await QC(-j.offsetTop-y.clientTop-v.reference.height/2-j.offsetHeight/2-c).fn(t)},k=await $0(aS(O,w.scrollHeight+S+y.clientTop),x),R=await $0(O,{...x,elementContext:"reference"}),P=tn(0,k.top),z=O.y+P,H=(w.scrollHeight>w.clientHeight?Y=>Y:Zu)(tn(0,w.scrollHeight+(N&&E||T?S*2:0)-P-tn(0,k.bottom)));if(w.style.maxHeight=H+"px",w.scrollTop=P,o){const Y=w.offsetHeight<j.offsetHeight*Lo(f,s.current.length)-1||R.top>=-m||R.bottom>=-m;Ss.flushSync(()=>o(Y))}return n&&(n.current=await $0(aS({...O,y:z},w.offsetHeight+S+y.clientTop),x)),{y:z}}});function xz(e,t){const{open:s,elements:n}=e,{enabled:o=!0,overflowRef:c,scrollRef:u,onChange:f}=t,m=KC(f),h=g.useRef(!1),x=g.useRef(null),v=g.useRef(null);g.useEffect(()=>{if(!o)return;function j(S){if(S.ctrlKey||!w||c.current==null)return;const N=S.deltaY,T=c.current.top>=-.5,E=c.current.bottom>=-.5,O=w.scrollHeight-w.clientHeight,k=N<0?-1:1,R=N<0?"max":"min";w.scrollHeight<=w.clientHeight||(!T&&N>0||!E&&N<0?(S.preventDefault(),Ss.flushSync(()=>{m(P=>P+Math[R](N,O*k))})):/firefox/i.test(lD())&&(w.scrollTop+=N))}const w=u?.current||n.floating;if(s&&w)return w.addEventListener("wheel",j),requestAnimationFrame(()=>{x.current=w.scrollTop,c.current!=null&&(v.current={...c.current})}),()=>{x.current=null,v.current=null,w.removeEventListener("wheel",j)}},[o,s,n.floating,c,u,m]);const y=g.useMemo(()=>({onKeyDown(){h.current=!0},onWheel(){h.current=!1},onPointerMove(){h.current=!1},onScroll(){const j=u?.current||n.floating;if(!(!c.current||!j||!h.current)){if(x.current!==null){const w=j.scrollTop-x.current;(c.current.bottom<-.5&&w<-1||c.current.top<-.5&&w>1)&&Ss.flushSync(()=>m(S=>S+w))}requestAnimationFrame(()=>{x.current=j.scrollTop})}}}),[n.floating,m,c,u]);return g.useMemo(()=>o?{floating:y}:{},[o,y])}let hc=g.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});hc.displayName="FloatingContext";let wb=g.createContext(null);wb.displayName="PlacementContext";function Dh(e){return g.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function zh(){return g.useContext(hc).setReference}function YC(){return g.useContext(hc).getReferenceProps}function $h(){let{getFloatingProps:e,slot:t}=g.useContext(hc);return g.useCallback((...s)=>Object.assign({},e(...s),{"data-anchor":t.anchor}),[e,t])}function Ph(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=g.useContext(wb),s=g.useMemo(()=>e,[JSON.stringify(e,(o,c)=>{var u;return(u=c?.outerHTML)!=null?u:c})]);pt(()=>{t?.(s??null)},[t,s]);let n=g.useContext(hc);return g.useMemo(()=>[n.setFloating,e?n.styles:{}],[n.setFloating,e,n.styles])}let rS=4;function Ih({children:e,enabled:t=!0}){let[s,n]=g.useState(null),[o,c]=g.useState(0),u=g.useRef(null),[f,m]=g.useState(null);bz(f);let h=t&&s!==null&&f!==null,{to:x="bottom",gap:v=0,offset:y=0,padding:j=0,inner:w}=vz(s,f),[S,N="center"]=x.split(" ");pt(()=>{h&&c(0)},[h]);let{refs:T,floatingStyles:E,context:O}=hz({open:h,placement:S==="selection"?N==="center"?"bottom":`bottom-${N}`:N==="center"?`${S}`:`${S}-${N}`,strategy:"absolute",transform:!1,middleware:[QC({mainAxis:S==="selection"?0:v,crossAxis:y}),XD({padding:j}),S!=="selection"&&JD({padding:j}),S==="selection"&&w?gz({...w,padding:j,overflowRef:u,offset:o,minItemsVisible:rS,referenceOverflowThreshold:j,onFallbackChange(Y){var Z,ee;if(!Y)return;let q=O.elements.floating;if(!q)return;let U=parseFloat(getComputedStyle(q).scrollPaddingBottom)||0,A=Math.min(rS,q.childElementCount),I=0,$=0;for(let K of(ee=(Z=O.elements.floating)==null?void 0:Z.childNodes)!=null?ee:[])if(Us(K)){let V=K.offsetTop,_=V+K.clientHeight+U,L=q.scrollTop,G=L+q.clientHeight;if(V>=L&&_<=G)A--;else{$=Math.max(0,Math.min(_,G)-Math.max(V,L)),I=K.clientHeight;break}}A>=1&&c(K=>{let V=I*A-$+U;return K>=V?K:V})}}):null,ez({padding:j,apply({availableWidth:Y,availableHeight:Z,elements:ee}){Object.assign(ee.floating.style,{overflow:"auto",maxWidth:`${Y}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${Z}px)`})}})].filter(Boolean),whileElementsMounted:BD}),[k=S,R=N]=O.placement.split("-");S==="selection"&&(k="selection");let P=g.useMemo(()=>({anchor:[k,R].filter(Boolean).join(" ")}),[k,R]),z=xz(O,{overflowRef:u,onChange:c}),{getReferenceProps:F,getFloatingProps:te}=pz([z]),H=Oe(Y=>{m(Y),T.setFloating(Y)});return g.createElement(wb.Provider,{value:n},g.createElement(hc.Provider,{value:{setFloating:H,setReference:T.setReference,styles:E,getReferenceProps:F,getFloatingProps:te,slot:P}},e))}function bz(e){pt(()=>{if(!e)return;let t=new MutationObserver(()=>{let s=window.getComputedStyle(e).maxHeight,n=parseFloat(s);if(isNaN(n))return;let o=parseInt(s);isNaN(o)||n!==o&&(e.style.maxHeight=`${Math.ceil(n)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function vz(e,t){var s,n,o;let c=F0((s=e?.gap)!=null?s:"var(--anchor-gap, 0)",t),u=F0((n=e?.offset)!=null?n:"var(--anchor-offset, 0)",t),f=F0((o=e?.padding)!=null?o:"var(--anchor-padding, 0)",t);return{...e,gap:c,offset:u,padding:f}}function F0(e,t,s=void 0){let n=mr(),o=Oe((m,h)=>{if(m==null)return[s,null];if(typeof m=="number")return[m,null];if(typeof m=="string"){if(!h)return[s,null];let x=iS(m,h);return[x,v=>{let y=WC(m);{let j=y.map(w=>window.getComputedStyle(h).getPropertyValue(w));n.requestAnimationFrame(function w(){n.nextFrame(w);let S=!1;for(let[T,E]of y.entries()){let O=window.getComputedStyle(h).getPropertyValue(E);if(j[T]!==O){j[T]=O,S=!0;break}}if(!S)return;let N=iS(m,h);x!==N&&(v(N),x=N)})}return n.dispose}]}return[s,null]}),c=g.useMemo(()=>o(e,t)[0],[e,t]),[u=c,f]=g.useState();return pt(()=>{let[m,h]=o(e,t);if(f(m),!!h)return h(f)},[e,t]),u}function WC(e){let t=/var\((.*)\)/.exec(e);if(t){let s=t[1].indexOf(",");if(s===-1)return[t[1]];let n=t[1].slice(0,s).trim(),o=t[1].slice(s+1).trim();return o?[n,...WC(o)]:[n]}return[]}function iS(e,t){let s=document.createElement("div");t.appendChild(s),s.style.setProperty("margin-top","0px","important"),s.style.setProperty("margin-top",e,"important");let n=parseFloat(window.getComputedStyle(s).marginTop)||0;return t.removeChild(s),n}function yz({children:e,freeze:t},s){let n=Qm(t,e);return g.isValidElement(n)?g.cloneElement(n,{ref:s}):oe.createElement(oe.Fragment,null,n)}const jz=oe.forwardRef(yz);function Qm(e,t){let[s,n]=g.useState(t);return!e&&s!==t&&n(t),e?s:t}let Fh=g.createContext(null);Fh.displayName="OpenClosedContext";var Dt=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Dt||{});function ri(){return g.useContext(Fh)}function bd({value:e,children:t}){return oe.createElement(Fh.Provider,{value:e},t)}function XC({children:e}){return oe.createElement(Fh.Provider,{value:null},e)}function wz(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Ya=[];wz(()=>{function e(t){if(!Oa(t.target)||t.target===document.body||Ya[0]===t.target)return;let s=t.target;s=s.closest(Bm),Ya.unshift(s??t.target),Ya=Ya.filter(n=>n!=null&&n.isConnected),Ya.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Sz(e){throw new Error("Unexpected object: "+e)}var He=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(He||{});function er(e,t){let s=t.resolveItems();if(s.length<=0)return null;let n=t.resolveActiveIndex(),o=n??-1;switch(e.focus){case 0:{for(let c=0;c<s.length;++c)if(!t.resolveDisabled(s[c],c,s))return c;return n}case 1:{o===-1&&(o=s.length);for(let c=o-1;c>=0;--c)if(!t.resolveDisabled(s[c],c,s))return c;return n}case 2:{for(let c=o+1;c<s.length;++c)if(!t.resolveDisabled(s[c],c,s))return c;return n}case 3:{for(let c=s.length-1;c>=0;--c)if(!t.resolveDisabled(s[c],c,s))return c;return n}case 4:{for(let c=0;c<s.length;++c)if(t.resolveId(s[c],c,s)===e.id)return c;return n}case 5:return null;default:Sz(e)}}function pc(e){let t=Oe(e),s=g.useRef(!1);g.useEffect(()=>(s.current=!1,()=>{s.current=!0,bh(()=>{s.current&&t()})}),[t])}let JC=g.createContext(!1);function Nz(){return g.useContext(JC)}function oS(e){return oe.createElement(JC.Provider,{value:e.force},e.children)}function Cz(e){let t=Nz(),s=g.useContext(tE),[n,o]=g.useState(()=>{var c;if(!t&&s!==null)return(c=s.current)!=null?c:null;if(nr.isServer)return null;let u=e?.getElementById("headlessui-portal-root");if(u)return u;if(e===null)return null;let f=e.createElement("div");return f.setAttribute("id","headlessui-portal-root"),e.body.appendChild(f)});return g.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),g.useEffect(()=>{t||s!==null&&o(s.current)},[s,o,t]),n}let eE=g.Fragment,Ez=lt(function(e,t){let{ownerDocument:s=null,...n}=e,o=g.useRef(null),c=Et(bC(y=>{o.current=y}),t),u=za(o.current),f=s??u,m=Cz(f),h=g.useContext(Tx),x=mr(),v=xt();return pc(()=>{var y;m&&m.childNodes.length<=0&&((y=m.parentElement)==null||y.removeChild(m))}),m?Ss.createPortal(oe.createElement("div",{"data-headlessui-portal":"",ref:y=>{x.dispose(),h&&y&&x.add(h.register(y))}},v({ourProps:{ref:c},theirProps:n,slot:{},defaultTag:eE,name:"Portal"})),m):null});function _z(e,t){let s=Et(t),{enabled:n=!0,ownerDocument:o,...c}=e,u=xt();return n?oe.createElement(Ez,{...c,ownerDocument:o,ref:s}):u({ourProps:{ref:s},theirProps:c,slot:{},defaultTag:eE,name:"Portal"})}let Tz=g.Fragment,tE=g.createContext(null);function Oz(e,t){let{target:s,...n}=e,o={ref:Et(t)},c=xt();return oe.createElement(tE.Provider,{value:s},c({ourProps:o,theirProps:n,defaultTag:Tz,name:"Popover.Group"}))}let Tx=g.createContext(null);function sE(){let e=g.useContext(Tx),t=g.useRef([]),s=Oe(c=>(t.current.push(c),e&&e.register(c),()=>n(c))),n=Oe(c=>{let u=t.current.indexOf(c);u!==-1&&t.current.splice(u,1),e&&e.unregister(c)}),o=g.useMemo(()=>({register:s,unregister:n,portals:t}),[s,n,t]);return[t,g.useMemo(()=>function({children:c}){return oe.createElement(Tx.Provider,{value:o},c)},[o])]}let kz=lt(_z),nE=lt(Oz),vd=Object.assign(kz,{Group:nE});const Wn={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function Lh(e){let t=e.getBoundingClientRect();return`${t.x},${t.y}`}function Sb(e,t,s){let n=ln();if(t.kind==="Tracked"){let o=function(){c!==Lh(e)&&(n.dispose(),s())},{position:c}=t,u=new ResizeObserver(o);u.observe(e),n.add(()=>u.disconnect()),n.addEventListener(window,"scroll",o,{passive:!0}),n.addEventListener(window,"resize",o)}return()=>n.dispose()}var Az=Object.defineProperty,Mz=(e,t,s)=>t in e?Az(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,lS=(e,t,s)=>(Mz(e,typeof t!="symbol"?t+"":t,s),s),dt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(dt||{}),Qn=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Qn||{}),ir=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(ir||{}),aE=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.DefaultToFirstOption=6]="DefaultToFirstOption",e[e.SetActivationTrigger=7]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",e[e.SetInputElement=9]="SetInputElement",e[e.SetButtonElement=10]="SetButtonElement",e[e.SetOptionsElement=11]="SetOptionsElement",e[e.MarkInputAsMoved=12]="MarkInputAsMoved",e))(aE||{});function L0(e,t=s=>s){let s=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=t(e.options.slice()),o=n.length>0&&n[0].dataRef.current.order!==null?n.sort((u,f)=>u.dataRef.current.order-f.dataRef.current.order):Eh(n,u=>u.dataRef.current.domRef.current),c=s?o.indexOf(s):null;return c===-1&&(c=null),{options:o,activeOptionIndex:c}}let Rz={1(e){var t;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1)return e;let s=e.inputElement?Wn.Tracked(Lh(e.inputElement)):e.inputPositionState;return{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,inputPositionState:s,__demoMode:!1}},0(e){var t,s;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((s=e.dataRef.current)!=null&&s.value){let n=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(n!==-1)return{...e,activeOptionIndex:n,comboboxState:0,__demoMode:!1,inputPositionState:Wn.Idle}}return{...e,comboboxState:0,inputPositionState:Wn.Idle,__demoMode:!1}},3(e,t){return e.isTyping===t.isTyping?e:{...e,isTyping:t.isTyping}},2(e,t){var s,n,o,c;if((s=e.dataRef.current)!=null&&s.disabled||e.optionsElement&&!((n=e.dataRef.current)!=null&&n.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:h,disabled:x}=e.virtual,v=t.focus===He.Specific?t.idx:er(t,{resolveItems:()=>h,resolveActiveIndex:()=>{var j,w;return(w=(j=e.activeOptionIndex)!=null?j:h.findIndex(S=>!x(S)))!=null?w:null},resolveDisabled:x,resolveId(){throw new Error("Function not implemented.")}}),y=(o=t.trigger)!=null?o:2;return e.activeOptionIndex===v&&e.activationTrigger===y?e:{...e,activeOptionIndex:v,activationTrigger:y,isTyping:!1,__demoMode:!1}}let u=L0(e);if(u.activeOptionIndex===null){let h=u.options.findIndex(x=>!x.dataRef.current.disabled);h!==-1&&(u.activeOptionIndex=h)}let f=t.focus===He.Specific?t.idx:er(t,{resolveItems:()=>u.options,resolveActiveIndex:()=>u.activeOptionIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled}),m=(c=t.trigger)!=null?c:2;return e.activeOptionIndex===f&&e.activationTrigger===m?e:{...e,...u,isTyping:!1,activeOptionIndex:f,activationTrigger:m,__demoMode:!1}},4:(e,t)=>{var s,n,o,c;if((s=e.dataRef.current)!=null&&s.virtual)return{...e,options:[...e.options,t.payload]};let u=t.payload,f=L0(e,h=>(h.push(u),h));e.activeOptionIndex===null&&(o=(n=e.dataRef.current).isSelected)!=null&&o.call(n,t.payload.dataRef.current.value)&&(f.activeOptionIndex=f.options.indexOf(u));let m={...e,...f,activationTrigger:2};return(c=e.dataRef.current)!=null&&c.__demoMode&&e.dataRef.current.value===void 0&&(m.activeOptionIndex=0),m},5:(e,t)=>{var s;if((s=e.dataRef.current)!=null&&s.virtual)return{...e,options:e.options.filter(o=>o.id!==t.id)};let n=L0(e,o=>{let c=o.findIndex(u=>u.id===t.id);return c!==-1&&o.splice(c,1),o});return{...e,...n,activationTrigger:2}},6:(e,t)=>e.defaultToFirstOption===t.value?e:{...e,defaultToFirstOption:t.value},7:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},8:(e,t)=>{var s,n;if(e.virtual===null)return{...e,virtual:{options:t.options,disabled:(s=t.disabled)!=null?s:()=>!1}};if(e.virtual.options===t.options&&e.virtual.disabled===t.disabled)return e;let o=e.activeOptionIndex;if(e.activeOptionIndex!==null){let c=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);c!==-1?o=c:o=null}return{...e,activeOptionIndex:o,virtual:{options:t.options,disabled:(n=t.disabled)!=null?n:()=>!1}}},9:(e,t)=>e.inputElement===t.element?e:{...e,inputElement:t.element},10:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},11:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element},12(e){return e.inputPositionState.kind!=="Tracked"?e:{...e,inputPositionState:Wn.Moved}}},Dz=class rE extends ld{constructor(t){super(t),lS(this,"actions",{onChange:s=>{let{onChange:n,compare:o,mode:c,value:u}=this.state.dataRef.current;return $t(c,{0:()=>n?.(s),1:()=>{let f=u.slice(),m=f.findIndex(h=>o(h,s));return m===-1?f.push(s):f.splice(m,1),n?.(f)}})},registerOption:(s,n)=>(this.send({type:4,payload:{id:s,dataRef:n}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(n.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:s})}),goToOption:(s,n)=>(this.send({type:6,value:!1}),this.send({type:2,...s,trigger:n})),setIsTyping:s=>{this.send({type:3,isTyping:s})},closeCombobox:()=>{var s,n;this.send({type:1}),this.send({type:6,value:!1}),(n=(s=this.state.dataRef.current).onClose)==null||n.call(s)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:s=>{this.send({type:7,trigger:s})},selectActiveOption:()=>{let s=this.selectors.activeOptionIndex(this.state);if(s!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[s]);else{let{dataRef:n}=this.state.options[s];this.actions.onChange(n.current.value)}this.actions.goToOption({focus:He.Specific,idx:s})}},setInputElement:s=>{this.send({type:9,element:s})},setButtonElement:s=>{this.send({type:10,element:s})},setOptionsElement:s=>{this.send({type:11,element:s})}}),lS(this,"selectors",{activeDescendantId:s=>{var n,o;let c=this.selectors.activeOptionIndex(s);if(c!==null)return s.virtual?(o=s.options.find(u=>!u.dataRef.current.disabled&&s.dataRef.current.compare(u.dataRef.current.value,s.virtual.options[c])))==null?void 0:o.id:(n=s.options[c])==null?void 0:n.id},activeOptionIndex:s=>{if(s.defaultToFirstOption&&s.activeOptionIndex===null&&(s.virtual?s.virtual.options.length>0:s.options.length>0)){if(s.virtual){let{options:o,disabled:c}=s.virtual,u=o.findIndex(f=>{var m;return!((m=c?.(f))!=null&&m)});if(u!==-1)return u}let n=s.options.findIndex(o=>!o.dataRef.current.disabled);if(n!==-1)return n}return s.activeOptionIndex},activeOption:s=>{var n,o;let c=this.selectors.activeOptionIndex(s);return c===null?null:s.virtual?s.virtual.options[c??0]:(o=(n=s.options[c])==null?void 0:n.dataRef.current.value)!=null?o:null},isActive:(s,n,o)=>{var c;let u=this.selectors.activeOptionIndex(s);return u===null?!1:s.virtual?u===s.dataRef.current.calculateIndex(n):((c=s.options[u])==null?void 0:c.id)===o},shouldScrollIntoView:(s,n,o)=>!(s.virtual||s.__demoMode||s.comboboxState!==0||s.activationTrigger===0||!this.selectors.isActive(s,n,o)),didInputMove(s){return s.inputPositionState.kind==="Moved"}});{let s=this.state.id,n=ai.get(null);this.disposables.add(n.on(Nh.Push,o=>{!n.selectors.isTop(o,s)&&this.state.comboboxState===0&&this.actions.closeCombobox()})),this.on(0,()=>n.actions.push(s)),this.on(1,()=>n.actions.pop(s))}this.disposables.group(s=>{this.on(1,n=>{n.inputElement&&(s.dispose(),s.add(Sb(n.inputElement,n.inputPositionState,()=>{this.send({type:12})})))})})}static new({id:t,virtual:s=null,__demoMode:n=!1}){var o;return new rE({id:t,dataRef:{current:{}},comboboxState:n?0:1,isTyping:!1,options:[],virtual:s?{options:s.options,disabled:(o=s.disabled)!=null?o:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:n,inputPositionState:Wn.Idle})}reduce(t,s){return $t(s.type,Rz,t,s)}};const iE=g.createContext(null);function yd(e){let t=g.useContext(iE);if(t===null){let s=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,oE),s}return t}function oE({id:e,virtual:t=null,__demoMode:s=!1}){let n=g.useMemo(()=>Dz.new({id:e,virtual:t,__demoMode:s}),[]);return pc(()=>n.dispose()),n}let Ku=g.createContext(null);Ku.displayName="ComboboxDataContext";function gc(e){let t=g.useContext(Ku);if(t===null){let s=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,gc),s}return t}let lE=g.createContext(null);function zz(e){let t=yd("VirtualProvider"),s=gc("VirtualProvider"),{options:n}=s.virtual,o=Ye(t,j=>j.optionsElement),[c,u]=g.useMemo(()=>{let j=o;if(!j)return[0,0];let w=window.getComputedStyle(j);return[parseFloat(w.paddingBlockStart||w.paddingTop),parseFloat(w.paddingBlockEnd||w.paddingBottom)]},[o]),f=xR({enabled:n.length!==0,scrollPaddingStart:c,scrollPaddingEnd:u,count:n.length,estimateSize(){return 40},getScrollElement(){return t.state.optionsElement},overscan:12}),[m,h]=g.useState(0);pt(()=>{h(j=>j+1)},[n]);let x=f.getVirtualItems(),v=Ye(t,j=>j.activationTrigger===ir.Pointer),y=Ye(t,t.selectors.activeOptionIndex);return x.length===0?null:oe.createElement(lE.Provider,{value:f},oe.createElement("div",{style:{position:"relative",width:"100%",height:`${f.getTotalSize()}px`},ref:j=>{j&&(v||y!==null&&n.length>y&&f.scrollToIndex(y))}},x.map(j=>{var w;return oe.createElement(g.Fragment,{key:j.key},oe.cloneElement((w=e.children)==null?void 0:w.call(e,{...e.slot,option:n[j.index]}),{key:`${m}-${j.key}`,"data-index":j.index,"aria-setsize":n.length,"aria-posinset":j.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${j.start}px)`,overflowAnchor:"none"}}))})))}let $z=g.Fragment;function Pz(e,t){let s=g.useId(),n=yh(),{value:o,defaultValue:c,onChange:u,form:f,name:m,by:h,invalid:x=!1,disabled:v=n||!1,onClose:y,__demoMode:j=!1,multiple:w=!1,immediate:S=!1,virtual:N=null,nullable:T,...E}=e,O=uC(c),[k=w?[]:void 0,R]=cC(o,u,O),P=oE({id:s,virtual:N,__demoMode:j}),z=g.useRef({static:!1,hold:!1}),F=NC(h),te=Oe(we=>N?h===null?N.options.indexOf(we):N.options.findIndex(ue=>F(ue,we)):P.state.options.findIndex(ue=>F(ue.dataRef.current.value,we))),H=g.useCallback(we=>$t(ee.mode,{[Qn.Multi]:()=>k.some(ue=>F(ue,we)),[Qn.Single]:()=>F(k,we)}),[k]),Y=Ye(P,we=>we.virtual),Z=Oe(()=>y?.()),ee=g.useMemo(()=>({__demoMode:j,immediate:S,optionsPropsRef:z,value:k,defaultValue:O,disabled:v,invalid:x,mode:w?Qn.Multi:Qn.Single,virtual:N?Y:null,onChange:R,isSelected:H,calculateIndex:te,compare:F,onClose:Z}),[j,S,z,k,O,v,x,w,N,Y,R,H,te,F,Z]);pt(()=>{var we;N&&P.send({type:aE.UpdateVirtualConfiguration,options:N.options,disabled:(we=N.disabled)!=null?we:null})},[N,N?.options,N?.disabled]),pt(()=>{P.state.dataRef.current=ee},[ee]);let[q,U,A,I]=Ye(P,we=>[we.comboboxState,we.buttonElement,we.inputElement,we.optionsElement]),$=ai.get(null),K=Ye($,g.useCallback(we=>$.selectors.isTop(we,s),[$,s]));hd(K,[U,A,I],()=>P.actions.closeCombobox());let V=Ye(P,P.selectors.activeOptionIndex),_=Ye(P,P.selectors.activeOption),L=Gt({open:q===dt.Open,disabled:v,invalid:x,activeIndex:V,activeOption:_,value:k}),[G,ne]=Sh(),D=t===null?{}:{ref:t},Q=g.useCallback(()=>{if(O!==void 0)return R?.(O)},[R,O]),W=xt();return oe.createElement(ne,{value:G,props:{htmlFor:A?.id},slot:{open:q===dt.Open,disabled:v}},oe.createElement(Ih,null,oe.createElement(Ku.Provider,{value:ee},oe.createElement(iE.Provider,{value:P},oe.createElement(bd,{value:$t(q,{[dt.Open]:Dt.Open,[dt.Closed]:Dt.Closed})},m!=null&&oe.createElement(hC,{disabled:v,data:k!=null?{[m]:k}:{},form:f,onReset:Q}),W({ourProps:D,theirProps:E,slot:L,defaultTag:$z,name:"Combobox"}))))))}let Iz="input";function Fz(e,t){var s,n;let o=yd("Combobox.Input"),c=gc("Combobox.Input"),u=g.useId(),f=fb(),{id:m=f||`headlessui-combobox-input-${u}`,onChange:h,displayValue:x,disabled:v=c.disabled||!1,autoFocus:y=!1,type:j="text",...w}=e,S=g.useRef(null),N=Et(S,t,zh(),o.actions.setInputElement),[T,E]=Ye(o,L=>[L.comboboxState,L.isTyping]),O=mr(),k=Oe(()=>{o.actions.onChange(null),o.state.optionsElement&&(o.state.optionsElement.scrollTop=0),o.actions.goToOption({focus:He.Nothing})}),R=g.useMemo(()=>{var L;return typeof x=="function"&&c.value!==void 0?(L=x(c.value))!=null?L:"":typeof c.value=="string"?c.value:""},[c.value,x]);Gu(([L,G],[ne,D])=>{if(o.state.isTyping)return;let Q=S.current;Q&&((D===dt.Open&&G===dt.Closed||L!==ne)&&(Q.value=L),requestAnimationFrame(()=>{if(o.state.isTyping||!Q||id(Q))return;let{selectionStart:W,selectionEnd:we}=Q;Math.abs((we??0)-(W??0))===0&&W===0&&Q.setSelectionRange(Q.value.length,Q.value.length)}))},[R,T,E]),Gu(([L],[G])=>{if(L===dt.Open&&G===dt.Closed){if(o.state.isTyping)return;let ne=S.current;if(!ne)return;let D=ne.value,{selectionStart:Q,selectionEnd:W,selectionDirection:we}=ne;ne.value="",ne.value=D,we!==null?ne.setSelectionRange(Q,W,we):ne.setSelectionRange(Q,W)}},[T]);let P=g.useRef(!1),z=Oe(()=>{P.current=!0}),F=Oe(()=>{O.nextFrame(()=>{P.current=!1})}),te=Oe(L=>{switch(o.actions.setIsTyping(!0),L.key){case Ge.Enter:if(o.state.comboboxState!==dt.Open||P.current)return;if(L.preventDefault(),L.stopPropagation(),o.selectors.activeOptionIndex(o.state)===null){o.actions.closeCombobox();return}o.actions.selectActiveOption(),c.mode===Qn.Single&&o.actions.closeCombobox();break;case Ge.ArrowDown:return L.preventDefault(),L.stopPropagation(),$t(o.state.comboboxState,{[dt.Open]:()=>o.actions.goToOption({focus:He.Next}),[dt.Closed]:()=>o.actions.openCombobox()});case Ge.ArrowUp:return L.preventDefault(),L.stopPropagation(),$t(o.state.comboboxState,{[dt.Open]:()=>o.actions.goToOption({focus:He.Previous}),[dt.Closed]:()=>{Ss.flushSync(()=>o.actions.openCombobox()),c.value||o.actions.goToOption({focus:He.Last})}});case Ge.Home:if(o.state.comboboxState===dt.Closed||L.shiftKey)break;return L.preventDefault(),L.stopPropagation(),o.actions.goToOption({focus:He.First});case Ge.PageUp:return L.preventDefault(),L.stopPropagation(),o.actions.goToOption({focus:He.First});case Ge.End:if(o.state.comboboxState===dt.Closed||L.shiftKey)break;return L.preventDefault(),L.stopPropagation(),o.actions.goToOption({focus:He.Last});case Ge.PageDown:return L.preventDefault(),L.stopPropagation(),o.actions.goToOption({focus:He.Last});case Ge.Escape:return o.state.comboboxState!==dt.Open?void 0:(L.preventDefault(),o.state.optionsElement&&!c.optionsPropsRef.current.static&&L.stopPropagation(),c.mode===Qn.Single&&c.value===null&&k(),o.actions.closeCombobox());case Ge.Tab:if(o.actions.setIsTyping(!1),o.state.comboboxState!==dt.Open)return;c.mode===Qn.Single&&o.state.activationTrigger!==ir.Focus&&o.actions.selectActiveOption(),o.actions.closeCombobox();break}}),H=Oe(L=>{h?.(L),c.mode===Qn.Single&&L.target.value===""&&k(),o.actions.openCombobox()}),Y=Oe(L=>{var G,ne,D;let Q=(G=L.relatedTarget)!=null?G:Ya.find(W=>W!==L.currentTarget);if(!((ne=o.state.optionsElement)!=null&&ne.contains(Q))&&!((D=o.state.buttonElement)!=null&&D.contains(Q))&&o.state.comboboxState===dt.Open)return L.preventDefault(),c.mode===Qn.Single&&c.value===null&&k(),o.actions.closeCombobox()}),Z=Oe(L=>{var G,ne,D;let Q=(G=L.relatedTarget)!=null?G:Ya.find(W=>W!==L.currentTarget);(ne=o.state.buttonElement)!=null&&ne.contains(Q)||(D=o.state.optionsElement)!=null&&D.contains(Q)||c.disabled||c.immediate&&o.state.comboboxState!==dt.Open&&O.microTask(()=>{Ss.flushSync(()=>o.actions.openCombobox()),o.actions.setActivationTrigger(ir.Focus)})}),ee=od(),q=yC(),{isFocused:U,focusProps:A}=rd({autoFocus:y}),{isHovered:I,hoverProps:$}=ad({isDisabled:v}),K=Ye(o,L=>L.optionsElement),V=Gt({open:T===dt.Open,disabled:v,invalid:c.invalid,hover:I,focus:U,autofocus:y}),_=cr({ref:N,id:m,role:"combobox",type:j,"aria-controls":K?.id,"aria-expanded":T===dt.Open,"aria-activedescendant":Ye(o,o.selectors.activeDescendantId),"aria-labelledby":ee,"aria-describedby":q,"aria-autocomplete":"list",defaultValue:(n=(s=e.defaultValue)!=null?s:c.defaultValue!==void 0?x?.(c.defaultValue):null)!=null?n:c.defaultValue,disabled:v||void 0,autoFocus:y,onCompositionStart:z,onCompositionEnd:F,onKeyDown:te,onChange:H,onFocus:Z,onBlur:Y},A,$);return xt()({ourProps:_,theirProps:w,slot:V,defaultTag:Iz,name:"Combobox.Input"})}let Lz="button";function qz(e,t){let s=yd("Combobox.Button"),n=gc("Combobox.Button"),[o,c]=g.useState(null),u=Et(t,c,s.actions.setButtonElement),f=g.useId(),{id:m=`headlessui-combobox-button-${f}`,disabled:h=n.disabled||!1,autoFocus:x=!1,...v}=e,[y,j,w]=Ye(s,Z=>[Z.comboboxState,Z.inputElement,Z.optionsElement]),S=RC(j),N=y===dt.Open;xb(N,{trigger:o,action:g.useCallback(Z=>{if(o!=null&&o.contains(Z.target)||j!=null&&j.contains(Z.target))return Gn.Ignore;let ee=Z.target.closest('[role="option"]:not([data-disabled])');return Us(ee)?Gn.Select(ee):w!=null&&w.contains(Z.target)?Gn.Ignore:Gn.Close},[o,j,w]),close:s.actions.closeCombobox,select:s.actions.selectActiveOption});let T=Oe(Z=>{switch(Z.key){case Ge.Space:case Ge.Enter:Z.preventDefault(),Z.stopPropagation(),s.state.comboboxState===dt.Closed&&Ss.flushSync(()=>s.actions.openCombobox()),S();return;case Ge.ArrowDown:Z.preventDefault(),Z.stopPropagation(),s.state.comboboxState===dt.Closed&&(Ss.flushSync(()=>s.actions.openCombobox()),s.state.dataRef.current.value||s.actions.goToOption({focus:He.First})),S();return;case Ge.ArrowUp:Z.preventDefault(),Z.stopPropagation(),s.state.comboboxState===dt.Closed&&(Ss.flushSync(()=>s.actions.openCombobox()),s.state.dataRef.current.value||s.actions.goToOption({focus:He.Last})),S();return;case Ge.Escape:if(s.state.comboboxState!==dt.Open)return;Z.preventDefault(),s.state.optionsElement&&!n.optionsPropsRef.current.static&&Z.stopPropagation(),Ss.flushSync(()=>s.actions.closeCombobox()),S();return;default:return}}),E=gb(()=>{s.state.comboboxState===dt.Open?s.actions.closeCombobox():s.actions.openCombobox(),S()}),O=od([m]),{isFocusVisible:k,focusProps:R}=rd({autoFocus:x}),{isHovered:P,hoverProps:z}=ad({isDisabled:h}),{pressed:F,pressProps:te}=vh({disabled:h}),H=Gt({open:y===dt.Open,active:F||y===dt.Open,disabled:h,invalid:n.invalid,value:n.value,hover:P,focus:k}),Y=cr({ref:u,id:m,type:Th(e,o),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":w?.id,"aria-expanded":y===dt.Open,"aria-labelledby":O,disabled:h||void 0,autoFocus:x,onKeyDown:T},E,R,z,te);return xt()({ourProps:Y,theirProps:v,slot:H,defaultTag:Lz,name:"Combobox.Button"})}let Uz="div",Bz=zn.RenderStrategy|zn.Static;function Vz(e,t){var s,n,o;let c=g.useId(),{id:u=`headlessui-combobox-options-${c}`,hold:f=!1,anchor:m,portal:h=!1,modal:x=!0,transition:v=!1,...y}=e,j=yd("Combobox.Options"),w=gc("Combobox.Options"),S=Dh(m);S&&(h=!0);let[N,T]=Ph(S),[E,O]=g.useState(null),k=$h(),R=Et(t,S?N:null,j.actions.setOptionsElement,O),[P,z,F,te,H]=Ye(j,$e=>[$e.comboboxState,$e.inputElement,$e.buttonElement,$e.optionsElement,$e.activationTrigger]),Y=za(z||F),Z=za(te),ee=ri(),[q,U]=dc(v,E,ee!==null?(ee&Dt.Open)===Dt.Open:P===dt.Open);ud(q,z,j.actions.closeCombobox);let A=w.__demoMode?!1:x&&P===dt.Open;pd(A,Z);let I=w.__demoMode?!1:x&&P===dt.Open;Ch(I,{allowed:g.useCallback(()=>[z,F,te],[z,F,te])});let $=Ye(j,j.selectors.didInputMove)?!1:q;pt(()=>{var $e;w.optionsPropsRef.current.static=($e=e.static)!=null?$e:!1},[w.optionsPropsRef,e.static]),pt(()=>{w.optionsPropsRef.current.hold=f},[w.optionsPropsRef,f]),DC(P===dt.Open,{container:te,accept($e){return $e.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:$e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk($e){$e.setAttribute("role","none")}});let K=od([F?.id]),V=Gt({open:P===dt.Open,option:void 0}),_=Oe(()=>{j.actions.setActivationTrigger(ir.Pointer)}),L=Oe($e=>{$e.preventDefault(),j.actions.setActivationTrigger(ir.Pointer)}),G=cr(S?k():{},{"aria-labelledby":K,role:"listbox","aria-multiselectable":w.mode===Qn.Multi?!0:void 0,id:u,ref:R,style:{...y.style,...T,"--input-width":Hu(q,z,!0).width,"--button-width":Hu(q,F,!0).width},onWheel:H===ir.Pointer?void 0:_,onMouseDown:L,...uc(U)}),ne=q&&P===dt.Closed&&!e.static,D=Qm(ne,(s=w.virtual)==null?void 0:s.options),Q=Qm(ne,w.value),W=g.useCallback($e=>w.compare(Q,$e),[w.compare,Q]),we=g.useMemo(()=>{if(!w.virtual)return w;if(D===void 0)throw new Error("Missing `options` in virtual mode");return D!==w.virtual.options?{...w,virtual:{...w.virtual,options:D}}:w},[w,D,(n=w.virtual)==null?void 0:n.options]);w.virtual&&Object.assign(y,{children:oe.createElement(Ku.Provider,{value:we},oe.createElement(zz,{slot:V},y.children))});let ue=xt(),ve=g.useMemo(()=>w.mode===Qn.Multi?w:{...w,isSelected:W},[w,W]);return oe.createElement(vd,{enabled:h?e.static||q:!1,ownerDocument:Y},oe.createElement(Ku.Provider,{value:ve},ue({ourProps:G,theirProps:{...y,children:oe.createElement(jz,{freeze:ne},typeof y.children=="function"?(o=y.children)==null?void 0:o.call(y,V):y.children)},slot:V,defaultTag:Uz,features:Bz,visible:$,name:"Combobox.Options"})))}let Hz="div";function Gz(e,t){var s,n,o;let c=gc("Combobox.Option"),u=yd("Combobox.Option"),f=g.useId(),{id:m=`headlessui-combobox-option-${f}`,value:h,disabled:x=(o=(n=(s=c.virtual)==null?void 0:s.disabled)==null?void 0:n.call(s,h))!=null?o:!1,order:v=null,...y}=e,[j]=Ye(u,U=>[U.inputElement]),w=RC(j),S=Ye(u,g.useCallback(U=>u.selectors.isActive(U,h,m),[h,m])),N=c.isSelected(h),T=g.useRef(null),E=Da({disabled:x,value:h,domRef:T,order:v}),O=g.useContext(lE),k=Et(t,T,O?O.measureElement:null),R=Oe(()=>{u.actions.setIsTyping(!1),u.actions.onChange(h)});pt(()=>u.actions.registerOption(m,E),[E,m]);let P=Ye(u,g.useCallback(U=>u.selectors.shouldScrollIntoView(U,h,m),[h,m]));pt(()=>{if(P)return ln().requestAnimationFrame(()=>{var U,A;(A=(U=T.current)==null?void 0:U.scrollIntoView)==null||A.call(U,{block:"nearest"})})},[P,T]);let z=Oe(U=>{U.preventDefault(),U.button===pb.Left&&(x||(R(),Nx()||requestAnimationFrame(()=>w()),c.mode===Qn.Single&&u.actions.closeCombobox()))}),F=Oe(()=>{if(x)return u.actions.goToOption({focus:He.Nothing});let U=c.calculateIndex(h);u.actions.goToOption({focus:He.Specific,idx:U})}),te=bb(),H=Oe(U=>te.update(U)),Y=Oe(U=>{if(!te.wasMoved(U)||x||S&&u.state.activationTrigger===ir.Pointer)return;let A=c.calculateIndex(h);u.actions.goToOption({focus:He.Specific,idx:A},ir.Pointer)}),Z=Oe(U=>{te.wasMoved(U)&&(x||S&&(c.optionsPropsRef.current.hold||u.state.activationTrigger===ir.Pointer&&u.actions.goToOption({focus:He.Nothing})))}),ee=Gt({active:S,focus:S,selected:N,disabled:x}),q={id:m,ref:k,role:"option",tabIndex:x===!0?void 0:-1,"aria-disabled":x===!0?!0:void 0,"aria-selected":N,disabled:void 0,onMouseDown:z,onFocus:F,onPointerEnter:H,onMouseEnter:H,onPointerMove:Y,onMouseMove:Y,onPointerLeave:Z,onMouseLeave:Z};return xt()({ourProps:q,theirProps:y,slot:ee,defaultTag:Hz,name:"Combobox.Option"})}let Qz=lt(Pz),Zz=lt(qz),Kz=lt(Fz),Yz=wC,Wz=lt(Vz),Xz=lt(Gz),yu=Object.assign(Qz,{Input:Kz,Button:Zz,Label:Yz,Options:Wz,Option:Xz});function Jz(e,t=typeof document<"u"?document.defaultView:null,s){let n=cd(e,"escape");_h(t,"keydown",o=>{n&&(o.defaultPrevented||o.key===Ge.Escape&&s(o))})}function e$(){var e;let[t]=g.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[s,n]=g.useState((e=t?.matches)!=null?e:!1);return pt(()=>{if(!t)return;function o(c){n(c.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),s}function cE({defaultContainers:e=[],portals:t,mainTreeNode:s}={}){let n=Oe(()=>{var o,c;let u=ao(s),f=[];for(let m of e)m!==null&&(Yr(m)?f.push(m):"current"in m&&Yr(m.current)&&f.push(m.current));if(t!=null&&t.current)for(let m of t.current)f.push(m);for(let m of(o=u?.querySelectorAll("html > *, body > *"))!=null?o:[])m!==document.body&&m!==document.head&&Yr(m)&&m.id!=="headlessui-portal-root"&&(s&&(m.contains(s)||m.contains((c=s?.getRootNode())==null?void 0:c.host))||f.some(h=>m.contains(h))||f.push(m));return f});return{resolveContainers:n,contains:Oe(o=>n().some(c=>c.contains(o)))}}let uE=g.createContext(null);function Zm({children:e,node:t}){let[s,n]=g.useState(null),o=Nb(t??s);return oe.createElement(uE.Provider,{value:o},e,o===null&&oe.createElement(Ki,{features:Xr.Hidden,ref:c=>{var u,f;if(c){for(let m of(f=(u=ao(c))==null?void 0:u.querySelectorAll("html > *, body > *"))!=null?f:[])if(m!==document.body&&m!==document.head&&Yr(m)&&m!=null&&m.contains(c)){n(m);break}}}}))}function Nb(e=null){var t;return(t=g.useContext(uE))!=null?t:e}function t$(){let e=typeof document>"u";return"useSyncExternalStore"in km?(t=>t.useSyncExternalStore)(km)(()=>()=>{},()=>!1,()=>!e):!1}function qh(){let e=t$(),[t,s]=g.useState(nr.isHandoffComplete);return t&&nr.isHandoffComplete===!1&&s(!1),g.useEffect(()=>{t!==!0&&s(!0)},[t]),g.useEffect(()=>nr.handoff(),[]),e?!1:t}function Cb(){let e=g.useRef(!1);return pt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Xn=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Xn||{});function Eb(){let e=g.useRef(0);return MC(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function dE(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let s of e.current)Yr(s.current)&&t.add(s.current);return t}let s$="div";var To=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(To||{});function n$(e,t){let s=g.useRef(null),n=Et(s,t),{initialFocus:o,initialFocusFallback:c,containers:u,features:f=15,...m}=e;qh()||(f=0);let h=za(s.current);o$(f,{ownerDocument:h});let x=l$(f,{ownerDocument:h,container:s,initialFocus:o,initialFocusFallback:c});c$(f,{ownerDocument:h,container:s,containers:u,previousActiveElement:x});let v=Eb(),y=Oe(E=>{if(!Us(s.current))return;let O=s.current;(k=>k())(()=>{$t(v.current,{[Xn.Forwards]:()=>{Yn(O,ms.First,{skipElements:[E.relatedTarget,c]})},[Xn.Backwards]:()=>{Yn(O,ms.Last,{skipElements:[E.relatedTarget,c]})}})})}),j=cd(!!(f&2),"focus-trap#tab-lock"),w=mr(),S=g.useRef(!1),N={ref:n,onKeyDown(E){E.key=="Tab"&&(S.current=!0,w.requestAnimationFrame(()=>{S.current=!1}))},onBlur(E){if(!(f&4))return;let O=dE(u);Us(s.current)&&O.add(s.current);let k=E.relatedTarget;Oa(k)&&k.dataset.headlessuiFocusGuard!=="true"&&(fE(O,k)||(S.current?Yn(s.current,$t(v.current,{[Xn.Forwards]:()=>ms.Next,[Xn.Backwards]:()=>ms.Previous})|ms.WrapAround,{relativeTo:E.target}):Oa(E.target)&&ar(E.target)))}},T=xt();return oe.createElement(oe.Fragment,null,j&&oe.createElement(Ki,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Xr.Focusable}),T({ourProps:N,theirProps:m,defaultTag:s$,name:"FocusTrap"}),j&&oe.createElement(Ki,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Xr.Focusable}))}let a$=lt(n$),r$=Object.assign(a$,{features:To});function i$(e=!0){let t=g.useRef(Ya.slice());return Gu(([s],[n])=>{n===!0&&s===!1&&bh(()=>{t.current.splice(0)}),n===!1&&s===!0&&(t.current=Ya.slice())},[e,Ya,t]),Oe(()=>{var s;return(s=t.current.find(n=>n!=null&&n.isConnected))!=null?s:null})}function o$(e,{ownerDocument:t}){let s=!!(e&8),n=i$(s);Gu(()=>{s||id(t?.body)&&ar(n())},[s]),pc(()=>{s&&ar(n())})}function l$(e,{ownerDocument:t,container:s,initialFocus:n,initialFocusFallback:o}){let c=g.useRef(null),u=cd(!!(e&1),"focus-trap#initial-focus"),f=Cb();return Gu(()=>{if(e===0)return;if(!u){o!=null&&o.current&&ar(o.current);return}let m=s.current;m&&bh(()=>{if(!f.current)return;let h=t?.activeElement;if(n!=null&&n.current){if(n?.current===h){c.current=h;return}}else if(m.contains(h)){c.current=h;return}if(n!=null&&n.current)ar(n.current);else{if(e&16){if(Yn(m,ms.First|ms.AutoFocus)!==Xl.Error)return}else if(Yn(m,ms.First)!==Xl.Error)return;if(o!=null&&o.current&&(ar(o.current),t?.activeElement===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}c.current=t?.activeElement})},[o,u,e]),c}function c$(e,{ownerDocument:t,container:s,containers:n,previousActiveElement:o}){let c=Cb(),u=!!(e&4);_h(t?.defaultView,"focus",f=>{if(!u||!c.current)return;let m=dE(n);Us(s.current)&&m.add(s.current);let h=o.current;if(!h)return;let x=f.target;Us(x)?fE(m,x)?(o.current=x,ar(x)):(f.preventDefault(),f.stopPropagation(),ar(h)):ar(o.current)},!0)}function fE(e,t){for(let s of e)if(s.contains(t))return!0;return!1}function mE(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!$u((t=e.as)!=null?t:pE)||oe.Children.count(e.children)===1}let Uh=g.createContext(null);Uh.displayName="TransitionContext";var u$=(e=>(e.Visible="visible",e.Hidden="hidden",e))(u$||{});function d$(){let e=g.useContext(Uh);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function f$(){let e=g.useContext(Bh);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Bh=g.createContext(null);Bh.displayName="NestingContext";function Vh(e){return"children"in e?Vh(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function hE(e,t){let s=Da(e),n=g.useRef([]),o=Cb(),c=mr(),u=Oe((j,w=Pi.Hidden)=>{let S=n.current.findIndex(({el:N})=>N===j);S!==-1&&($t(w,{[Pi.Unmount](){n.current.splice(S,1)},[Pi.Hidden](){n.current[S].state="hidden"}}),c.microTask(()=>{var N;!Vh(n)&&o.current&&((N=s.current)==null||N.call(s))}))}),f=Oe(j=>{let w=n.current.find(({el:S})=>S===j);return w?w.state!=="visible"&&(w.state="visible"):n.current.push({el:j,state:"visible"}),()=>u(j,Pi.Unmount)}),m=g.useRef([]),h=g.useRef(Promise.resolve()),x=g.useRef({enter:[],leave:[]}),v=Oe((j,w,S)=>{m.current.splice(0),t&&(t.chains.current[w]=t.chains.current[w].filter(([N])=>N!==j)),t?.chains.current[w].push([j,new Promise(N=>{m.current.push(N)})]),t?.chains.current[w].push([j,new Promise(N=>{Promise.all(x.current[w].map(([T,E])=>E)).then(()=>N())})]),w==="enter"?h.current=h.current.then(()=>t?.wait.current).then(()=>S(w)):S(w)}),y=Oe((j,w,S)=>{Promise.all(x.current[w].splice(0).map(([N,T])=>T)).then(()=>{var N;(N=m.current.shift())==null||N()}).then(()=>S(w))});return g.useMemo(()=>({children:n,register:f,unregister:u,onStart:v,onStop:y,wait:h,chains:x}),[f,u,n,v,y,x,h])}let pE=g.Fragment,gE=zn.RenderStrategy;function m$(e,t){var s,n;let{transition:o=!0,beforeEnter:c,afterEnter:u,beforeLeave:f,afterLeave:m,enter:h,enterFrom:x,enterTo:v,entered:y,leave:j,leaveFrom:w,leaveTo:S,...N}=e,[T,E]=g.useState(null),O=g.useRef(null),k=mE(e),R=Et(...k?[O,t,E]:t===null?[]:[t]),P=(s=N.unmount)==null||s?Pi.Unmount:Pi.Hidden,{show:z,appear:F,initial:te}=d$(),[H,Y]=g.useState(z?"visible":"hidden"),Z=f$(),{register:ee,unregister:q}=Z;pt(()=>ee(O),[ee,O]),pt(()=>{if(P===Pi.Hidden&&O.current){if(z&&H!=="visible"){Y("visible");return}return $t(H,{hidden:()=>q(O),visible:()=>ee(O)})}},[H,O,ee,q,z,P]);let U=qh();pt(()=>{if(k&&U&&H==="visible"&&O.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[O,H,U,k]);let A=te&&!F,I=F&&z&&te,$=g.useRef(!1),K=hE(()=>{$.current||(Y("hidden"),q(O))},Z),V=Oe(W=>{$.current=!0;let we=W?"enter":"leave";K.onStart(O,we,ue=>{ue==="enter"?c?.():ue==="leave"&&f?.()})}),_=Oe(W=>{let we=W?"enter":"leave";$.current=!1,K.onStop(O,we,ue=>{ue==="enter"?u?.():ue==="leave"&&m?.()}),we==="leave"&&!Vh(K)&&(Y("hidden"),q(O))});g.useEffect(()=>{k&&o||(V(z),_(z))},[z,k,o]);let L=!(!o||!k||!U||A),[,G]=dc(L,T,z,{start:V,end:_}),ne=Di({ref:R,className:((n=wx(N.className,I&&h,I&&x,G.enter&&h,G.enter&&G.closed&&x,G.enter&&!G.closed&&v,G.leave&&j,G.leave&&!G.closed&&w,G.leave&&G.closed&&S,!G.transition&&z&&y))==null?void 0:n.trim())||void 0,...uc(G)}),D=0;H==="visible"&&(D|=Dt.Open),H==="hidden"&&(D|=Dt.Closed),z&&H==="hidden"&&(D|=Dt.Opening),!z&&H==="visible"&&(D|=Dt.Closing);let Q=xt();return oe.createElement(Bh.Provider,{value:K},oe.createElement(bd,{value:D},Q({ourProps:ne,theirProps:N,defaultTag:pE,features:gE,visible:H==="visible",name:"Transition.Child"})))}function h$(e,t){let{show:s,appear:n=!1,unmount:o=!0,...c}=e,u=g.useRef(null),f=mE(e),m=Et(...f?[u,t]:t===null?[]:[t]);qh();let h=ri();if(s===void 0&&h!==null&&(s=(h&Dt.Open)===Dt.Open),s===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[x,v]=g.useState(s?"visible":"hidden"),y=hE(()=>{s||v("hidden")}),[j,w]=g.useState(!0),S=g.useRef([s]);pt(()=>{j!==!1&&S.current[S.current.length-1]!==s&&(S.current.push(s),w(!1))},[S,s]);let N=g.useMemo(()=>({show:s,appear:n,initial:j}),[s,n,j]);pt(()=>{s?v("visible"):!Vh(y)&&u.current!==null&&v("hidden")},[s,y]);let T={unmount:o},E=Oe(()=>{var R;j&&w(!1),(R=e.beforeEnter)==null||R.call(e)}),O=Oe(()=>{var R;j&&w(!1),(R=e.beforeLeave)==null||R.call(e)}),k=xt();return oe.createElement(Bh.Provider,{value:y},oe.createElement(Uh.Provider,{value:N},k({ourProps:{...T,as:g.Fragment,children:oe.createElement(xE,{ref:m,...T,...c,beforeEnter:E,beforeLeave:O})},theirProps:{},defaultTag:g.Fragment,features:gE,visible:x==="visible",name:"Transition"})))}function p$(e,t){let s=g.useContext(Uh)!==null,n=ri()!==null;return oe.createElement(oe.Fragment,null,!s&&n?oe.createElement(Ox,{ref:t,...e}):oe.createElement(xE,{ref:t,...e}))}let Ox=lt(h$),xE=lt(m$),_b=lt(p$),Ra=Object.assign(Ox,{Child:_b,Root:Ox});var g$=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(g$||{}),x$=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(x$||{});let b$={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Tb=g.createContext(null);Tb.displayName="DialogContext";function Hh(e){let t=g.useContext(Tb);if(t===null){let s=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Hh),s}return t}function v$(e,t){return $t(t.type,b$,e,t)}let cS=lt(function(e,t){let s=g.useId(),{id:n=`headlessui-dialog-${s}`,open:o,onClose:c,initialFocus:u,role:f="dialog",autoFocus:m=!0,__demoMode:h=!1,unmount:x=!1,...v}=e,y=g.useRef(!1);f=(function(){return f==="dialog"||f==="alertdialog"?f:(y.current||(y.current=!0,console.warn(`Invalid role [${f}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let j=ri();o===void 0&&j!==null&&(o=(j&Dt.Open)===Dt.Open);let w=g.useRef(null),S=Et(w,t),N=za(w.current),T=o?0:1,[E,O]=g.useReducer(v$,{titleId:null,descriptionId:null,panelRef:g.createRef()}),k=Oe(()=>c(!1)),R=Oe(G=>O({type:0,id:G})),P=qh()?T===0:!1,[z,F]=sE(),te={get current(){var G;return(G=E.panelRef.current)!=null?G:w.current}},H=Nb(),{resolveContainers:Y}=cE({mainTreeNode:H,portals:z,defaultContainers:[te]}),Z=j!==null?(j&Dt.Closing)===Dt.Closing:!1;Ch(h||Z?!1:P,{allowed:Oe(()=>{var G,ne;return[(ne=(G=w.current)==null?void 0:G.closest("[data-headlessui-portal]"))!=null?ne:null]}),disallowed:Oe(()=>{var G;return[(G=H?.closest("body > *:not(#headlessui-portal-root)"))!=null?G:null]})});let ee=ai.get(null);pt(()=>{if(P)return ee.actions.push(n),()=>ee.actions.pop(n)},[ee,n,P]);let q=Ye(ee,g.useCallback(G=>ee.selectors.isTop(G,n),[ee,n]));hd(q,Y,G=>{G.preventDefault(),k()}),Jz(q,N?.defaultView,G=>{G.preventDefault(),G.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),k()}),pd(h||Z?!1:P,N,Y),ud(P,w,k);let[U,A]=jC(),I=g.useMemo(()=>[{dialogState:T,close:k,setTitleId:R,unmount:x},E],[T,k,R,x,E]),$=Gt({open:T===0}),K={ref:S,id:n,role:f,tabIndex:-1,"aria-modal":h?void 0:T===0?!0:void 0,"aria-labelledby":E.titleId,"aria-describedby":U,unmount:x},V=!e$(),_=To.None;P&&!h&&(_|=To.RestoreFocus,_|=To.TabLock,m&&(_|=To.AutoFocus),V&&(_|=To.InitialFocus));let L=xt();return oe.createElement(XC,null,oe.createElement(oS,{force:!0},oe.createElement(vd,null,oe.createElement(Tb.Provider,{value:I},oe.createElement(nE,{target:w},oe.createElement(oS,{force:!1},oe.createElement(A,{slot:$},oe.createElement(F,null,oe.createElement(r$,{initialFocus:u,initialFocusFallback:w,containers:Y,features:_},oe.createElement(hb,{value:k},L({ourProps:K,theirProps:v,slot:$,defaultTag:y$,features:j$,visible:T===0,name:"Dialog"})))))))))))}),y$="div",j$=zn.RenderStrategy|zn.Static;function w$(e,t){let{transition:s=!1,open:n,...o}=e,c=ri(),u=e.hasOwnProperty("open")||c!==null,f=e.hasOwnProperty("onClose");if(!u&&!f)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!u)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!f)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!c&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||s)&&!o.static?oe.createElement(Zm,null,oe.createElement(Ra,{show:n,transition:s,unmount:o.unmount},oe.createElement(cS,{ref:t,...o}))):oe.createElement(Zm,null,oe.createElement(cS,{ref:t,open:n,...o}))}let S$="div";function N$(e,t){let s=g.useId(),{id:n=`headlessui-dialog-panel-${s}`,transition:o=!1,...c}=e,[{dialogState:u,unmount:f},m]=Hh("Dialog.Panel"),h=Et(t,m.panelRef),x=Gt({open:u===0}),v=Oe(N=>{N.stopPropagation()}),y={ref:h,id:n,onClick:v},j=o?_b:g.Fragment,w=o?{unmount:f}:{},S=xt();return oe.createElement(j,{...w},S({ourProps:y,theirProps:c,slot:x,defaultTag:S$,name:"Dialog.Panel"}))}let C$="div";function E$(e,t){let{transition:s=!1,...n}=e,[{dialogState:o,unmount:c}]=Hh("Dialog.Backdrop"),u=Gt({open:o===0}),f={ref:t,"aria-hidden":!0},m=s?_b:g.Fragment,h=s?{unmount:c}:{},x=xt();return oe.createElement(m,{...h},x({ourProps:f,theirProps:n,slot:u,defaultTag:C$,name:"Dialog.Backdrop"}))}let _$="h2";function T$(e,t){let s=g.useId(),{id:n=`headlessui-dialog-title-${s}`,...o}=e,[{dialogState:c,setTitleId:u}]=Hh("Dialog.Title"),f=Et(t);g.useEffect(()=>(u(n),()=>u(null)),[n,u]);let m=Gt({open:c===0}),h={ref:f,id:n};return xt()({ourProps:h,theirProps:o,slot:m,defaultTag:_$,name:"Dialog.Title"})}let O$=lt(w$),k$=lt(N$);lt(E$);let A$=lt(T$),sm=Object.assign(O$,{Panel:k$,Title:A$,Description:tR}),uS=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function dS(e){var t,s;let n=(t=e.innerText)!=null?t:"",o=e.cloneNode(!0);if(!Us(o))return n;let c=!1;for(let f of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))f.remove(),c=!0;let u=c?(s=o.innerText)!=null?s:"":n;return uS.test(u)&&(u=u.replace(uS,"")),u}function M$(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let s=e.getAttribute("aria-labelledby");if(s){let n=s.split(" ").map(o=>{let c=document.getElementById(o);if(c){let u=c.getAttribute("aria-label");return typeof u=="string"?u.trim():dS(c).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return dS(e).trim()}function bE(e){let t=g.useRef(""),s=g.useRef("");return Oe(()=>{let n=e.current;if(!n)return"";let o=n.innerText;if(t.current===o)return s.current;let c=M$(n).trim().toLowerCase();return t.current=o,s.current=c,c})}var R$=Object.defineProperty,D$=(e,t,s)=>t in e?R$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,fS=(e,t,s)=>(D$(e,typeof t!="symbol"?t+"":t,s),s),sn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(sn||{}),Ii=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ii||{}),ym=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ym||{}),vE=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.SelectOption=5]="SelectOption",e[e.RegisterOptions=6]="RegisterOptions",e[e.UnregisterOptions=7]="UnregisterOptions",e[e.SetButtonElement=8]="SetButtonElement",e[e.SetOptionsElement=9]="SetOptionsElement",e[e.SortOptions=10]="SortOptions",e[e.MarkButtonAsMoved=11]="MarkButtonAsMoved",e))(vE||{});function mS(e,t=s=>s){let s=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=Eh(t(e.options.slice()),c=>c.dataRef.current.domRef.current),o=s?n.indexOf(s):null;return o===-1&&(o=null),{options:n,activeOptionIndex:o}}let z$={1(e){if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.buttonElement?Wn.Tracked(Lh(e.buttonElement)):e.buttonPositionState;return{...e,activeOptionIndex:null,pendingFocus:{focus:He.Nothing},listboxState:1,__demoMode:!1,buttonPositionState:t}},0(e,t){if(e.dataRef.current.disabled||e.listboxState===0)return e;let s=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,o=e.options.findIndex(c=>n(c.dataRef.current.value));return o!==-1&&(s=o),{...e,frozenValue:!1,pendingFocus:t.focus,listboxState:0,activeOptionIndex:s,__demoMode:!1,buttonPositionState:Wn.Idle}},2(e,t){var s,n,o,c,u;if(e.dataRef.current.disabled||e.listboxState===1)return e;let f={...e,searchQuery:"",activationTrigger:(s=t.trigger)!=null?s:1,__demoMode:!1};if(t.focus===He.Nothing)return{...f,activeOptionIndex:null};if(t.focus===He.Specific)return{...f,activeOptionIndex:e.options.findIndex(x=>x.id===t.id)};if(t.focus===He.Previous){let x=e.activeOptionIndex;if(x!==null){let v=e.options[x].dataRef.current.domRef,y=er(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:j=>j.id,resolveDisabled:j=>j.dataRef.current.disabled});if(y!==null){let j=e.options[y].dataRef.current.domRef;if(((n=v.current)==null?void 0:n.previousElementSibling)===j.current||((o=j.current)==null?void 0:o.previousElementSibling)===null)return{...f,activeOptionIndex:y}}}}else if(t.focus===He.Next){let x=e.activeOptionIndex;if(x!==null){let v=e.options[x].dataRef.current.domRef,y=er(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:j=>j.id,resolveDisabled:j=>j.dataRef.current.disabled});if(y!==null){let j=e.options[y].dataRef.current.domRef;if(((c=v.current)==null?void 0:c.nextElementSibling)===j.current||((u=j.current)==null?void 0:u.nextElementSibling)===null)return{...f,activeOptionIndex:y}}}}let m=mS(e),h=er(t,{resolveItems:()=>m.options,resolveActiveIndex:()=>m.activeOptionIndex,resolveId:x=>x.id,resolveDisabled:x=>x.dataRef.current.disabled});return{...f,...m,activeOptionIndex:h}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let s=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+s).concat(e.options.slice(0,e.activeOptionIndex+s)):e.options).find(u=>{var f;return!u.dataRef.current.disabled&&((f=u.dataRef.current.textValue)==null?void 0:f.startsWith(n))}),c=o?e.options.indexOf(o):-1;return c===-1||c===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:c,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5(e){return e.dataRef.current.mode===0?{...e,frozenValue:!0}:{...e}},6:(e,t)=>{let s=e.options.concat(t.options),n=e.activeOptionIndex;if(e.pendingFocus.focus!==He.Nothing&&(n=er(e.pendingFocus,{resolveItems:()=>s,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:o}=e.dataRef.current;if(o){let c=s.findIndex(u=>o?.(u.dataRef.current.value));c!==-1&&(n=c)}}return{...e,options:s,activeOptionIndex:n,pendingFocus:{focus:He.Nothing},pendingShouldSort:!0}},7:(e,t)=>{let s=e.options,n=[],o=new Set(t.options);for(let[c,u]of s.entries())if(o.has(u.id)&&(n.push(c),o.delete(u.id),o.size===0))break;if(n.length>0){s=s.slice();for(let c of n.reverse())s.splice(c,1)}return{...e,options:s,activationTrigger:1}},8:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},9:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element},10:e=>e.pendingShouldSort?{...e,...mS(e),pendingShouldSort:!1}:e,11(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:Wn.Moved}}},$$=class yE extends ld{constructor(t){super(t),fS(this,"actions",{onChange:s=>{let{onChange:n,compare:o,mode:c,value:u}=this.state.dataRef.current;return $t(c,{0:()=>n?.(s),1:()=>{let f=u.slice(),m=f.findIndex(h=>o(h,s));return m===-1?f.push(s):f.splice(m,1),n?.(f)}})},registerOption:Pu(()=>{let s=[],n=new Set;return[(o,c)=>{n.has(c)||(n.add(c),s.push({id:o,dataRef:c}))},()=>(n.clear(),this.send({type:6,options:s.splice(0)}))]}),unregisterOption:Pu(()=>{let s=[];return[n=>s.push(n),()=>{this.send({type:7,options:s.splice(0)})}]}),goToOption:Pu(()=>{let s=null;return[(n,o)=>{s={type:2,...n,trigger:o}},()=>s&&this.send(s)]}),closeListbox:()=>{this.send({type:1})},openListbox:s=>{this.send({type:0,focus:s})},selectActiveOption:()=>{var s;if(this.state.activeOptionIndex!==null){let{dataRef:n}=this.state.options[this.state.activeOptionIndex];this.actions.selectOption(n.current.value)}else this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(s=this.state.buttonElement)==null||s.focus({preventScroll:!0}))},selectOption:s=>{this.send({type:5,value:s})},search:s=>{this.send({type:3,value:s})},clearSearch:()=>{this.send({type:4})},setButtonElement:s=>{this.send({type:8,element:s})},setOptionsElement:s=>{this.send({type:9,element:s})}}),fS(this,"selectors",{activeDescendantId(s){var n;let o=s.activeOptionIndex,c=s.options;return o===null||(n=c[o])==null?void 0:n.id},isActive(s,n){var o;let c=s.activeOptionIndex,u=s.options;return c!==null?((o=u[c])==null?void 0:o.id)===n:!1},hasFrozenValue(s){return s.frozenValue},shouldScrollIntoView(s,n){return s.__demoMode||s.listboxState!==0||s.activationTrigger===0?!1:this.isActive(s,n)},didButtonMove(s){return s.buttonPositionState.kind==="Moved"}}),this.on(6,()=>{requestAnimationFrame(()=>{this.send({type:10})})});{let s=this.state.id,n=ai.get(null);this.disposables.add(n.on(Nh.Push,o=>{!n.selectors.isTop(o,s)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>n.actions.push(s)),this.on(1,()=>n.actions.pop(s))}this.disposables.group(s=>{this.on(1,n=>{n.buttonElement&&(s.dispose(),s.add(Sb(n.buttonElement,n.buttonPositionState,()=>{this.send({type:11})})))})}),this.on(5,(s,n)=>{var o;this.actions.onChange(n.value),this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(o=this.state.buttonElement)==null||o.focus({preventScroll:!0}))})}static new({id:t,__demoMode:s=!1}){return new yE({id:t,dataRef:{current:{}},listboxState:s?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:He.Nothing},frozenValue:!1,__demoMode:s,buttonPositionState:Wn.Idle})}reduce(t,s){return $t(s.type,z$,t,s)}};const jE=g.createContext(null);function Ob(e){let t=g.useContext(jE);if(t===null){let s=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,wE),s}return t}function wE({id:e,__demoMode:t=!1}){let s=g.useMemo(()=>$$.new({id:e,__demoMode:t}),[]);return pc(()=>s.dispose()),s}let Gh=g.createContext(null);Gh.displayName="ListboxDataContext";function jd(e){let t=g.useContext(Gh);if(t===null){let s=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,jd),s}return t}let P$=g.Fragment;function I$(e,t){let s=g.useId(),n=yh(),{value:o,defaultValue:c,form:u,name:f,onChange:m,by:h,invalid:x=!1,disabled:v=n||!1,horizontal:y=!1,multiple:j=!1,__demoMode:w=!1,...S}=e;const N=y?"horizontal":"vertical";let T=Et(t),E=uC(c),[O=j?[]:void 0,k]=cC(o,m,E),R=wE({id:s,__demoMode:w}),P=g.useRef({static:!1,hold:!1}),z=g.useRef(new Map),F=NC(h),te=g.useCallback(L=>$t(H.mode,{[Ii.Multi]:()=>O.some(G=>F(G,L)),[Ii.Single]:()=>F(O,L)}),[O]),H=Gt({value:O,disabled:v,invalid:x,mode:j?Ii.Multi:Ii.Single,orientation:N,onChange:k,compare:F,isSelected:te,optionsPropsRef:P,listRef:z});pt(()=>{R.state.dataRef.current=H},[H]);let Y=Ye(R,L=>L.listboxState),Z=ai.get(null),ee=Ye(Z,g.useCallback(L=>Z.selectors.isTop(L,s),[Z,s])),[q,U]=Ye(R,L=>[L.buttonElement,L.optionsElement]);hd(ee,[q,U],(L,G)=>{R.send({type:vE.CloseListbox}),md(G,fd.Loose)||(L.preventDefault(),q?.focus())});let A=Gt({open:Y===sn.Open,disabled:v,invalid:x,value:O}),[I,$]=Sh({inherit:!0}),K={ref:T},V=g.useCallback(()=>{if(E!==void 0)return k?.(E)},[k,E]),_=xt();return oe.createElement($,{value:I,props:{htmlFor:q?.id},slot:{open:Y===sn.Open,disabled:v}},oe.createElement(Ih,null,oe.createElement(jE.Provider,{value:R},oe.createElement(Gh.Provider,{value:H},oe.createElement(bd,{value:$t(Y,{[sn.Open]:Dt.Open,[sn.Closed]:Dt.Closed})},f!=null&&O!=null&&oe.createElement(hC,{disabled:v,data:{[f]:O},form:u,onReset:V}),_({ourProps:K,theirProps:S,slot:A,defaultTag:P$,name:"Listbox"}))))))}let F$="button";function L$(e,t){let s=g.useId(),n=fb(),o=jd("Listbox.Button"),c=Ob("Listbox.Button"),{id:u=n||`headlessui-listbox-button-${s}`,disabled:f=o.disabled||!1,autoFocus:m=!1,...h}=e,x=Et(t,zh(),c.actions.setButtonElement),v=YC(),[y,j,w]=Ye(c,U=>[U.listboxState,U.buttonElement,U.optionsElement]),S=y===sn.Open;xb(S,{trigger:j,action:g.useCallback(U=>{if(j!=null&&j.contains(U.target))return Gn.Ignore;let A=U.target.closest('[role="option"]:not([data-disabled])');return Us(A)?Gn.Select(A):w!=null&&w.contains(U.target)?Gn.Ignore:Gn.Close},[j,w]),close:c.actions.closeListbox,select:c.actions.selectActiveOption});let N=Oe(U=>{switch(U.key){case Ge.Enter:F6(U.currentTarget);break;case Ge.Space:case Ge.ArrowDown:U.preventDefault(),c.actions.openListbox({focus:o.value?He.Nothing:He.First});break;case Ge.ArrowUp:U.preventDefault(),c.actions.openListbox({focus:o.value?He.Nothing:He.Last});break}}),T=Oe(U=>{U.key===Ge.Space&&U.preventDefault()}),E=gb(U=>{var A;c.state.listboxState===sn.Open?(Ss.flushSync(()=>c.actions.closeListbox()),(A=c.state.buttonElement)==null||A.focus({preventScroll:!0})):(U.preventDefault(),c.actions.openListbox({focus:He.Nothing}))}),O=Oe(U=>U.preventDefault()),k=od([u]),R=yC(),{isFocusVisible:P,focusProps:z}=rd({autoFocus:m}),{isHovered:F,hoverProps:te}=ad({isDisabled:f}),{pressed:H,pressProps:Y}=vh({disabled:f}),Z=Gt({open:y===sn.Open,active:H||y===sn.Open,disabled:f,invalid:o.invalid,value:o.value,hover:F,focus:P,autofocus:m}),ee=Ye(c,U=>U.listboxState===sn.Open),q=cr(v(),{ref:x,id:u,type:Th(e,j),"aria-haspopup":"listbox","aria-controls":w?.id,"aria-expanded":ee,"aria-labelledby":k,"aria-describedby":R,disabled:f||void 0,autoFocus:m,onKeyDown:N,onKeyUp:T,onKeyPress:O},E,z,te,Y);return xt()({ourProps:q,theirProps:h,slot:Z,defaultTag:F$,name:"Listbox.Button"})}let SE=g.createContext(!1),q$="div",U$=zn.RenderStrategy|zn.Static;function B$(e,t){let s=g.useId(),{id:n=`headlessui-listbox-options-${s}`,anchor:o,portal:c=!1,modal:u=!0,transition:f=!1,...m}=e,h=Dh(o),[x,v]=g.useState(null);h&&(c=!0);let y=jd("Listbox.Options"),j=Ob("Listbox.Options"),[w,S,N,T]=Ye(j,Q=>[Q.listboxState,Q.buttonElement,Q.optionsElement,Q.__demoMode]),E=za(S),O=za(N),k=ri(),[R,P]=dc(f,x,k!==null?(k&Dt.Open)===Dt.Open:w===sn.Open);ud(R,S,j.actions.closeListbox);let z=T?!1:u&&w===sn.Open;pd(z,O);let F=T?!1:u&&w===sn.Open;Ch(F,{allowed:g.useCallback(()=>[S,N],[S,N])});let te=Ye(j,j.selectors.didButtonMove)?!1:R,H=Ye(j,j.selectors.hasFrozenValue)&&!e.static,Y=Qm(H,y.value),Z=g.useCallback(Q=>y.compare(Y,Q),[y.compare,Y]),ee=Ye(j,Q=>{var W;if(h==null||!((W=h?.to)!=null&&W.includes("selection")))return null;let we=Q.options.findIndex(ue=>Z(ue.dataRef.current.value));return we===-1&&(we=0),we}),q=(()=>{if(h==null)return;if(ee===null)return{...h,inner:void 0};let Q=Array.from(y.listRef.current.values());return{...h,inner:{listRef:{current:Q},index:ee}}})(),[U,A]=Ph(q),I=$h(),$=Et(t,h?U:null,j.actions.setOptionsElement,v),K=mr();g.useEffect(()=>{let Q=N;Q&&w===sn.Open&&(id(Q)||Q==null||Q.focus({preventScroll:!0}))},[w,N]);let V=Oe(Q=>{var W;switch(K.dispose(),Q.key){case Ge.Space:if(j.state.searchQuery!=="")return Q.preventDefault(),Q.stopPropagation(),j.actions.search(Q.key);case Ge.Enter:Q.preventDefault(),Q.stopPropagation(),j.actions.selectActiveOption();break;case $t(y.orientation,{vertical:Ge.ArrowDown,horizontal:Ge.ArrowRight}):return Q.preventDefault(),Q.stopPropagation(),j.actions.goToOption({focus:He.Next});case $t(y.orientation,{vertical:Ge.ArrowUp,horizontal:Ge.ArrowLeft}):return Q.preventDefault(),Q.stopPropagation(),j.actions.goToOption({focus:He.Previous});case Ge.Home:case Ge.PageUp:return Q.preventDefault(),Q.stopPropagation(),j.actions.goToOption({focus:He.First});case Ge.End:case Ge.PageDown:return Q.preventDefault(),Q.stopPropagation(),j.actions.goToOption({focus:He.Last});case Ge.Escape:Q.preventDefault(),Q.stopPropagation(),Ss.flushSync(()=>j.actions.closeListbox()),(W=j.state.buttonElement)==null||W.focus({preventScroll:!0});return;case Ge.Tab:Q.preventDefault(),Q.stopPropagation(),Ss.flushSync(()=>j.actions.closeListbox()),kC(j.state.buttonElement,Q.shiftKey?ms.Previous:ms.Next);break;default:Q.key.length===1&&(j.actions.search(Q.key),K.setTimeout(()=>j.actions.clearSearch(),350));break}}),_=Ye(j,Q=>{var W;return(W=Q.buttonElement)==null?void 0:W.id}),L=Gt({open:w===sn.Open}),G=cr(h?I():{},{id:n,ref:$,"aria-activedescendant":Ye(j,j.selectors.activeDescendantId),"aria-multiselectable":y.mode===Ii.Multi?!0:void 0,"aria-labelledby":_,"aria-orientation":y.orientation,onKeyDown:V,role:"listbox",tabIndex:w===sn.Open?0:void 0,style:{...m.style,...A,"--button-width":Hu(R,S,!0).width},...uc(P)}),ne=xt(),D=g.useMemo(()=>y.mode===Ii.Multi?y:{...y,isSelected:Z},[y,Z]);return oe.createElement(vd,{enabled:c?e.static||R:!1,ownerDocument:E},oe.createElement(Gh.Provider,{value:D},ne({ourProps:G,theirProps:m,slot:L,defaultTag:q$,features:U$,visible:te,name:"Listbox.Options"})))}let V$="div";function H$(e,t){let s=g.useId(),{id:n=`headlessui-listbox-option-${s}`,disabled:o=!1,value:c,...u}=e,f=g.useContext(SE)===!0,m=jd("Listbox.Option"),h=Ob("Listbox.Option"),x=Ye(h,H=>h.selectors.isActive(H,n)),v=m.isSelected(c),y=g.useRef(null),j=bE(y),w=Da({disabled:o,value:c,domRef:y,get textValue(){return j()}}),S=Et(t,y,H=>{H?m.listRef.current.set(n,H):m.listRef.current.delete(n)}),N=Ye(h,H=>h.selectors.shouldScrollIntoView(H,n));pt(()=>{if(N)return ln().requestAnimationFrame(()=>{var H,Y;(Y=(H=y.current)==null?void 0:H.scrollIntoView)==null||Y.call(H,{block:"nearest"})})},[N,y]),pt(()=>{if(!f)return h.actions.registerOption(n,w),()=>h.actions.unregisterOption(n)},[w,n,f]);let T=Oe(H=>{if(o)return H.preventDefault();h.actions.selectOption(c)}),E=Oe(()=>{if(o)return h.actions.goToOption({focus:He.Nothing});h.actions.goToOption({focus:He.Specific,id:n})}),O=bb(),k=Oe(H=>O.update(H)),R=Oe(H=>{O.wasMoved(H)&&(o||x&&h.state.activationTrigger===ym.Pointer||h.actions.goToOption({focus:He.Specific,id:n},ym.Pointer))}),P=Oe(H=>{O.wasMoved(H)&&(o||x&&h.state.activationTrigger===ym.Pointer&&h.actions.goToOption({focus:He.Nothing}))}),z=Gt({active:x,focus:x,selected:v,disabled:o,selectedOption:v&&f}),F=f?{}:{id:n,ref:S,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":v,disabled:void 0,onClick:T,onFocus:E,onPointerEnter:k,onMouseEnter:k,onPointerMove:R,onMouseMove:R,onPointerLeave:P,onMouseLeave:P},te=xt();return!v&&f?null:te({ourProps:F,theirProps:u,slot:z,defaultTag:V$,name:"Listbox.Option"})}let G$=g.Fragment;function Q$(e,t){let{options:s,placeholder:n,...o}=e,c={ref:Et(t)},u=jd("ListboxSelectedOption"),f=Gt({}),m=u.value===void 0||u.value===null||u.mode===Ii.Multi&&Array.isArray(u.value)&&u.value.length===0,h=xt();return oe.createElement(SE.Provider,{value:!0},h({ourProps:c,theirProps:{...o,children:oe.createElement(oe.Fragment,null,n&&m?n:s)},slot:f,defaultTag:G$,name:"ListboxSelectedOption"}))}let Z$=lt(I$),K$=lt(L$),Y$=wC,W$=lt(B$),X$=lt(H$),J$=lt(Q$),nm=Object.assign(Z$,{Button:K$,Label:Y$,Options:W$,Option:X$,SelectedOption:J$});var eP=Object.defineProperty,tP=(e,t,s)=>t in e?eP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,hS=(e,t,s)=>(tP(e,typeof t!="symbol"?t+"":t,s),s),en=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(en||{}),Km=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Km||{}),Vt=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e[e.MarkButtonAsMoved=10]="MarkButtonAsMoved",e))(Vt||{});function pS(e,t=s=>s){let s=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=Eh(t(e.items.slice()),c=>c.dataRef.current.domRef.current),o=s?n.indexOf(s):null;return o===-1&&(o=null),{items:n,activeItemIndex:o}}let sP={1(e){if(e.menuState===1)return e;let t=e.buttonElement?Wn.Tracked(Lh(e.buttonElement)):e.buttonPositionState;return{...e,activeItemIndex:null,pendingFocus:{focus:He.Nothing},menuState:1,buttonPositionState:t}},0(e,t){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0,buttonPositionState:Wn.Idle}},2:(e,t)=>{var s,n,o,c,u;if(e.menuState===1)return e;let f={...e,searchQuery:"",activationTrigger:(s=t.trigger)!=null?s:1,__demoMode:!1};if(t.focus===He.Nothing)return{...f,activeItemIndex:null};if(t.focus===He.Specific)return{...f,activeItemIndex:e.items.findIndex(x=>x.id===t.id)};if(t.focus===He.Previous){let x=e.activeItemIndex;if(x!==null){let v=e.items[x].dataRef.current.domRef,y=er(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:j=>j.id,resolveDisabled:j=>j.dataRef.current.disabled});if(y!==null){let j=e.items[y].dataRef.current.domRef;if(((n=v.current)==null?void 0:n.previousElementSibling)===j.current||((o=j.current)==null?void 0:o.previousElementSibling)===null)return{...f,activeItemIndex:y}}}}else if(t.focus===He.Next){let x=e.activeItemIndex;if(x!==null){let v=e.items[x].dataRef.current.domRef,y=er(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:j=>j.id,resolveDisabled:j=>j.dataRef.current.disabled});if(y!==null){let j=e.items[y].dataRef.current.domRef;if(((c=v.current)==null?void 0:c.nextElementSibling)===j.current||((u=j.current)==null?void 0:u.nextElementSibling)===null)return{...f,activeItemIndex:y}}}}let m=pS(e),h=er(t,{resolveItems:()=>m.items,resolveActiveIndex:()=>m.activeItemIndex,resolveId:x=>x.id,resolveDisabled:x=>x.dataRef.current.disabled});return{...f,...m,activeItemIndex:h}},3:(e,t)=>{let s=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),o=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+s).concat(e.items.slice(0,e.activeItemIndex+s)):e.items).find(u=>{var f;return((f=u.dataRef.current.textValue)==null?void 0:f.startsWith(n))&&!u.dataRef.current.disabled}),c=o?e.items.indexOf(o):-1;return c===-1||c===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:c,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let s=e.items.concat(t.items.map(o=>o)),n=e.activeItemIndex;return e.pendingFocus.focus!==He.Nothing&&(n=er(e.pendingFocus,{resolveItems:()=>s,resolveActiveIndex:()=>e.activeItemIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled})),{...e,items:s,activeItemIndex:n,pendingFocus:{focus:He.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let s=e.items,n=[],o=new Set(t.items);for(let[c,u]of s.entries())if(o.has(u.id)&&(n.push(c),o.delete(u.id),o.size===0))break;if(n.length>0){s=s.slice();for(let c of n.reverse())s.splice(c,1)}return{...e,items:s,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...pS(e),pendingShouldSort:!1}:e,10(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:Wn.Moved}}},nP=class NE extends ld{constructor(t){super(t),hS(this,"actions",{registerItem:Pu(()=>{let s=[],n=new Set;return[(o,c)=>{n.has(c)||(n.add(c),s.push({id:o,dataRef:c}))},()=>(n.clear(),this.send({type:5,items:s.splice(0)}))]}),unregisterItem:Pu(()=>{let s=[];return[n=>s.push(n),()=>this.send({type:6,items:s.splice(0)})]})}),hS(this,"selectors",{activeDescendantId(s){var n;let o=s.activeItemIndex,c=s.items;return o===null||(n=c[o])==null?void 0:n.id},isActive(s,n){var o;let c=s.activeItemIndex,u=s.items;return c!==null?((o=u[c])==null?void 0:o.id)===n:!1},shouldScrollIntoView(s,n){return s.__demoMode||s.menuState!==0||s.activationTrigger===0?!1:this.isActive(s,n)},didButtonMove(s){return s.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let s=this.state.id,n=ai.get(null);this.disposables.add(n.on(Nh.Push,o=>{!n.selectors.isTop(o,s)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>n.actions.push(s)),this.on(1,()=>n.actions.pop(s))}this.disposables.group(s=>{this.on(1,n=>{n.buttonElement&&(s.dispose(),s.add(Sb(n.buttonElement,n.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:t,__demoMode:s=!1}){return new NE({id:t,__demoMode:s,menuState:s?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:He.Nothing},buttonPositionState:Wn.Idle})}reduce(t,s){return $t(s.type,sP,t,s)}};const CE=g.createContext(null);function kb(e){let t=g.useContext(CE);if(t===null){let s=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,EE),s}return t}function EE({id:e,__demoMode:t=!1}){let s=g.useMemo(()=>nP.new({id:e,__demoMode:t}),[]);return pc(()=>s.dispose()),s}let aP=g.Fragment;function rP(e,t){let s=g.useId(),{__demoMode:n=!1,...o}=e,c=EE({id:s,__demoMode:n}),[u,f,m]=Ye(c,N=>[N.menuState,N.itemsElement,N.buttonElement]),h=Et(t),x=ai.get(null),v=Ye(x,g.useCallback(N=>x.selectors.isTop(N,s),[x,s]));hd(v,[m,f],(N,T)=>{var E;c.send({type:Vt.CloseMenu}),md(T,fd.Loose)||(N.preventDefault(),(E=c.state.buttonElement)==null||E.focus())});let y=Oe(()=>{c.send({type:Vt.CloseMenu})}),j=Gt({open:u===en.Open,close:y}),w={ref:h},S=xt();return oe.createElement(Ih,null,oe.createElement(CE.Provider,{value:c},oe.createElement(bd,{value:$t(u,{[en.Open]:Dt.Open,[en.Closed]:Dt.Closed})},S({ourProps:w,theirProps:o,slot:j,defaultTag:aP,name:"Menu"}))))}let iP="button";function oP(e,t){let s=kb("Menu.Button"),n=g.useId(),{id:o=`headlessui-menu-button-${n}`,disabled:c=!1,autoFocus:u=!1,...f}=e,m=g.useRef(null),h=YC(),x=Et(t,m,zh(),Oe(H=>s.send({type:Vt.SetButtonElement,element:H}))),v=Oe(H=>{switch(H.key){case Ge.Space:case Ge.Enter:case Ge.ArrowDown:H.preventDefault(),H.stopPropagation(),s.send({type:Vt.OpenMenu,focus:{focus:He.First}});break;case Ge.ArrowUp:H.preventDefault(),H.stopPropagation(),s.send({type:Vt.OpenMenu,focus:{focus:He.Last}});break}}),y=Oe(H=>{H.key===Ge.Space&&H.preventDefault()}),[j,w,S]=Ye(s,H=>[H.menuState,H.buttonElement,H.itemsElement]),N=j===en.Open;xb(N,{trigger:w,action:g.useCallback(H=>{if(w!=null&&w.contains(H.target))return Gn.Ignore;let Y=H.target.closest('[role="menuitem"]:not([data-disabled])');return Us(Y)?Gn.Select(Y):S!=null&&S.contains(H.target)?Gn.Ignore:Gn.Close},[w,S]),close:g.useCallback(()=>s.send({type:Vt.CloseMenu}),[]),select:g.useCallback(H=>H.click(),[])});let T=gb(H=>{var Y;c||(j===en.Open?(Ss.flushSync(()=>s.send({type:Vt.CloseMenu})),(Y=m.current)==null||Y.focus({preventScroll:!0})):(H.preventDefault(),s.send({type:Vt.OpenMenu,focus:{focus:He.Nothing},trigger:Km.Pointer})))}),{isFocusVisible:E,focusProps:O}=rd({autoFocus:u}),{isHovered:k,hoverProps:R}=ad({isDisabled:c}),{pressed:P,pressProps:z}=vh({disabled:c}),F=Gt({open:j===en.Open,active:P||j===en.Open,disabled:c,hover:k,focus:E,autofocus:u}),te=cr(h(),{ref:x,id:o,type:Th(e,m.current),"aria-haspopup":"menu","aria-controls":S?.id,"aria-expanded":j===en.Open,disabled:c||void 0,autoFocus:u,onKeyDown:v,onKeyUp:y},T,O,R,z);return xt()({ourProps:te,theirProps:f,slot:F,defaultTag:iP,name:"Menu.Button"})}let lP="div",cP=zn.RenderStrategy|zn.Static;function uP(e,t){let s=g.useId(),{id:n=`headlessui-menu-items-${s}`,anchor:o,portal:c=!1,modal:u=!0,transition:f=!1,...m}=e,h=Dh(o),x=kb("Menu.Items"),[v,y]=Ph(h),j=$h(),[w,S]=g.useState(null),N=Et(t,h?v:null,Oe($=>x.send({type:Vt.SetItemsElement,element:$})),S),[T,E]=Ye(x,$=>[$.menuState,$.buttonElement]),O=za(E),k=za(w);h&&(c=!0);let R=ri(),[P,z]=dc(f,w,R!==null?(R&Dt.Open)===Dt.Open:T===en.Open);ud(P,E,()=>{x.send({type:Vt.CloseMenu})});let F=Ye(x,$=>$.__demoMode),te=F?!1:u&&T===en.Open;pd(te,k);let H=F?!1:u&&T===en.Open;Ch(H,{allowed:g.useCallback(()=>[E,w],[E,w])});let Y=Ye(x,x.selectors.didButtonMove)?!1:P;g.useEffect(()=>{let $=w;$&&T===en.Open&&(id($)||$.focus({preventScroll:!0}))},[T,w]),DC(T===en.Open,{container:w,accept($){return $.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:$.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk($){$.setAttribute("role","none")}});let Z=mr(),ee=Oe($=>{var K,V,_;switch(Z.dispose(),$.key){case Ge.Space:if(x.state.searchQuery!=="")return $.preventDefault(),$.stopPropagation(),x.send({type:Vt.Search,value:$.key});case Ge.Enter:if($.preventDefault(),$.stopPropagation(),x.state.activeItemIndex!==null){let{dataRef:L}=x.state.items[x.state.activeItemIndex];(V=(K=L.current)==null?void 0:K.domRef.current)==null||V.click()}x.send({type:Vt.CloseMenu}),OC(x.state.buttonElement);break;case Ge.ArrowDown:return $.preventDefault(),$.stopPropagation(),x.send({type:Vt.GoToItem,focus:He.Next});case Ge.ArrowUp:return $.preventDefault(),$.stopPropagation(),x.send({type:Vt.GoToItem,focus:He.Previous});case Ge.Home:case Ge.PageUp:return $.preventDefault(),$.stopPropagation(),x.send({type:Vt.GoToItem,focus:He.First});case Ge.End:case Ge.PageDown:return $.preventDefault(),$.stopPropagation(),x.send({type:Vt.GoToItem,focus:He.Last});case Ge.Escape:$.preventDefault(),$.stopPropagation(),Ss.flushSync(()=>x.send({type:Vt.CloseMenu})),(_=x.state.buttonElement)==null||_.focus({preventScroll:!0});break;case Ge.Tab:$.preventDefault(),$.stopPropagation(),Ss.flushSync(()=>x.send({type:Vt.CloseMenu})),kC(x.state.buttonElement,$.shiftKey?ms.Previous:ms.Next);break;default:$.key.length===1&&(x.send({type:Vt.Search,value:$.key}),Z.setTimeout(()=>x.send({type:Vt.ClearSearch}),350));break}}),q=Oe($=>{$.key===Ge.Space&&$.preventDefault()}),U=Gt({open:T===en.Open}),A=cr(h?j():{},{"aria-activedescendant":Ye(x,x.selectors.activeDescendantId),"aria-labelledby":Ye(x,$=>{var K;return(K=$.buttonElement)==null?void 0:K.id}),id:n,onKeyDown:ee,onKeyUp:q,role:"menu",tabIndex:T===en.Open?0:void 0,ref:N,style:{...m.style,...y,"--button-width":Hu(P,E,!0).width},...uc(z)}),I=xt();return oe.createElement(vd,{enabled:c?e.static||P:!1,ownerDocument:O},I({ourProps:A,theirProps:m,slot:U,defaultTag:lP,features:cP,visible:Y,name:"Menu.Items"}))}let dP=g.Fragment;function fP(e,t){let s=g.useId(),{id:n=`headlessui-menu-item-${s}`,disabled:o=!1,...c}=e,u=kb("Menu.Item"),f=Ye(u,Y=>u.selectors.isActive(Y,n)),m=g.useRef(null),h=Et(t,m),x=Ye(u,Y=>u.selectors.shouldScrollIntoView(Y,n));pt(()=>{if(x)return ln().requestAnimationFrame(()=>{var Y,Z;(Z=(Y=m.current)==null?void 0:Y.scrollIntoView)==null||Z.call(Y,{block:"nearest"})})},[x,m]);let v=bE(m),y=g.useRef({disabled:o,domRef:m,get textValue(){return v()}});pt(()=>{y.current.disabled=o},[y,o]),pt(()=>(u.actions.registerItem(n,y),()=>u.actions.unregisterItem(n)),[y,n]);let j=Oe(()=>{u.send({type:Vt.CloseMenu})}),w=Oe(Y=>{if(o)return Y.preventDefault();u.send({type:Vt.CloseMenu}),OC(u.state.buttonElement)}),S=Oe(()=>{if(o)return u.send({type:Vt.GoToItem,focus:He.Nothing});u.send({type:Vt.GoToItem,focus:He.Specific,id:n})}),N=bb(),T=Oe(Y=>N.update(Y)),E=Oe(Y=>{N.wasMoved(Y)&&(o||f||u.send({type:Vt.GoToItem,focus:He.Specific,id:n,trigger:Km.Pointer}))}),O=Oe(Y=>{N.wasMoved(Y)&&(o||f&&u.state.activationTrigger===Km.Pointer&&u.send({type:Vt.GoToItem,focus:He.Nothing}))}),[k,R]=Sh(),[P,z]=jC(),F=Gt({active:f,focus:f,disabled:o,close:j}),te={id:n,ref:h,role:"menuitem",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-labelledby":k,"aria-describedby":P,disabled:void 0,onClick:w,onFocus:S,onPointerEnter:T,onMouseEnter:T,onPointerMove:E,onMouseMove:E,onPointerLeave:O,onMouseLeave:O},H=xt();return oe.createElement(R,null,oe.createElement(z,null,H({ourProps:te,theirProps:c,slot:F,defaultTag:dP,name:"Menu.Item"})))}let mP="div";function hP(e,t){let[s,n]=Sh(),o=e,c={ref:t,"aria-labelledby":s,role:"group"},u=xt();return oe.createElement(n,null,u({ourProps:c,theirProps:o,slot:{},defaultTag:mP,name:"Menu.Section"}))}let pP="header";function gP(e,t){let s=g.useId(),{id:n=`headlessui-menu-heading-${s}`,...o}=e,c=mb();pt(()=>c.register(n),[n,c.register]);let u={id:n,ref:t,role:"presentation",...c.props};return xt()({ourProps:u,theirProps:o,slot:{},defaultTag:pP,name:"Menu.Heading"})}let xP="div";function bP(e,t){let s=e,n={ref:t,role:"separator"};return xt()({ourProps:n,theirProps:s,slot:{},defaultTag:xP,name:"Menu.Separator"})}let vP=lt(rP),yP=lt(oP),jP=lt(uP),wP=lt(fP),SP=lt(hP),NP=lt(gP),CP=lt(bP),ga=Object.assign(vP,{Button:yP,Items:jP,Item:wP,Section:SP,Heading:NP,Separator:CP});var EP=Object.defineProperty,_P=(e,t,s)=>t in e?EP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,gS=(e,t,s)=>(_P(e,typeof t!="symbol"?t+"":t,s),s),ws=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ws||{}),TP=(e=>(e[e.OpenPopover=0]="OpenPopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(TP||{});let OP={0:e=>e.popoverState===0?e:{...e,popoverState:0,__demoMode:!1},1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}};class Ab extends ld{constructor(t){super(t),gS(this,"actions",{close:()=>this.send({type:1}),refocusableClose:s=>{this.actions.close();let n=s?Us(s)?s:"current"in s&&Us(s.current)?s.current:this.state.button:this.state.button;n?.focus()},open:()=>this.send({type:0}),setButtonId:s=>this.send({type:3,buttonId:s}),setButton:s=>this.send({type:2,button:s}),setPanelId:s=>this.send({type:5,panelId:s}),setPanel:s=>this.send({type:4,panel:s})}),gS(this,"selectors",{isPortalled:s=>{var n;if(!s.button||!s.panel)return!1;let o=(n=ao(s.button))!=null?n:document;for(let v of o.querySelectorAll("body > *"))if(Number(v?.contains(s.button))^Number(v?.contains(s.panel)))return!0;let c=dd(o),u=c.indexOf(s.button),f=(u+c.length-1)%c.length,m=(u+1)%c.length,h=c[f],x=c[m];return!s.panel.contains(h)&&!s.panel.contains(x)}});{let s=this.state.id,n=ai.get(null);this.on(0,()=>n.actions.push(s)),this.on(1,()=>n.actions.pop(s))}}static new({id:t,__demoMode:s=!1}){return new Ab({id:t,__demoMode:s,popoverState:s?0:1,buttons:{current:[]},button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:{current:null},afterPanelSentinel:{current:null},afterButtonSentinel:{current:null}})}reduce(t,s){return $t(s.type,OP,t,s)}}const _E=g.createContext(null);function Qh(e){let t=g.useContext(_E);if(t===null){let s=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Qh),s}return t}function kP({id:e,__demoMode:t=!1}){let s=g.useMemo(()=>Ab.new({id:e,__demoMode:t}),[]);return pc(()=>s.dispose()),s}let Mb=g.createContext(null);Mb.displayName="PopoverGroupContext";function TE(){return g.useContext(Mb)}let Zh=g.createContext(null);Zh.displayName="PopoverPanelContext";function AP(){return g.useContext(Zh)}let MP="div";function RP(e,t){var s;let n=g.useId(),{__demoMode:o=!1,...c}=e,u=kP({id:n,__demoMode:o}),f=g.useRef(null),m=Et(t,bC(q=>{f.current=q})),[h,x,v,y,j]=Ye(u,g.useCallback(q=>[q.popoverState,q.button,q.panel,q.buttonId,q.panelId],[])),w=PR((s=f.current)!=null?s:x),S=Da(y),N=Da(j),T=g.useMemo(()=>({buttonId:S,panelId:N,close:u.actions.close}),[S,N,u]),E=TE(),O=E?.registerPopover,k=Oe(()=>{var q,U;let A=Zi((q=f.current)!=null?q:x);return(U=E?.isFocusWithinPopoverGroup())!=null?U:A&&(x?.contains(A)||v?.contains(A))});g.useEffect(()=>O?.(T),[O,T]);let[R,P]=sE(),z=Nb(x),F=cE({mainTreeNode:z,portals:R,defaultContainers:[{get current(){return u.state.button}},{get current(){return u.state.panel}}]});_h(w,"focus",q=>{var U,A,I,$,K,V;q.target!==window&&Oa(q.target)&&u.state.popoverState===ws.Open&&(k()||u.state.button&&u.state.panel&&(F.contains(q.target)||(A=(U=u.state.beforePanelSentinel.current)==null?void 0:U.contains)!=null&&A.call(U,q.target)||($=(I=u.state.afterPanelSentinel.current)==null?void 0:I.contains)!=null&&$.call(I,q.target)||(V=(K=u.state.afterButtonSentinel.current)==null?void 0:K.contains)!=null&&V.call(K,q.target)||u.actions.close()))},!0);let te=h===ws.Open;hd(te,F.resolveContainers,(q,U)=>{u.actions.close(),md(U,fd.Loose)||(q.preventDefault(),x?.focus())});let H=Gt({open:h===ws.Open,close:u.actions.refocusableClose}),Y=Ye(u,g.useCallback(q=>$t(q.popoverState,{[ws.Open]:Dt.Open,[ws.Closed]:Dt.Closed}),[])),Z={ref:m},ee=xt();return oe.createElement(Zm,{node:z},oe.createElement(Ih,null,oe.createElement(Zh.Provider,{value:null},oe.createElement(_E.Provider,{value:u},oe.createElement(hb,{value:u.actions.refocusableClose},oe.createElement(bd,{value:Y},oe.createElement(P,null,ee({ourProps:Z,theirProps:c,slot:H,defaultTag:MP,name:"Popover"}))))))))}let DP="button";function zP(e,t){let s=g.useId(),{id:n=`headlessui-popover-button-${s}`,disabled:o=!1,autoFocus:c=!1,...u}=e,f=Qh("Popover.Button"),[m,h,x,v,y,j,w]=Ye(f,g.useCallback(ne=>[ne.popoverState,f.selectors.isPortalled(ne),ne.button,ne.buttonId,ne.panel,ne.panelId,ne.afterButtonSentinel],[])),S=g.useRef(null),N=`headlessui-focus-sentinel-${g.useId()}`,T=TE(),E=T?.closeOthers,O=AP()!==null;g.useEffect(()=>{if(!O)return f.actions.setButtonId(n),()=>f.actions.setButtonId(null)},[O,n,f]);let[k]=g.useState(()=>Symbol()),R=Et(S,t,zh(),Oe(ne=>{if(!O){if(ne)f.state.buttons.current.push(k);else{let D=f.state.buttons.current.indexOf(k);D!==-1&&f.state.buttons.current.splice(D,1)}f.state.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),ne&&f.actions.setButton(ne)}})),P=Et(S,t),z=Oe(ne=>{var D,Q,W;if(O){if(f.state.popoverState===ws.Closed)return;switch(ne.key){case Ge.Space:case Ge.Enter:ne.preventDefault(),(Q=(D=ne.target).click)==null||Q.call(D),f.actions.close(),(W=f.state.button)==null||W.focus();break}}else switch(ne.key){case Ge.Space:case Ge.Enter:ne.preventDefault(),ne.stopPropagation(),f.state.popoverState===ws.Closed?(E?.(f.state.buttonId),f.actions.open()):f.actions.close();break;case Ge.Escape:if(f.state.popoverState!==ws.Open)return E?.(f.state.buttonId);if(!S.current)return;let we=Zi(S.current);if(we&&!S.current.contains(we))return;ne.preventDefault(),ne.stopPropagation(),f.actions.close();break}}),F=Oe(ne=>{O||ne.key===Ge.Space&&ne.preventDefault()}),te=Oe(ne=>{var D,Q;Um(ne.currentTarget)||o||(O?(f.actions.close(),(D=f.state.button)==null||D.focus()):(ne.preventDefault(),ne.stopPropagation(),f.state.popoverState===ws.Closed?(E?.(f.state.buttonId),f.actions.open()):f.actions.close(),(Q=f.state.button)==null||Q.focus()))}),H=Oe(ne=>{ne.preventDefault(),ne.stopPropagation()}),{isFocusVisible:Y,focusProps:Z}=rd({autoFocus:c}),{isHovered:ee,hoverProps:q}=ad({isDisabled:o}),{pressed:U,pressProps:A}=vh({disabled:o}),I=m===ws.Open,$=Gt({open:I,active:U||I,disabled:o,hover:ee,focus:Y,autofocus:c}),K=Th(e,x),V=cr(O?{ref:P,type:K,onKeyDown:z,onClick:te,disabled:o||void 0,autoFocus:c}:{ref:R,id:v,type:K,"aria-expanded":m===ws.Open,"aria-controls":y?j:void 0,disabled:o||void 0,autoFocus:c,onKeyDown:z,onKeyUp:F,onClick:te,onMouseDown:H},Z,q,A),_=Eb(),L=Oe(()=>{if(!Us(f.state.panel))return;let ne=f.state.panel;function D(){$t(_.current,{[Xn.Forwards]:()=>Yn(ne,ms.First),[Xn.Backwards]:()=>Yn(ne,ms.Last)})===Xl.Error&&Yn(dd(Qi(f.state.button)).filter(Q=>Q.dataset.headlessuiFocusGuard!=="true"),$t(_.current,{[Xn.Forwards]:ms.Next,[Xn.Backwards]:ms.Previous}),{relativeTo:f.state.button})}D()}),G=xt();return oe.createElement(oe.Fragment,null,G({ourProps:V,theirProps:u,slot:$,defaultTag:DP,name:"Popover.Button"}),I&&!O&&h&&oe.createElement(Ki,{id:N,ref:w,features:Xr.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:L}))}let $P="div",PP=zn.RenderStrategy|zn.Static;function OE(e,t){let s=g.useId(),{id:n=`headlessui-popover-backdrop-${s}`,transition:o=!1,...c}=e,u=Qh("Popover.Backdrop"),f=Ye(u,g.useCallback(T=>T.popoverState,[])),[m,h]=g.useState(null),x=Et(t,h),v=ri(),[y,j]=dc(o,m,v!==null?(v&Dt.Open)===Dt.Open:f===ws.Open),w=Oe(T=>{if(Um(T.currentTarget))return T.preventDefault();u.actions.close()}),S=Gt({open:f===ws.Open}),N={ref:x,id:n,"aria-hidden":!0,onClick:w,...uc(j)};return xt()({ourProps:N,theirProps:c,slot:S,defaultTag:$P,features:PP,visible:y,name:"Popover.Backdrop"})}let IP="div",FP=zn.RenderStrategy|zn.Static;function LP(e,t){let s=g.useId(),{id:n=`headlessui-popover-panel-${s}`,focus:o=!1,anchor:c,portal:u=!1,modal:f=!1,transition:m=!1,...h}=e,x=Qh("Popover.Panel"),v=Ye(x,x.selectors.isPortalled),[y,j,w,S,N]=Ye(x,g.useCallback(G=>[G.popoverState,G.button,G.__demoMode,G.beforePanelSentinel,G.afterPanelSentinel],[])),T=`headlessui-focus-sentinel-before-${s}`,E=`headlessui-focus-sentinel-after-${s}`,O=g.useRef(null),k=Dh(c),[R,P]=Ph(k),z=$h();k&&(u=!0);let[F,te]=g.useState(null),H=Et(O,t,k?R:null,x.actions.setPanel,te),Y=za(j),Z=za(O.current);pt(()=>(x.actions.setPanelId(n),()=>x.actions.setPanelId(null)),[n,x]);let ee=ri(),[q,U]=dc(m,F,ee!==null?(ee&Dt.Open)===Dt.Open:y===ws.Open);ud(q,j,x.actions.close),pd(w?!1:f&&q,Z);let A=Oe(G=>{var ne;switch(G.key){case Ge.Escape:if(x.state.popoverState!==ws.Open||!O.current)return;let D=Zi(O.current);if(D&&!O.current.contains(D))return;G.preventDefault(),G.stopPropagation(),x.actions.close(),(ne=x.state.button)==null||ne.focus();break}});g.useEffect(()=>{var G;e.static||y===ws.Closed&&((G=e.unmount)==null||G)&&x.actions.setPanel(null)},[y,e.unmount,e.static,x]),g.useEffect(()=>{if(w||!o||y!==ws.Open||!O.current)return;let G=Zi(O.current);O.current.contains(G)||Yn(O.current,ms.First)},[w,o,O.current,y]);let I=Gt({open:y===ws.Open,close:x.actions.refocusableClose}),$=cr(k?z():{},{ref:H,id:n,onKeyDown:A,onBlur:o&&y===ws.Open?G=>{var ne,D,Q,W,we;let ue=G.relatedTarget;ue&&O.current&&((ne=O.current)!=null&&ne.contains(ue)||(x.actions.close(),((Q=(D=S.current)==null?void 0:D.contains)!=null&&Q.call(D,ue)||(we=(W=N.current)==null?void 0:W.contains)!=null&&we.call(W,ue))&&ue.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...h.style,...P,"--button-width":Hu(q,j,!0).width},...uc(U)}),K=Eb(),V=Oe(()=>{let G=O.current;if(!G)return;function ne(){$t(K.current,{[Xn.Forwards]:()=>{var D;Yn(G,ms.First)===Xl.Error&&((D=x.state.afterPanelSentinel.current)==null||D.focus())},[Xn.Backwards]:()=>{var D;(D=x.state.button)==null||D.focus({preventScroll:!0})}})}ne()}),_=Oe(()=>{let G=O.current;if(!G)return;function ne(){$t(K.current,{[Xn.Forwards]:()=>{var D;if(!x.state.button)return;let Q=(D=Qi(x.state.button))!=null?D:document.body,W=dd(Q),we=W.indexOf(x.state.button),ue=W.slice(0,we+1),ve=[...W.slice(we+1),...ue];for(let $e of ve.slice())if($e.dataset.headlessuiFocusGuard==="true"||F!=null&&F.contains($e)){let St=ve.indexOf($e);St!==-1&&ve.splice(St,1)}Yn(ve,ms.First,{sorted:!1})},[Xn.Backwards]:()=>{var D;Yn(G,ms.Previous)===Xl.Error&&((D=x.state.button)==null||D.focus())}})}ne()}),L=xt();return oe.createElement(XC,null,oe.createElement(Zh.Provider,{value:n},oe.createElement(hb,{value:x.actions.refocusableClose},oe.createElement(vd,{enabled:u?e.static||q:!1,ownerDocument:Y},q&&v&&oe.createElement(Ki,{id:T,ref:S,features:Xr.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:V}),L({ourProps:$,theirProps:h,slot:I,defaultTag:IP,features:FP,visible:q,name:"Popover.Panel"}),q&&v&&oe.createElement(Ki,{id:E,ref:N,features:Xr.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:_})))))}let qP="div";function UP(e,t){let s=g.useRef(null),n=Et(s,t),[o,c]=g.useState([]),u=Oe(S=>{c(N=>{let T=N.indexOf(S);if(T!==-1){let E=N.slice();return E.splice(T,1),E}return N})}),f=Oe(S=>(c(N=>[...N,S]),()=>u(S))),m=Oe(()=>{var S;let N=Qi(s.current);if(!N)return!1;let T=Zi(s.current);return(S=s.current)!=null&&S.contains(T)?!0:o.some(E=>{var O,k;return((O=N.getElementById(E.buttonId.current))==null?void 0:O.contains(T))||((k=N.getElementById(E.panelId.current))==null?void 0:k.contains(T))})}),h=Oe(S=>{for(let N of o)N.buttonId.current!==S&&N.close()}),x=g.useMemo(()=>({registerPopover:f,unregisterPopover:u,isFocusWithinPopoverGroup:m,closeOthers:h}),[f,u,m,h]),v=Gt({}),y=e,j={ref:n},w=xt();return oe.createElement(Zm,null,oe.createElement(Mb.Provider,{value:x},w({ourProps:j,theirProps:y,slot:v,defaultTag:qP,name:"Popover.Group"})))}let BP=lt(RP),VP=lt(zP),HP=lt(OE),GP=lt(OE),QP=lt(LP),ZP=lt(UP),Gr=Object.assign(BP,{Button:VP,Backdrop:GP,Overlay:HP,Panel:QP,Group:ZP});const KP={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"},ss=({isOpen:e,onClose:t,title:s,description:n,size:o="md",noPadding:c=!1,hideCloseButton:u=!1,children:f})=>{const m=s||n||!u;return r.jsx(Ra,{appear:!0,show:e,as:g.Fragment,children:r.jsxs(sm,{as:"div",className:"relative z-50",onClose:t,children:[r.jsx(Ra.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"})}),r.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:r.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:r.jsx(Ra.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:r.jsxs(sm.Panel,{className:je("w-full transform overflow-hidden rounded-2xl bg-white shadow-xl transition-all",c?"":"p-6",KP[o]),children:[m&&!c&&r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[s&&r.jsx(sm.Title,{className:"text-lg font-semibold text-slate-900",children:s}),n&&r.jsx(sm.Description,{className:"text-sm text-slate-500 mt-1",children:n})]}),!u&&r.jsx("button",{onClick:t,className:"p-1 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-colors",children:r.jsx(Ht,{className:"w-5 h-5"})})]}),f]})})})})]})})},YP={danger:{icon:r.jsx(gh,{className:"w-6 h-6"}),iconBg:"bg-red-100",iconColor:"text-red-600",buttonVariant:"danger"},warning:{icon:r.jsx(sd,{className:"w-6 h-6"}),iconBg:"bg-amber-100",iconColor:"text-amber-600",buttonVariant:"primary"},info:{icon:r.jsx(M3,{className:"w-6 h-6"}),iconBg:"bg-blue-100",iconColor:"text-blue-600",buttonVariant:"primary"},success:{icon:r.jsx(va,{className:"w-6 h-6"}),iconBg:"bg-green-100",iconColor:"text-green-600",buttonVariant:"primary"}},Jr=({isOpen:e,onClose:t,onConfirm:s,title:n,message:o,confirmText:c="Confirmar",cancelText:u="Cancelar",variant:f="danger",isLoading:m=!1})=>{const h=YP[f],x=()=>{s()};return r.jsx(ss,{isOpen:e,onClose:t,title:"",size:"sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`mx-auto w-16 h-16 rounded-full ${h.iconBg} ${h.iconColor} flex items-center justify-center mb-5`,children:h.icon}),r.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:n}),r.jsx("p",{className:"text-slate-500 mb-8",children:o}),r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx(ke,{variant:"secondary",onClick:t,disabled:m,className:"min-w-[120px]",children:u}),r.jsx(ke,{variant:h.buttonVariant,onClick:x,isLoading:m,className:"min-w-[120px]",children:c})]})]})})},ec=({label:e,value:t,onChange:s,options:n,placeholder:o="Selecione...",error:c,disabled:u})=>{const f=n.find(m=>m.value===t);return r.jsxs("div",{className:"w-full",children:[e&&r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:e}),r.jsx(nm,{value:t,onChange:s,disabled:u,children:r.jsxs("div",{className:"relative",children:[r.jsxs(nm.Button,{className:je("relative w-full px-4 py-2.5 pr-10 text-left rounded-xl border bg-white cursor-pointer","focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-200",c?"border-red-300 focus:ring-red-500":"border-slate-200 focus:ring-primary-500",u&&"opacity-50 cursor-not-allowed"),children:[r.jsx("span",{className:je(!f&&"text-slate-400"),children:f?.label||o}),r.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:r.jsx(Bi,{className:"w-5 h-5 text-slate-400"})})]}),r.jsx(Ra,{as:g.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx(nm.Options,{className:"absolute z-10 w-full mt-1 overflow-auto bg-white rounded-xl shadow-lg max-h-60 border border-slate-100 focus:outline-none",children:n.map(m=>r.jsx(nm.Option,{value:m.value,className:({active:h})=>je("relative cursor-pointer select-none py-3 px-4",h?"bg-primary-50 text-primary-600":"text-slate-700"),children:({selected:h})=>r.jsxs(r.Fragment,{children:[r.jsx("span",{className:je("block truncate",h&&"font-medium"),children:m.label}),h&&r.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 text-primary-600",children:r.jsx(lb,{className:"w-5 h-5"})})]})},m.value))})})]})}),c&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:c})]})},Rs=({label:e,value:t,onChange:s,options:n,placeholder:o="Selecione...",error:c,disabled:u,loading:f})=>{const[m,h]=g.useState(""),x=g.useRef(null),v=n.find(j=>j.value===t),y=g.useMemo(()=>{if(!m)return n;const j=m.toLowerCase();return n.filter(w=>w.label.toLowerCase().includes(j))},[n,m]);return r.jsxs("div",{className:"w-full",children:[e&&r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:e}),r.jsx(yu,{value:t,onChange:j=>s(j||""),disabled:u,children:({open:j})=>r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"relative",children:[r.jsx(yu.Input,{className:je("w-full px-4 py-2.5 pr-10 rounded-xl border bg-white cursor-pointer","focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-200",c?"border-red-300 focus:ring-red-500":"border-slate-200 focus:ring-primary-500",u&&"opacity-50 cursor-not-allowed"),displayValue:()=>v?.label||"",onChange:w=>h(w.target.value),onClick:()=>x.current?.click(),placeholder:o,autoComplete:"off"}),r.jsx(yu.Button,{ref:x,className:"absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx(Bi,{className:je("w-5 h-5 text-slate-400 transition-transform",j&&"rotate-180")})})]}),r.jsx(Ra,{as:g.Fragment,show:j,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>h(""),children:r.jsx(yu.Options,{static:!0,className:"absolute z-50 w-full mt-1 overflow-auto bg-white rounded-xl shadow-lg max-h-60 border border-slate-100 focus:outline-none",children:f?r.jsx("div",{className:"py-3 px-4 text-slate-500 text-center",children:"Carregando..."}):y.length===0?r.jsx("div",{className:"py-3 px-4 text-slate-500 text-center",children:m?"Nenhum resultado encontrado":"Nenhuma opcao disponivel"}):y.map(w=>r.jsx(yu.Option,{value:w.value,className:({active:S})=>je("relative cursor-pointer select-none py-3 px-4",S?"bg-primary-50 text-primary-600":"text-slate-700"),children:({selected:S})=>r.jsxs(r.Fragment,{children:[r.jsx("span",{className:je("block truncate",S&&"font-medium"),children:w.label}),S&&r.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 text-primary-600",children:r.jsx(lb,{className:"w-5 h-5"})})]})},w.value))})})]})}),c&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:c})]})},on=g.forwardRef(({label:e,error:t,className:s,...n},o)=>r.jsxs("div",{className:"w-full",children:[e&&r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:e}),r.jsx("textarea",{ref:o,className:je("w-full px-4 py-2.5 rounded-xl border bg-white","focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-200","placeholder:text-slate-400 resize-none",t?"border-red-300 focus:ring-red-500":"border-slate-200 focus:ring-primary-500",n.disabled&&"opacity-50 cursor-not-allowed bg-slate-50",s),...n}),t&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:t})]}));on.displayName="Textarea";const WP={sm:"w-4 h-4 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4"},or=({size:e="md",className:t})=>r.jsx("div",{className:je("animate-spin rounded-full border-primary-200 border-t-primary-500",WP[e],t)}),kE=()=>r.jsx("div",{className:"fixed inset-0 bg-white flex items-center justify-center z-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx(or,{size:"lg"}),r.jsx("p",{className:"mt-4 text-slate-600",children:"Carregando..."})]})}),XP=({icon:e,title:t,description:s,action:n,className:o})=>r.jsxs("div",{className:je("flex flex-col items-center justify-center py-12 px-4 text-center",o),children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-100 flex items-center justify-center text-slate-400 mb-4",children:e||r.jsx(G3,{className:"w-8 h-8"})}),r.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-1",children:t}),s&&r.jsx("p",{className:"text-sm text-slate-500 max-w-sm mb-4",children:s}),n]});function Kt({columns:e,data:t,keyExtractor:s,isLoading:n=!1,emptyMessage:o="Nenhum registro encontrado",emptyDescription:c,emptyIcon:u,sortBy:f,sortDir:m,onSort:h,onRowClick:x,rowClassName:v,actions:y,stickyHeader:j=!1}){const w=T=>{h&&h(T)},S=T=>T.sortable?f===T.key?m==="asc"?r.jsx(j3,{className:"w-4 h-4"}):r.jsx(Bi,{className:"w-4 h-4"}):r.jsx(_3,{className:"w-4 h-4 opacity-40"}):null,N={left:"text-left",center:"text-center",right:"text-right"};return n?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(or,{size:"lg"})}):t.length===0?r.jsx(XP,{title:o,description:c,icon:u}):r.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200 bg-white",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:je("bg-slate-50 border-b border-slate-200",j&&"sticky top-0 z-10"),children:[e.map(T=>r.jsx("th",{className:je("px-4 py-3 text-xs font-semibold text-slate-600 uppercase tracking-wider",N[T.align||"left"],T.sortable&&"cursor-pointer hover:bg-slate-100 select-none transition-colors"),style:{width:T.width},onClick:()=>T.sortable&&w(T.key),children:r.jsxs("div",{className:je("flex items-center gap-1",T.align==="center"&&"justify-center",T.align==="right"&&"justify-end"),children:[T.header,S(T)]})},T.key)),y&&r.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-600 uppercase tracking-wider text-right w-32",children:"Acoes"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map((T,E)=>r.jsxs("tr",{className:je("hover:bg-slate-50 transition-colors",x&&"cursor-pointer",v?.(T)),onClick:()=>x?.(T),children:[e.map(O=>r.jsx("td",{className:je("px-4 py-3 text-sm text-slate-700",N[O.align||"left"]),children:O.render?O.render(T,E):T[O.key]},O.key)),y&&r.jsx("td",{className:"px-4 py-3 text-sm text-right",children:r.jsx("div",{className:"flex items-center justify-end gap-1",onClick:O=>O.stopPropagation(),children:y(T)})})]},s(T)))})]})})}const Bs=({currentPage:e,totalPages:t,totalItems:s,pageSize:n,onPageChange:o,onPageSizeChange:c,pageSizeOptions:u=[10,25,50,100],showPageSizeSelector:f=!0,showInfo:m=!0,className:h})=>{const x=s===0?0:(e-1)*n+1,v=Math.min(e*n,s),j=(()=>{const S=[],N=Math.max(2,e-2),T=Math.min(t-1,e+2);if(t<=1)return[1];S.push(1),N>2&&S.push("...");for(let E=N;E<=T;E++)S.push(E);return T<t-1&&S.push("..."),t>1&&S.push(t),S})();return r.jsxs("div",{className:je("flex flex-col items-center gap-4 px-4 py-3 bg-white border-t border-slate-200",h),children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>o(1),disabled:e===1,className:je("p-2 rounded-lg transition-colors",e===1?"text-slate-300 cursor-not-allowed":"text-slate-600 hover:bg-slate-100"),title:"Primeira pagina",children:r.jsx(S3,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>o(e-1),disabled:e===1,className:je("p-2 rounded-lg transition-colors",e===1?"text-slate-300 cursor-not-allowed":"text-slate-600 hover:bg-slate-100"),title:"Pagina anterior",children:r.jsx(F2,{className:"w-4 h-4"})}),r.jsx("div",{className:"flex items-center gap-1 mx-2",children:j.map((w,S)=>r.jsx(oe.Fragment,{children:w==="..."?r.jsx("span",{className:"px-2 text-slate-400",children:"..."}):r.jsx("button",{onClick:()=>o(w),className:je("min-w-[36px] h-9 px-3 rounded-lg text-sm font-medium transition-colors",w===e?"bg-primary-500 text-white":"text-slate-600 hover:bg-slate-100"),children:w})},S))}),r.jsx("button",{onClick:()=>o(e+1),disabled:e===t||t===0,className:je("p-2 rounded-lg transition-colors",e===t||t===0?"text-slate-300 cursor-not-allowed":"text-slate-600 hover:bg-slate-100"),title:"Proxima pagina",children:r.jsx(L2,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>o(t),disabled:e===t||t===0,className:je("p-2 rounded-lg transition-colors",e===t||t===0?"text-slate-300 cursor-not-allowed":"text-slate-600 hover:bg-slate-100"),title:"Ultima pagina",children:r.jsx(C3,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[m&&r.jsxs("p",{className:"text-sm text-slate-600",children:["Mostrando ",r.jsx("span",{className:"font-medium",children:x})," a"," ",r.jsx("span",{className:"font-medium",children:v})," de"," ",r.jsx("span",{className:"font-medium",children:s})," registros"]}),f&&c&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-slate-600",children:"Exibir:"}),r.jsx("select",{value:n,onChange:w=>c(Number(w.target.value)),className:"px-2 py-1 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:u.map(w=>r.jsx("option",{value:w,children:w},w))})]})]})]})};function JP(e,t){const[s,n]=g.useState(e);return g.useEffect(()=>{const o=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(o)}},[e,t]),s}const pr=({placeholder:e="Buscar...",value:t="",onChange:s,onSearch:n,debounceMs:o=300,filters:c,activeFilters:u={},onFilterChange:f,className:m})=>{const[h,x]=g.useState(t),v=JP(h,o);g.useEffect(()=>{x(t)},[t]),g.useEffect(()=>{n&&v!==t&&n(v)},[v,n,t]);const y=N=>{const T=N.target.value;x(T),s?.(T)},j=()=>{x(""),s?.(""),n?.("")},w=(N,T)=>{if(f){const E={...u};T===""||T===void 0?delete E[N]:E[N]=T,f(E)}},S=Object.keys(u).length;return r.jsxs("div",{className:je("flex items-center gap-3",m),children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx("input",{type:"text",value:h,onChange:y,placeholder:e,className:"w-full pl-10 pr-10 py-2.5 rounded-xl bg-white border border-slate-200 focus:border-primary-300 focus:outline-none focus:ring-2 focus:ring-primary-500/20 text-sm placeholder:text-slate-400 transition-all"}),h&&r.jsx("button",{onClick:j,className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-full text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-colors",children:r.jsx(Ht,{className:"w-4 h-4"})})]}),c&&c.length>0&&r.jsx(Gr,{className:"relative",children:({open:N})=>r.jsxs(r.Fragment,{children:[r.jsxs(Gr.Button,{className:je("flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all",N||S>0?"bg-primary-50 border-primary-200 text-primary-700":"bg-white border-slate-200 text-slate-700 hover:border-slate-300"),children:[r.jsx(fr,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Filtros"}),S>0&&r.jsx("span",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-primary-500 text-white text-xs font-bold",children:S}),r.jsx(Bi,{className:je("w-4 h-4 transition-transform",N&&"rotate-180")})]}),r.jsx(Ra,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:r.jsx(Gr.Panel,{className:"absolute right-0 mt-2 w-72 origin-top-right rounded-xl bg-white shadow-xl ring-1 ring-black/5 p-4 z-50",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Filtros"}),S>0&&r.jsx("button",{onClick:()=>f?.({}),className:"text-xs text-primary-600 hover:text-primary-700 font-medium",children:"Limpar todos"})]}),c.map(T=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:T.label}),T.type==="select"&&T.options&&r.jsxs("select",{value:u[T.key]??"",onChange:E=>w(T.key,E.target.value),className:"w-full px-3 py-2 rounded-lg border border-slate-200 focus:border-primary-300 focus:outline-none focus:ring-2 focus:ring-primary-500/20 text-sm",children:[r.jsx("option",{value:"",children:"Todos"}),T.options.map(E=>r.jsx("option",{value:E.value,children:E.label},E.value))]}),T.type==="boolean"&&r.jsxs("select",{value:u[T.key]??"",onChange:E=>{const O=E.target.value;w(T.key,O===""?void 0:O==="true")},className:"w-full px-3 py-2 rounded-lg border border-slate-200 focus:border-primary-300 focus:outline-none focus:ring-2 focus:ring-primary-500/20 text-sm",children:[r.jsx("option",{value:"",children:"Todos"}),r.jsx("option",{value:"true",children:"Sim"}),r.jsx("option",{value:"false",children:"No"})]})]},T.key))]})})})]})})]})},eI=({items:e,className:t})=>r.jsxs(ga,{as:"div",className:je("relative inline-block text-left",t),children:[r.jsx(ga.Button,{className:"p-2 rounded-lg hover:bg-slate-100 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500",children:r.jsx(F3,{className:"w-5 h-5 text-slate-500"})}),r.jsx(Ra,{as:g.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:r.jsx(ga.Items,{className:"absolute right-0 z-50 mt-2 w-48 origin-top-right rounded-xl bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none overflow-hidden",children:r.jsx("div",{className:"py-1",children:e.map((s,n)=>r.jsx(ga.Item,{disabled:s.disabled,children:({active:o})=>r.jsxs("button",{onClick:s.onClick,disabled:s.disabled,className:je("flex w-full items-center gap-2 px-4 py-2.5 text-sm transition-colors",o&&s.variant!=="danger"&&"bg-slate-50",o&&s.variant==="danger"&&"bg-red-50",s.variant==="danger"?"text-red-600 hover:text-red-700":"text-slate-700 hover:text-slate-900",s.disabled&&"opacity-50 cursor-not-allowed"),children:[s.icon&&r.jsx("span",{className:je(s.variant==="danger"?"text-red-500":"text-slate-400"),children:s.icon}),s.label]})},n))})})})]}),xS=[{title:"Principal",items:[{icon:B2,label:"Dashboard",path:"/dashboard"},{icon:es,label:"Pessoas",path:"/pessoas"},{icon:kn,label:"Demandas",path:"/demandas"},{icon:Du,label:"Aniversariantes",path:"/aniversariantes"}]},{title:"Gestao",items:[{icon:sr,label:"Subgabinetes",path:"/subgabinetes",hideForSubgabinete:!0},{icon:Im,label:"Usuarios",path:"/usuarios"},{icon:IM,label:"Tags",path:"/tags"},{icon:Kn,label:"Regioes",path:"/regioes",hideForSubgabinete:!0},{icon:pn,label:"WhatsApp",path:"/whatsapp"}]},{title:"Relatorios",items:[{icon:si,label:"Relatorios",path:"/relatorios",hideForSubgabinete:!0,children:[{icon:Ns,label:"Por Tags",path:"/relatorios/pessoas-por-tags"},{icon:Tu,label:"Por Cidade",path:"/relatorios/pessoas-por-cidade"},{icon:Kn,label:"Por Regiao",path:"/relatorios/pessoas-por-regiao"},{icon:bm,label:"Por Lideranca",path:"/relatorios/pessoas-por-lideranca"},{icon:_u,label:"Demandas por Tipo",path:"/relatorios/demandas-por-tipo"},{icon:Rt,label:"Por Usuario",path:"/relatorios/pessoas-por-usuario"},{icon:Ll,label:"Por Subgabinete",path:"/relatorios/pessoas-por-subgabinete"}]}]},{title:"Gestao de Documentos",items:[{icon:rn,label:"Documentos",path:"/documentos"}]}],bS=[{title:"Principal",items:[{icon:B2,label:"Dashboard",path:"/dashboard"}]},{title:"Administracao",items:[{icon:ds,label:"Gabinetes",path:"/admin/gabinetes"},{icon:Im,label:"Usuarios",path:"/admin/usuarios"},{icon:pn,label:"WhatsApp",path:"/admin/whatsapp"}]}],tI=()=>{const e=rc(),t=Ji(),{usuario:s,gabinete:n,logout:o}=qt(),{sidebarCollapsed:c,toggleSidebarCollapsed:u}=ob(),[f,m]=g.useState([]),h=()=>{o(),e("/login")},x=s?.pertenceSubgabinete===!0,v=s?.perfilCodigo?.toLowerCase()==="atendente",y=E=>{m(O=>O.includes(E)?O.filter(k=>k!==E):[...O,E])},j=E=>E.children?E.children.some(O=>t.pathname.startsWith(O.path)):!1,w=E=>f.includes(E.path)||j(E),S=E=>{let O=E;return v?O=O.filter(k=>k.title!=="Gestao"&&k.title!=="Relatorios"):x&&(O=O.map(k=>({...k,items:k.items.filter(R=>!("hideForSubgabinete"in R&&R.hideForSubgabinete))})).filter(k=>k.items.length>0)),O},N=s?.superUsuario?n?[...S(xS),...bS]:bS:S(xS),T=(E,O)=>{const k=E.children&&E.children.length>0,R=w(E),P=j(E);return k?r.jsxs("li",{children:[r.jsxs("button",{onClick:()=>y(E.path),className:je("flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 w-full",P?O==="Administracao"?"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-md shadow-amber-500/25":"bg-gradient-to-r from-primary-500 to-emerald-500 text-white shadow-md shadow-primary-500/25":O==="Administracao"?"text-amber-600 hover:bg-amber-50":"text-slate-600 hover:bg-primary-50 hover:text-primary-700",c&&"justify-center px-2"),title:c?E.label:void 0,children:[r.jsx(E.icon,{className:"w-5 h-5 flex-shrink-0"}),!c&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"flex-1 text-left",children:E.label}),r.jsx(Bi,{className:je("w-4 h-4 transition-transform duration-200",R&&"rotate-180")})]})]}),!c&&r.jsx("ul",{className:je("overflow-hidden transition-all duration-200",R?"max-h-96 opacity-100 mt-1":"max-h-0 opacity-0"),children:E.children.map(z=>r.jsx("li",{children:r.jsxs(Qf,{to:z.path,className:({isActive:F})=>je("flex items-center gap-3 px-3 py-2 pl-11 rounded-xl text-sm font-medium transition-all duration-200",F?"bg-primary-100 text-primary-700":"text-slate-500 hover:bg-slate-100 hover:text-slate-700"),children:[r.jsx(z.icon,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{children:z.label})]})},z.path))}),c&&r.jsxs("div",{className:"absolute left-full ml-2 top-0 min-w-[180px] bg-white rounded-xl shadow-lg border border-slate-200 py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[r.jsx("p",{className:"px-3 py-1 text-xs font-semibold text-slate-400 uppercase",children:E.label}),E.children.map(z=>r.jsxs(Qf,{to:z.path,className:({isActive:F})=>je("flex items-center gap-2 px-3 py-2 text-sm transition-colors",F?"bg-primary-50 text-primary-700":"text-slate-600 hover:bg-slate-50"),children:[r.jsx(z.icon,{className:"w-4 h-4"}),z.label]},z.path))]})]},E.path):r.jsx("li",{children:r.jsxs(Qf,{to:E.path,className:({isActive:z})=>je("flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-all duration-200",z?O==="Administracao"?"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-md shadow-amber-500/25":"bg-gradient-to-r from-primary-500 to-emerald-500 text-white shadow-md shadow-primary-500/25":O==="Administracao"?"text-amber-600 hover:bg-amber-50":"text-slate-600 hover:bg-primary-50 hover:text-primary-700",c&&"justify-center px-2"),title:c?E.label:void 0,children:[r.jsx(E.icon,{className:"w-5 h-5 flex-shrink-0"}),!c&&r.jsx("span",{children:E.label})]})},E.path)};return r.jsxs("aside",{className:je("fixed left-0 top-0 h-screen bg-white border-r border-slate-200 flex flex-col transition-all duration-300 z-40 shadow-sm",c?"w-20":"w-64"),children:[r.jsxs("div",{className:je("h-16 flex items-center justify-between px-4 border-b border-slate-100",s?.superUsuario?"bg-gradient-to-r from-amber-500 to-orange-500":"bg-gradient-to-r from-primary-500 to-emerald-500"),children:[!c&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center backdrop-blur",children:s?.superUsuario?r.jsx(Ma,{className:"w-5 h-5 text-white"}):r.jsx(ww,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold text-white text-lg",children:"GPVx"}),r.jsx("p",{className:"text-xs text-white/80 -mt-0.5",children:s?.superUsuario?"Super Admin":"Gabinete Virtual"})]})]}),c&&r.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center mx-auto backdrop-blur",children:s?.superUsuario?r.jsx(Ma,{className:"w-5 h-5 text-white"}):r.jsx(ww,{className:"w-5 h-5 text-white"})}),r.jsx("button",{onClick:u,className:je("p-1.5 rounded-lg text-white/80 hover:text-white hover:bg-white/20 transition-colors",c&&"absolute -right-3 top-6 bg-white shadow-lg border border-slate-200 text-slate-600 hover:text-slate-800"),children:c?r.jsx(L2,{className:"w-4 h-4"}):r.jsx(F2,{className:"w-4 h-4"})})]}),r.jsx("div",{className:je("px-3 py-4 border-b border-slate-100",c?"flex justify-center":""),children:c?r.jsxs("div",{className:"relative group",children:[r.jsx(Dn,{name:s?.nome,src:s?.fotoUrl,size:"sm"}),r.jsxs("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 px-3 py-2 bg-slate-800 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 whitespace-nowrap",children:[r.jsx("p",{className:"text-sm font-medium text-white",children:s?.nome}),s?.perfilNome&&r.jsx("p",{className:"text-xs text-slate-300",children:s.perfilNome}),r.jsx("span",{className:"absolute right-full top-1/2 -translate-y-1/2 border-4 border-transparent border-r-slate-800"})]})]}):r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dn,{name:s?.nome,src:s?.fotoUrl,size:"md"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:s?.nome}),s?.perfilNome&&r.jsx("p",{className:"text-xs text-slate-500 truncate",children:s.perfilNome})]})]})}),r.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-3 scrollbar-thin bg-gradient-to-b from-slate-50/50 to-white",children:N.map((E,O)=>r.jsxs("div",{className:"mb-6",children:[!c&&r.jsx("p",{className:je("px-3 mb-2 text-xs font-semibold uppercase tracking-wider",E.title==="Administracao"?"text-amber-500":"text-slate-400"),children:E.title}),r.jsx("ul",{className:"space-y-1",children:E.items.map(k=>T(k,E.title))})]},O))}),r.jsxs("div",{className:"border-t border-slate-100 p-3 bg-slate-50/50 space-y-2",children:[!x&&!v&&r.jsxs(Qf,{to:"/configuracoes",className:({isActive:E})=>je("flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-all duration-200",E?"bg-gradient-to-r from-primary-500 to-emerald-500 text-white shadow-md shadow-primary-500/25":"text-slate-600 hover:bg-primary-50 hover:text-primary-700",c&&"justify-center px-2"),children:[r.jsx(Z2,{className:"w-5 h-5"}),!c&&r.jsx("span",{children:"Configuracoes"})]}),r.jsxs("button",{onClick:h,className:je("flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 w-full","text-red-500 hover:bg-red-50 hover:text-red-600",c&&"justify-center px-2"),title:"Sair",children:[r.jsx(Q2,{className:"w-5 h-5"}),!c&&r.jsx("span",{children:"Sair"})]})]})]})};function AE(e,t){return function(){return e.apply(t,arguments)}}const{toString:sI}=Object.prototype,{getPrototypeOf:Rb}=Object,{iterator:Kh,toStringTag:ME}=Symbol,Yh=(e=>t=>{const s=sI.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Fa=e=>(e=e.toLowerCase(),t=>Yh(t)===e),Wh=e=>t=>typeof t===e,{isArray:xc}=Array,tc=Wh("undefined");function wd(e){return e!==null&&!tc(e)&&e.constructor!==null&&!tc(e.constructor)&&An(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const RE=Fa("ArrayBuffer");function nI(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&RE(e.buffer),t}const aI=Wh("string"),An=Wh("function"),DE=Wh("number"),Sd=e=>e!==null&&typeof e=="object",rI=e=>e===!0||e===!1,jm=e=>{if(Yh(e)!=="object")return!1;const t=Rb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ME in e)&&!(Kh in e)},iI=e=>{if(!Sd(e)||wd(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},oI=Fa("Date"),lI=Fa("File"),cI=Fa("Blob"),uI=Fa("FileList"),dI=e=>Sd(e)&&An(e.pipe),fI=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||An(e.append)&&((t=Yh(e))==="formdata"||t==="object"&&An(e.toString)&&e.toString()==="[object FormData]"))},mI=Fa("URLSearchParams"),[hI,pI,gI,xI]=["ReadableStream","Request","Response","Headers"].map(Fa),bI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nd(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),xc(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(wd(e))return;const c=s?Object.getOwnPropertyNames(e):Object.keys(e),u=c.length;let f;for(n=0;n<u;n++)f=c[n],t.call(null,e[f],f,e)}}function zE(e,t){if(wd(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,o;for(;n-- >0;)if(o=s[n],t===o.toLowerCase())return o;return null}const Mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$E=e=>!tc(e)&&e!==Mo;function kx(){const{caseless:e,skipUndefined:t}=$E(this)&&this||{},s={},n=(o,c)=>{const u=e&&zE(s,c)||c;jm(s[u])&&jm(o)?s[u]=kx(s[u],o):jm(o)?s[u]=kx({},o):xc(o)?s[u]=o.slice():(!t||!tc(o))&&(s[u]=o)};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&Nd(arguments[o],n);return s}const vI=(e,t,s,{allOwnKeys:n}={})=>(Nd(t,(o,c)=>{s&&An(o)?e[c]=AE(o,s):e[c]=o},{allOwnKeys:n}),e),yI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jI=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},wI=(e,t,s,n)=>{let o,c,u;const f={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),c=o.length;c-- >0;)u=o[c],(!n||n(u,e,t))&&!f[u]&&(t[u]=e[u],f[u]=!0);e=s!==!1&&Rb(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},SI=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},NI=e=>{if(!e)return null;if(xc(e))return e;let t=e.length;if(!DE(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},CI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Rb(Uint8Array)),EI=(e,t)=>{const n=(e&&e[Kh]).call(e);let o;for(;(o=n.next())&&!o.done;){const c=o.value;t.call(e,c[0],c[1])}},_I=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},TI=Fa("HTMLFormElement"),OI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,o){return n.toUpperCase()+o}),vS=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),kI=Fa("RegExp"),PE=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};Nd(s,(o,c)=>{let u;(u=t(o,c,e))!==!1&&(n[c]=u||o)}),Object.defineProperties(e,n)},AI=e=>{PE(e,(t,s)=>{if(An(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(An(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},MI=(e,t)=>{const s={},n=o=>{o.forEach(c=>{s[c]=!0})};return xc(e)?n(e):n(String(e).split(t)),s},RI=()=>{},DI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function zI(e){return!!(e&&An(e.append)&&e[ME]==="FormData"&&e[Kh])}const $I=e=>{const t=new Array(10),s=(n,o)=>{if(Sd(n)){if(t.indexOf(n)>=0)return;if(wd(n))return n;if(!("toJSON"in n)){t[o]=n;const c=xc(n)?[]:{};return Nd(n,(u,f)=>{const m=s(u,o+1);!tc(m)&&(c[f]=m)}),t[o]=void 0,c}}return n};return s(e,0)},PI=Fa("AsyncFunction"),II=e=>e&&(Sd(e)||An(e))&&An(e.then)&&An(e.catch),IE=((e,t)=>e?setImmediate:t?((s,n)=>(Mo.addEventListener("message",({source:o,data:c})=>{o===Mo&&c===s&&n.length&&n.shift()()},!1),o=>{n.push(o),Mo.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",An(Mo.postMessage)),FI=typeof queueMicrotask<"u"?queueMicrotask.bind(Mo):typeof process<"u"&&process.nextTick||IE,LI=e=>e!=null&&An(e[Kh]),fe={isArray:xc,isArrayBuffer:RE,isBuffer:wd,isFormData:fI,isArrayBufferView:nI,isString:aI,isNumber:DE,isBoolean:rI,isObject:Sd,isPlainObject:jm,isEmptyObject:iI,isReadableStream:hI,isRequest:pI,isResponse:gI,isHeaders:xI,isUndefined:tc,isDate:oI,isFile:lI,isBlob:cI,isRegExp:kI,isFunction:An,isStream:dI,isURLSearchParams:mI,isTypedArray:CI,isFileList:uI,forEach:Nd,merge:kx,extend:vI,trim:bI,stripBOM:yI,inherits:jI,toFlatObject:wI,kindOf:Yh,kindOfTest:Fa,endsWith:SI,toArray:NI,forEachEntry:EI,matchAll:_I,isHTMLForm:TI,hasOwnProperty:vS,hasOwnProp:vS,reduceDescriptors:PE,freezeMethods:AI,toObjectSet:MI,toCamelCase:OI,noop:RI,toFiniteNumber:DI,findKey:zE,global:Mo,isContextDefined:$E,isSpecCompliantForm:zI,toJSONObject:$I,isAsyncFn:PI,isThenable:II,setImmediate:IE,asap:FI,isIterable:LI};function nt(e,t,s,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}fe.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const FE=nt.prototype,LE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{LE[e]={value:e}});Object.defineProperties(nt,LE);Object.defineProperty(FE,"isAxiosError",{value:!0});nt.from=(e,t,s,n,o,c)=>{const u=Object.create(FE);fe.toFlatObject(e,u,function(x){return x!==Error.prototype},h=>h!=="isAxiosError");const f=e&&e.message?e.message:"Error",m=t==null&&e?e.code:t;return nt.call(u,f,m,s,n,o),e&&u.cause==null&&Object.defineProperty(u,"cause",{value:e,configurable:!0}),u.name=e&&e.name||"Error",c&&Object.assign(u,c),u};const qI=null;function Ax(e){return fe.isPlainObject(e)||fe.isArray(e)}function qE(e){return fe.endsWith(e,"[]")?e.slice(0,-2):e}function yS(e,t,s){return e?e.concat(t).map(function(o,c){return o=qE(o),!s&&c?"["+o+"]":o}).join(s?".":""):t}function UI(e){return fe.isArray(e)&&!e.some(Ax)}const BI=fe.toFlatObject(fe,{},null,function(t){return/^is[A-Z]/.test(t)});function Xh(e,t,s){if(!fe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=fe.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,N){return!fe.isUndefined(N[S])});const n=s.metaTokens,o=s.visitor||x,c=s.dots,u=s.indexes,m=(s.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(t);if(!fe.isFunction(o))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(fe.isDate(w))return w.toISOString();if(fe.isBoolean(w))return w.toString();if(!m&&fe.isBlob(w))throw new nt("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(w)||fe.isTypedArray(w)?m&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function x(w,S,N){let T=w;if(w&&!N&&typeof w=="object"){if(fe.endsWith(S,"{}"))S=n?S:S.slice(0,-2),w=JSON.stringify(w);else if(fe.isArray(w)&&UI(w)||(fe.isFileList(w)||fe.endsWith(S,"[]"))&&(T=fe.toArray(w)))return S=qE(S),T.forEach(function(O,k){!(fe.isUndefined(O)||O===null)&&t.append(u===!0?yS([S],k,c):u===null?S:S+"[]",h(O))}),!1}return Ax(w)?!0:(t.append(yS(N,S,c),h(w)),!1)}const v=[],y=Object.assign(BI,{defaultVisitor:x,convertValue:h,isVisitable:Ax});function j(w,S){if(!fe.isUndefined(w)){if(v.indexOf(w)!==-1)throw Error("Circular reference detected in "+S.join("."));v.push(w),fe.forEach(w,function(T,E){(!(fe.isUndefined(T)||T===null)&&o.call(t,T,fe.isString(E)?E.trim():E,S,y))===!0&&j(T,S?S.concat(E):[E])}),v.pop()}}if(!fe.isObject(e))throw new TypeError("data must be an object");return j(e),t}function jS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Db(e,t){this._pairs=[],e&&Xh(e,this,t)}const UE=Db.prototype;UE.append=function(t,s){this._pairs.push([t,s])};UE.toString=function(t){const s=t?function(n){return t.call(this,n,jS)}:jS;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function VI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function BE(e,t,s){if(!t)return e;const n=s&&s.encode||VI;fe.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let c;if(o?c=o(t,s):c=fe.isURLSearchParams(t)?t.toString():new Db(t,s).toString(n),c){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class wS{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){fe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const VE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HI=typeof URLSearchParams<"u"?URLSearchParams:Db,GI=typeof FormData<"u"?FormData:null,QI=typeof Blob<"u"?Blob:null,ZI={isBrowser:!0,classes:{URLSearchParams:HI,FormData:GI,Blob:QI},protocols:["http","https","file","blob","url","data"]},zb=typeof window<"u"&&typeof document<"u",Mx=typeof navigator=="object"&&navigator||void 0,KI=zb&&(!Mx||["ReactNative","NativeScript","NS"].indexOf(Mx.product)<0),YI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",WI=zb&&window.location.href||"http://localhost",XI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zb,hasStandardBrowserEnv:KI,hasStandardBrowserWebWorkerEnv:YI,navigator:Mx,origin:WI},Symbol.toStringTag,{value:"Module"})),an={...XI,...ZI};function JI(e,t){return Xh(e,new an.classes.URLSearchParams,{visitor:function(s,n,o,c){return an.isNode&&fe.isBuffer(s)?(this.append(n,s.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...t})}function e8(e){return fe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function t8(e){const t={},s=Object.keys(e);let n;const o=s.length;let c;for(n=0;n<o;n++)c=s[n],t[c]=e[c];return t}function HE(e){function t(s,n,o,c){let u=s[c++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),m=c>=s.length;return u=!u&&fe.isArray(o)?o.length:u,m?(fe.hasOwnProp(o,u)?o[u]=[o[u],n]:o[u]=n,!f):((!o[u]||!fe.isObject(o[u]))&&(o[u]=[]),t(s,n,o[u],c)&&fe.isArray(o[u])&&(o[u]=t8(o[u])),!f)}if(fe.isFormData(e)&&fe.isFunction(e.entries)){const s={};return fe.forEachEntry(e,(n,o)=>{t(e8(n),o,s,0)}),s}return null}function s8(e,t,s){if(fe.isString(e))try{return(t||JSON.parse)(e),fe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const Cd={transitional:VE,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",o=n.indexOf("application/json")>-1,c=fe.isObject(t);if(c&&fe.isHTMLForm(t)&&(t=new FormData(t)),fe.isFormData(t))return o?JSON.stringify(HE(t)):t;if(fe.isArrayBuffer(t)||fe.isBuffer(t)||fe.isStream(t)||fe.isFile(t)||fe.isBlob(t)||fe.isReadableStream(t))return t;if(fe.isArrayBufferView(t))return t.buffer;if(fe.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(c){if(n.indexOf("application/x-www-form-urlencoded")>-1)return JI(t,this.formSerializer).toString();if((f=fe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Xh(f?{"files[]":t}:t,m&&new m,this.formSerializer)}}return c||o?(s.setContentType("application/json",!1),s8(t)):t}],transformResponse:[function(t){const s=this.transitional||Cd.transitional,n=s&&s.forcedJSONParsing,o=this.responseType==="json";if(fe.isResponse(t)||fe.isReadableStream(t))return t;if(t&&fe.isString(t)&&(n&&!this.responseType||o)){const u=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(f){if(u)throw f.name==="SyntaxError"?nt.from(f,nt.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:an.classes.FormData,Blob:an.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],e=>{Cd.headers[e]={}});const n8=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),a8=e=>{const t={};let s,n,o;return e&&e.split(`
`).forEach(function(u){o=u.indexOf(":"),s=u.substring(0,o).trim().toLowerCase(),n=u.substring(o+1).trim(),!(!s||t[s]&&n8[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},SS=Symbol("internals");function ju(e){return e&&String(e).trim().toLowerCase()}function wm(e){return e===!1||e==null?e:fe.isArray(e)?e.map(wm):String(e)}function r8(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const i8=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function q0(e,t,s,n,o){if(fe.isFunction(n))return n.call(this,t,s);if(o&&(t=s),!!fe.isString(t)){if(fe.isString(n))return t.indexOf(n)!==-1;if(fe.isRegExp(n))return n.test(t)}}function o8(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function l8(e,t){const s=fe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(o,c,u){return this[n].call(this,t,o,c,u)},configurable:!0})})}let Mn=class{constructor(t){t&&this.set(t)}set(t,s,n){const o=this;function c(f,m,h){const x=ju(m);if(!x)throw new Error("header name must be a non-empty string");const v=fe.findKey(o,x);(!v||o[v]===void 0||h===!0||h===void 0&&o[v]!==!1)&&(o[v||m]=wm(f))}const u=(f,m)=>fe.forEach(f,(h,x)=>c(h,x,m));if(fe.isPlainObject(t)||t instanceof this.constructor)u(t,s);else if(fe.isString(t)&&(t=t.trim())&&!i8(t))u(a8(t),s);else if(fe.isObject(t)&&fe.isIterable(t)){let f={},m,h;for(const x of t){if(!fe.isArray(x))throw TypeError("Object iterator must return a key-value pair");f[h=x[0]]=(m=f[h])?fe.isArray(m)?[...m,x[1]]:[m,x[1]]:x[1]}u(f,s)}else t!=null&&c(s,t,n);return this}get(t,s){if(t=ju(t),t){const n=fe.findKey(this,t);if(n){const o=this[n];if(!s)return o;if(s===!0)return r8(o);if(fe.isFunction(s))return s.call(this,o,n);if(fe.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=ju(t),t){const n=fe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||q0(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let o=!1;function c(u){if(u=ju(u),u){const f=fe.findKey(n,u);f&&(!s||q0(n,n[f],f,s))&&(delete n[f],o=!0)}}return fe.isArray(t)?t.forEach(c):c(t),o}clear(t){const s=Object.keys(this);let n=s.length,o=!1;for(;n--;){const c=s[n];(!t||q0(this,this[c],c,t,!0))&&(delete this[c],o=!0)}return o}normalize(t){const s=this,n={};return fe.forEach(this,(o,c)=>{const u=fe.findKey(n,c);if(u){s[u]=wm(o),delete s[c];return}const f=t?o8(c):String(c).trim();f!==c&&delete s[c],s[f]=wm(o),n[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return fe.forEach(this,(n,o)=>{n!=null&&n!==!1&&(s[o]=t&&fe.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[SS]=this[SS]={accessors:{}}).accessors,o=this.prototype;function c(u){const f=ju(u);n[f]||(l8(o,u),n[f]=!0)}return fe.isArray(t)?t.forEach(c):c(t),this}};Mn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(Mn.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});fe.freezeMethods(Mn);function U0(e,t){const s=this||Cd,n=t||s,o=Mn.from(n.headers);let c=n.data;return fe.forEach(e,function(f){c=f.call(s,c,o.normalize(),t?t.status:void 0)}),o.normalize(),c}function GE(e){return!!(e&&e.__CANCEL__)}function bc(e,t,s){nt.call(this,e??"canceled",nt.ERR_CANCELED,t,s),this.name="CanceledError"}fe.inherits(bc,nt,{__CANCEL__:!0});function QE(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new nt("Request failed with status code "+s.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function c8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function u8(e,t){e=e||10;const s=new Array(e),n=new Array(e);let o=0,c=0,u;return t=t!==void 0?t:1e3,function(m){const h=Date.now(),x=n[c];u||(u=h),s[o]=m,n[o]=h;let v=c,y=0;for(;v!==o;)y+=s[v++],v=v%e;if(o=(o+1)%e,o===c&&(c=(c+1)%e),h-u<t)return;const j=x&&h-x;return j?Math.round(y*1e3/j):void 0}}function d8(e,t){let s=0,n=1e3/t,o,c;const u=(h,x=Date.now())=>{s=x,o=null,c&&(clearTimeout(c),c=null),e(...h)};return[(...h)=>{const x=Date.now(),v=x-s;v>=n?u(h,x):(o=h,c||(c=setTimeout(()=>{c=null,u(o)},n-v)))},()=>o&&u(o)]}const Ym=(e,t,s=3)=>{let n=0;const o=u8(50,250);return d8(c=>{const u=c.loaded,f=c.lengthComputable?c.total:void 0,m=u-n,h=o(m),x=u<=f;n=u;const v={loaded:u,total:f,progress:f?u/f:void 0,bytes:m,rate:h||void 0,estimated:h&&f&&x?(f-u)/h:void 0,event:c,lengthComputable:f!=null,[t?"download":"upload"]:!0};e(v)},s)},NS=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},CS=e=>(...t)=>fe.asap(()=>e(...t)),f8=an.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,an.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(an.origin),an.navigator&&/(msie|trident)/i.test(an.navigator.userAgent)):()=>!0,m8=an.hasStandardBrowserEnv?{write(e,t,s,n,o,c,u){if(typeof document>"u")return;const f=[`${e}=${encodeURIComponent(t)}`];fe.isNumber(s)&&f.push(`expires=${new Date(s).toUTCString()}`),fe.isString(n)&&f.push(`path=${n}`),fe.isString(o)&&f.push(`domain=${o}`),c===!0&&f.push("secure"),fe.isString(u)&&f.push(`SameSite=${u}`),document.cookie=f.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function h8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function p8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ZE(e,t,s){let n=!h8(t);return e&&(n||s==!1)?p8(e,t):t}const ES=e=>e instanceof Mn?{...e}:e;function Uo(e,t){t=t||{};const s={};function n(h,x,v,y){return fe.isPlainObject(h)&&fe.isPlainObject(x)?fe.merge.call({caseless:y},h,x):fe.isPlainObject(x)?fe.merge({},x):fe.isArray(x)?x.slice():x}function o(h,x,v,y){if(fe.isUndefined(x)){if(!fe.isUndefined(h))return n(void 0,h,v,y)}else return n(h,x,v,y)}function c(h,x){if(!fe.isUndefined(x))return n(void 0,x)}function u(h,x){if(fe.isUndefined(x)){if(!fe.isUndefined(h))return n(void 0,h)}else return n(void 0,x)}function f(h,x,v){if(v in t)return n(h,x);if(v in e)return n(void 0,h)}const m={url:c,method:c,data:c,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(h,x,v)=>o(ES(h),ES(x),v,!0)};return fe.forEach(Object.keys({...e,...t}),function(x){const v=m[x]||o,y=v(e[x],t[x],x);fe.isUndefined(y)&&v!==f||(s[x]=y)}),s}const KE=e=>{const t=Uo({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:c,headers:u,auth:f}=t;if(t.headers=u=Mn.from(u),t.url=BE(ZE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),fe.isFormData(s)){if(an.hasStandardBrowserEnv||an.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(fe.isFunction(s.getHeaders)){const m=s.getHeaders(),h=["content-type","content-length"];Object.entries(m).forEach(([x,v])=>{h.includes(x.toLowerCase())&&u.set(x,v)})}}if(an.hasStandardBrowserEnv&&(n&&fe.isFunction(n)&&(n=n(t)),n||n!==!1&&f8(t.url))){const m=o&&c&&m8.read(c);m&&u.set(o,m)}return t},g8=typeof XMLHttpRequest<"u",x8=g8&&function(e){return new Promise(function(s,n){const o=KE(e);let c=o.data;const u=Mn.from(o.headers).normalize();let{responseType:f,onUploadProgress:m,onDownloadProgress:h}=o,x,v,y,j,w;function S(){j&&j(),w&&w(),o.cancelToken&&o.cancelToken.unsubscribe(x),o.signal&&o.signal.removeEventListener("abort",x)}let N=new XMLHttpRequest;N.open(o.method.toUpperCase(),o.url,!0),N.timeout=o.timeout;function T(){if(!N)return;const O=Mn.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),R={data:!f||f==="text"||f==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:O,config:e,request:N};QE(function(z){s(z),S()},function(z){n(z),S()},R),N=null}"onloadend"in N?N.onloadend=T:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(T)},N.onabort=function(){N&&(n(new nt("Request aborted",nt.ECONNABORTED,e,N)),N=null)},N.onerror=function(k){const R=k&&k.message?k.message:"Network Error",P=new nt(R,nt.ERR_NETWORK,e,N);P.event=k||null,n(P),N=null},N.ontimeout=function(){let k=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const R=o.transitional||VE;o.timeoutErrorMessage&&(k=o.timeoutErrorMessage),n(new nt(k,R.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,e,N)),N=null},c===void 0&&u.setContentType(null),"setRequestHeader"in N&&fe.forEach(u.toJSON(),function(k,R){N.setRequestHeader(R,k)}),fe.isUndefined(o.withCredentials)||(N.withCredentials=!!o.withCredentials),f&&f!=="json"&&(N.responseType=o.responseType),h&&([y,w]=Ym(h,!0),N.addEventListener("progress",y)),m&&N.upload&&([v,j]=Ym(m),N.upload.addEventListener("progress",v),N.upload.addEventListener("loadend",j)),(o.cancelToken||o.signal)&&(x=O=>{N&&(n(!O||O.type?new bc(null,e,N):O),N.abort(),N=null)},o.cancelToken&&o.cancelToken.subscribe(x),o.signal&&(o.signal.aborted?x():o.signal.addEventListener("abort",x)));const E=c8(o.url);if(E&&an.protocols.indexOf(E)===-1){n(new nt("Unsupported protocol "+E+":",nt.ERR_BAD_REQUEST,e));return}N.send(c||null)})},b8=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,o;const c=function(h){if(!o){o=!0,f();const x=h instanceof Error?h:this.reason;n.abort(x instanceof nt?x:new bc(x instanceof Error?x.message:x))}};let u=t&&setTimeout(()=>{u=null,c(new nt(`timeout ${t} of ms exceeded`,nt.ETIMEDOUT))},t);const f=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(c):h.removeEventListener("abort",c)}),e=null)};e.forEach(h=>h.addEventListener("abort",c));const{signal:m}=n;return m.unsubscribe=()=>fe.asap(f),m}},v8=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,o;for(;n<s;)o=n+t,yield e.slice(n,o),n=o},y8=async function*(e,t){for await(const s of j8(e))yield*v8(s,t)},j8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},_S=(e,t,s,n)=>{const o=y8(e,t);let c=0,u,f=m=>{u||(u=!0,n&&n(m))};return new ReadableStream({async pull(m){try{const{done:h,value:x}=await o.next();if(h){f(),m.close();return}let v=x.byteLength;if(s){let y=c+=v;s(y)}m.enqueue(new Uint8Array(x))}catch(h){throw f(h),h}},cancel(m){return f(m),o.return()}},{highWaterMark:2})},TS=64*1024,{isFunction:am}=fe,w8=(({Request:e,Response:t})=>({Request:e,Response:t}))(fe.global),{ReadableStream:OS,TextEncoder:kS}=fe.global,AS=(e,...t)=>{try{return!!e(...t)}catch{return!1}},S8=e=>{e=fe.merge.call({skipUndefined:!0},w8,e);const{fetch:t,Request:s,Response:n}=e,o=t?am(t):typeof fetch=="function",c=am(s),u=am(n);if(!o)return!1;const f=o&&am(OS),m=o&&(typeof kS=="function"?(w=>S=>w.encode(S))(new kS):async w=>new Uint8Array(await new s(w).arrayBuffer())),h=c&&f&&AS(()=>{let w=!1;const S=new s(an.origin,{body:new OS,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!S}),x=u&&f&&AS(()=>fe.isReadableStream(new n("").body)),v={stream:x&&(w=>w.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!v[w]&&(v[w]=(S,N)=>{let T=S&&S[w];if(T)return T.call(S);throw new nt(`Response type '${w}' is not supported`,nt.ERR_NOT_SUPPORT,N)})});const y=async w=>{if(w==null)return 0;if(fe.isBlob(w))return w.size;if(fe.isSpecCompliantForm(w))return(await new s(an.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(fe.isArrayBufferView(w)||fe.isArrayBuffer(w))return w.byteLength;if(fe.isURLSearchParams(w)&&(w=w+""),fe.isString(w))return(await m(w)).byteLength},j=async(w,S)=>{const N=fe.toFiniteNumber(w.getContentLength());return N??y(S)};return async w=>{let{url:S,method:N,data:T,signal:E,cancelToken:O,timeout:k,onDownloadProgress:R,onUploadProgress:P,responseType:z,headers:F,withCredentials:te="same-origin",fetchOptions:H}=KE(w),Y=t||fetch;z=z?(z+"").toLowerCase():"text";let Z=b8([E,O&&O.toAbortSignal()],k),ee=null;const q=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let U;try{if(P&&h&&N!=="get"&&N!=="head"&&(U=await j(F,T))!==0){let _=new s(S,{method:"POST",body:T,duplex:"half"}),L;if(fe.isFormData(T)&&(L=_.headers.get("content-type"))&&F.setContentType(L),_.body){const[G,ne]=NS(U,Ym(CS(P)));T=_S(_.body,TS,G,ne)}}fe.isString(te)||(te=te?"include":"omit");const A=c&&"credentials"in s.prototype,I={...H,signal:Z,method:N.toUpperCase(),headers:F.normalize().toJSON(),body:T,duplex:"half",credentials:A?te:void 0};ee=c&&new s(S,I);let $=await(c?Y(ee,H):Y(S,I));const K=x&&(z==="stream"||z==="response");if(x&&(R||K&&q)){const _={};["status","statusText","headers"].forEach(D=>{_[D]=$[D]});const L=fe.toFiniteNumber($.headers.get("content-length")),[G,ne]=R&&NS(L,Ym(CS(R),!0))||[];$=new n(_S($.body,TS,G,()=>{ne&&ne(),q&&q()}),_)}z=z||"text";let V=await v[fe.findKey(v,z)||"text"]($,w);return!K&&q&&q(),await new Promise((_,L)=>{QE(_,L,{data:V,headers:Mn.from($.headers),status:$.status,statusText:$.statusText,config:w,request:ee})})}catch(A){throw q&&q(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new nt("Network Error",nt.ERR_NETWORK,w,ee),{cause:A.cause||A}):nt.from(A,A&&A.code,w,ee)}}},N8=new Map,YE=e=>{let t=e&&e.env||{};const{fetch:s,Request:n,Response:o}=t,c=[n,o,s];let u=c.length,f=u,m,h,x=N8;for(;f--;)m=c[f],h=x.get(m),h===void 0&&x.set(m,h=f?new Map:S8(t)),x=h;return h};YE();const $b={http:qI,xhr:x8,fetch:{get:YE}};fe.forEach($b,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const MS=e=>`- ${e}`,C8=e=>fe.isFunction(e)||e===null||e===!1;function E8(e,t){e=fe.isArray(e)?e:[e];const{length:s}=e;let n,o;const c={};for(let u=0;u<s;u++){n=e[u];let f;if(o=n,!C8(n)&&(o=$b[(f=String(n)).toLowerCase()],o===void 0))throw new nt(`Unknown adapter '${f}'`);if(o&&(fe.isFunction(o)||(o=o.get(t))))break;c[f||"#"+u]=o}if(!o){const u=Object.entries(c).map(([m,h])=>`adapter ${m} `+(h===!1?"is not supported by the environment":"is not available in the build"));let f=s?u.length>1?`since :
`+u.map(MS).join(`
`):" "+MS(u[0]):"as no adapter specified";throw new nt("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return o}const WE={getAdapter:E8,adapters:$b};function B0(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bc(null,e)}function RS(e){return B0(e),e.headers=Mn.from(e.headers),e.data=U0.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),WE.getAdapter(e.adapter||Cd.adapter,e)(e).then(function(n){return B0(e),n.data=U0.call(e,e.transformResponse,n),n.headers=Mn.from(n.headers),n},function(n){return GE(n)||(B0(e),n&&n.response&&(n.response.data=U0.call(e,e.transformResponse,n.response),n.response.headers=Mn.from(n.response.headers))),Promise.reject(n)})}const XE="1.13.2",Jh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Jh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const DS={};Jh.transitional=function(t,s,n){function o(c,u){return"[Axios v"+XE+"] Transitional option '"+c+"'"+u+(n?". "+n:"")}return(c,u,f)=>{if(t===!1)throw new nt(o(u," has been removed"+(s?" in "+s:"")),nt.ERR_DEPRECATED);return s&&!DS[u]&&(DS[u]=!0,console.warn(o(u," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(c,u,f):!0}};Jh.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function _8(e,t,s){if(typeof e!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const c=n[o],u=t[c];if(u){const f=e[c],m=f===void 0||u(f,c,e);if(m!==!0)throw new nt("option "+c+" must be "+m,nt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new nt("Unknown option "+c,nt.ERR_BAD_OPTION)}}const Sm={assertOptions:_8,validators:Jh},Ga=Sm.validators;let Do=class{constructor(t){this.defaults=t||{},this.interceptors={request:new wS,response:new wS}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const c=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?c&&!String(n.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+c):n.stack=c}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Uo(this.defaults,s);const{transitional:n,paramsSerializer:o,headers:c}=s;n!==void 0&&Sm.assertOptions(n,{silentJSONParsing:Ga.transitional(Ga.boolean),forcedJSONParsing:Ga.transitional(Ga.boolean),clarifyTimeoutError:Ga.transitional(Ga.boolean)},!1),o!=null&&(fe.isFunction(o)?s.paramsSerializer={serialize:o}:Sm.assertOptions(o,{encode:Ga.function,serialize:Ga.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Sm.assertOptions(s,{baseUrl:Ga.spelling("baseURL"),withXsrfToken:Ga.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let u=c&&fe.merge(c.common,c[s.method]);c&&fe.forEach(["delete","get","head","post","put","patch","common"],w=>{delete c[w]}),s.headers=Mn.concat(u,c);const f=[];let m=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(s)===!1||(m=m&&S.synchronous,f.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let x,v=0,y;if(!m){const w=[RS.bind(this),void 0];for(w.unshift(...f),w.push(...h),y=w.length,x=Promise.resolve(s);v<y;)x=x.then(w[v++],w[v++]);return x}y=f.length;let j=s;for(;v<y;){const w=f[v++],S=f[v++];try{j=w(j)}catch(N){S.call(this,N);break}}try{x=RS.call(this,j)}catch(w){return Promise.reject(w)}for(v=0,y=h.length;v<y;)x=x.then(h[v++],h[v++]);return x}getUri(t){t=Uo(this.defaults,t);const s=ZE(t.baseURL,t.url,t.allowAbsoluteUrls);return BE(s,t.params,t.paramsSerializer)}};fe.forEach(["delete","get","head","options"],function(t){Do.prototype[t]=function(s,n){return this.request(Uo(n||{},{method:t,url:s,data:(n||{}).data}))}});fe.forEach(["post","put","patch"],function(t){function s(n){return function(c,u,f){return this.request(Uo(f||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:c,data:u}))}}Do.prototype[t]=s(),Do.prototype[t+"Form"]=s(!0)});let T8=class JE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(c){s=c});const n=this;this.promise.then(o=>{if(!n._listeners)return;let c=n._listeners.length;for(;c-- >0;)n._listeners[c](o);n._listeners=null}),this.promise.then=o=>{let c;const u=new Promise(f=>{n.subscribe(f),c=f}).then(o);return u.cancel=function(){n.unsubscribe(c)},u},t(function(c,u,f){n.reason||(n.reason=new bc(c,u,f),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new JE(function(o){t=o}),cancel:t}}};function O8(e){return function(s){return e.apply(null,s)}}function k8(e){return fe.isObject(e)&&e.isAxiosError===!0}const Rx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Rx).forEach(([e,t])=>{Rx[t]=e});function e_(e){const t=new Do(e),s=AE(Do.prototype.request,t);return fe.extend(s,Do.prototype,t,{allOwnKeys:!0}),fe.extend(s,t,null,{allOwnKeys:!0}),s.create=function(o){return e_(Uo(e,o))},s}const hs=e_(Cd);hs.Axios=Do;hs.CanceledError=bc;hs.CancelToken=T8;hs.isCancel=GE;hs.VERSION=XE;hs.toFormData=Xh;hs.AxiosError=nt;hs.Cancel=hs.CanceledError;hs.all=function(t){return Promise.all(t)};hs.spread=O8;hs.isAxiosError=k8;hs.mergeConfig=Uo;hs.AxiosHeaders=Mn;hs.formToJSON=e=>HE(fe.isHTMLForm(e)?new FormData(e):e);hs.getAdapter=WE.getAdapter;hs.HttpStatusCode=Rx;hs.default=hs;const{Axios:wQ,AxiosError:SQ,CanceledError:NQ,isCancel:CQ,CancelToken:EQ,VERSION:_Q,all:TQ,Cancel:OQ,isAxiosError:kQ,spread:AQ,toFormData:MQ,AxiosHeaders:RQ,HttpStatusCode:DQ,formToJSON:zQ,getAdapter:$Q,mergeConfig:PQ}=hs,A8="https://api-gpvx.cdxsistemas.com.br:8000/api/v1",xe=hs.create({baseURL:A8,headers:{"Content-Type":"application/json"}});xe.interceptors.request.use(e=>{const t=qt.getState().token;return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));xe.interceptors.response.use(e=>e,async e=>(e.response?.status===401&&(qt.getState().logout(),window.location.href="/login"),Promise.reject(e)));function Au(e){return{id:e.id,codigo:e.codigo,nome:e.nome,nomeParlamentar:e.nome_parlamentar,uf:e.uf,logoUrl:e.logo_url,gabinetePrincipalId:e.gabinete_principal_id}}function zS(e){return{id:e.id,nome:e.nome,email:e.email,gabineteId:e.gabinete_id,perfilId:e.perfil_id,perfilNome:e.perfil_nome,perfilCodigo:e.perfil_codigo,fotoUrl:e.foto_url,superUsuario:e.super_usuario||!1,isAdminGabinete:e.is_admin_gabinete||!1,pertenceSubgabinete:e.pertence_subgabinete||!1,gabinetePrincipal:e.gabinete_principal?Au(e.gabinete_principal):void 0,subgabineteAtual:e.subgabinete_atual?Au(e.subgabinete_atual):void 0,gabinetes:e.gabinetes?.map(Au)||[],subgabinetes:e.subgabinetes?.map(Au)||[]}}const tr={async login(e){const{data:t}=await xe.post("/auth/login",e),s=zS(t.usuario);let n=null;return!s.superUsuario&&s.gabinetes&&s.gabinetes.length>0&&(n=s.gabinetes[0]),{token:t.token.access_token,refreshToken:t.token.refresh_token,usuario:s,gabinete:n}},async logout(){await xe.post("/auth/logout")},async me(){const{data:e}=await xe.get("/auth/me");return zS(e)},async refreshToken(e){const{data:t}=await xe.post("/auth/refresh",{refresh_token:e});return t},async switchGabinete(e){const{data:t}=await xe.post("/auth/switch-gabinete",null,{params:{gabinete_id:e}});return t},async switchSubgabinete(e){const{data:t}=await xe.post("/auth/switch-subgabinete",null,{params:{subgabinete_id:e}});return t},async forgotPassword(e){await xe.post("/auth/forgot-password",{email:e})},async resetPassword(e,t){await xe.post("/auth/reset-password",{token:e,senha:t})},async listarSubgabinetes(){const{data:e}=await xe.get("/admin/subgabinetes");return e.map(Au)}},M8=()=>{const e=rc(),t=Lt(),{usuario:s,gabinete:n,gabinetes:o,subgabinete:c,subgabinetes:u,logout:f,setGabinete:m,setTokens:h,setSubgabinete:x,setSubgabinetes:v}=qt(),{sidebarCollapsed:y}=ob(),[j,w]=g.useState(!1),[S,N]=g.useState(!1),[T,E]=g.useState(""),O=g.useRef(null),k=g.useRef(null),[R,P]=g.useState(""),z=s?.superUsuario&&!n,F=s?.perfilCodigo?.toLowerCase()==="atendente",te=g.useMemo(()=>{if(!T)return o;const K=T.toLowerCase();return o.filter(V=>V.nome.toLowerCase().includes(K)||V.codigo?.toLowerCase().includes(K))},[o,T]),H=g.useMemo(()=>!s?.superUsuario||!n?u:u.filter(K=>K.gabinetePrincipalId===n.id),[u,n,s?.superUsuario]),Y=g.useMemo(()=>{if(!R)return H;const K=R.toLowerCase();return H.filter(V=>V.nome.toLowerCase().includes(K)||V.codigo?.toLowerCase().includes(K))},[H,R]),Z=s?.isAdminGabinete||s?.superUsuario&&n,ee=H&&H.length>0,q=K=>K&&o.find(_=>_.id===K)?.nome||null,U=()=>{f(),e("/login")},A=async()=>{try{const K=await tr.listarSubgabinetes();v(K)}catch(K){console.error("Erro ao buscar subgabinetes:",K),v([])}};g.useEffect(()=>{s?.superUsuario&&u.length===0&&A()},[s?.superUsuario]);const I=async(K,V)=>{if(K===null){m(null),x(null),E(""),V(),await t.invalidateQueries(),await A(),he.success("Modo Visao Geral ativado"),e("/dashboard");return}if(K===n?.id){V();return}w(!0);try{const _=await tr.switchGabinete(K),L=o.find(G=>G.id===K);L&&(m(L),x(null),h(_.access_token,_.refresh_token),E(""),V(),await t.invalidateQueries(),s?.superUsuario&&await A(),he.success(`Gabinete alterado para ${L.nome}`),e("/dashboard"))}catch{he.error("Erro ao trocar de gabinete")}finally{w(!1)}},$=async(K,V)=>{if(K===null){if(!c){V();return}N(!0);try{const _=await tr.switchSubgabinete(null);x(null),h(_.access_token,_.refresh_token),P(""),V(),await t.invalidateQueries(),he.success("Visualizando Gabinete Principal"),e("/dashboard")}catch{he.error("Erro ao voltar ao gabinete principal")}finally{N(!1)}return}if(K===c?.id){V();return}N(!0);try{const _=await tr.switchSubgabinete(K),L=u.find(G=>G.id===K);if(L){if(s?.superUsuario&&L.gabinetePrincipalId){const G=o.find(ne=>ne.id===L.gabinetePrincipalId);G&&m(G)}h(_.access_token,_.refresh_token),x(L),P(""),V(),await t.invalidateQueries(),he.success(`Subgabinete alterado para ${L.nome}`),e("/dashboard")}else he.error("Subgabinete nao encontrado")}catch(_){console.error("Erro ao trocar de subgabinete:",_);const L=_.response?.data?.detail||"Erro ao trocar de subgabinete";he.error(L)}finally{N(!1)}};return r.jsxs("header",{className:je("fixed top-0 right-0 h-16 bg-white/80 backdrop-blur-xl border-b border-slate-200/50 z-30 flex items-center px-6 gap-4 transition-all duration-300 shadow-sm",y?"left-20":"left-64"),children:[s?.superUsuario&&o&&o.length>0&&r.jsx(Gr,{className:"relative",children:({open:K,close:V})=>r.jsxs(r.Fragment,{children:[r.jsxs(Gr.Button,{className:je("flex items-center gap-2 px-3 py-2 rounded-xl border transition-all outline-none","bg-gradient-to-r from-amber-50 to-orange-50 border-amber-200 hover:border-amber-300",K&&"border-amber-400 ring-2 ring-amber-500/20"),disabled:j,children:[r.jsx(ds,{className:"w-4 h-4 text-amber-600"}),r.jsxs("div",{className:"text-left",children:[r.jsxs("p",{className:"text-xs text-slate-500",children:[r.jsx(Ma,{className:"inline w-3 h-3 mr-1 text-amber-500"}),"Gabinete"]}),r.jsx("p",{className:"text-sm font-medium text-slate-800 truncate max-w-[150px]",children:n?.nome||"Visao Geral"})]}),r.jsx(Bi,{className:je("w-4 h-4 text-slate-400 transition-transform",K&&"rotate-180")})]}),r.jsx(Ra,{as:g.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",afterEnter:()=>O.current?.focus(),afterLeave:()=>E(""),children:r.jsxs(Gr.Panel,{className:"absolute left-0 mt-2 w-80 origin-top-left rounded-xl bg-white shadow-xl ring-1 ring-black/5 focus:outline-none overflow-hidden z-50",children:[r.jsxs("div",{className:"p-2 bg-gradient-to-r from-amber-500 to-orange-500",children:[r.jsx("p",{className:"text-xs font-medium text-white/80",children:"Super Usuario"}),r.jsx("p",{className:"text-sm font-semibold text-white",children:"Selecione o Gabinete"})]}),r.jsx("div",{className:"p-2 border-b border-slate-100",children:r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),r.jsx("input",{ref:O,type:"text",className:"w-full pl-9 pr-8 py-2 text-sm rounded-lg bg-slate-100 border border-transparent focus:bg-white focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-500/20 placeholder:text-slate-400",placeholder:"Buscar gabinete...",value:T,onChange:_=>E(_.target.value),onKeyDown:_=>_.stopPropagation()}),T&&r.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded text-slate-400 hover:text-slate-600",onClick:()=>E(""),children:r.jsx(Ht,{className:"w-4 h-4"})})]})}),r.jsxs("div",{className:"p-1 max-h-64 overflow-y-auto",children:[r.jsxs("button",{onClick:()=>I(null,V),className:je("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm transition-colors","hover:bg-amber-50",n?"text-slate-700":"bg-amber-100 text-amber-700"),children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center text-white",children:r.jsx(Ma,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("p",{className:"font-medium",children:"Visao Geral"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Painel administrativo"})]}),!n&&r.jsx("span",{className:"text-xs bg-amber-500 text-white px-2 py-0.5 rounded-full",children:"Ativo"})]}),r.jsx("div",{className:"my-1 border-t border-slate-100"}),te.length===0?r.jsx("div",{className:"px-3 py-4 text-center text-sm text-slate-500",children:"Nenhum gabinete encontrado"}):te.map(_=>r.jsxs("button",{onClick:()=>I(_.id,V),className:je("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm transition-colors","hover:bg-primary-50",_.id===n?.id?"bg-primary-100 text-primary-700":"text-slate-700"),children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-400 to-emerald-500 flex items-center justify-center text-white font-bold text-xs",children:_.nome.charAt(0)}),r.jsxs("div",{className:"flex-1 text-left min-w-0",children:[r.jsx("p",{className:"font-medium truncate",children:_.nome}),r.jsx("p",{className:"text-xs text-slate-500 truncate",children:_.codigo})]}),_.id===n?.id&&r.jsx("span",{className:"text-xs bg-primary-500 text-white px-2 py-0.5 rounded-full flex-shrink-0",children:"Ativo"})]},_.id))]}),T&&r.jsx("div",{className:"px-3 py-2 border-t border-slate-100 bg-slate-50",children:r.jsxs("p",{className:"text-xs text-slate-500",children:[te.length," de ",o.length," gabinete(s)"]})})]})})]})}),!s?.superUsuario&&n&&!s?.pertenceSubgabinete&&!Z&&r.jsxs("div",{className:je("flex items-center gap-2 px-3 py-2 rounded-xl border","bg-gradient-to-r from-primary-50 to-emerald-50 border-primary-200"),children:[r.jsx(ds,{className:"w-4 h-4 text-primary-600"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Gabinete"}),r.jsx("p",{className:"text-sm font-medium text-slate-800 truncate max-w-[180px]",children:n.nome})]})]}),!s?.superUsuario&&s?.pertenceSubgabinete&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:je("flex items-center gap-2 px-3 py-2 rounded-xl border","bg-gradient-to-r from-primary-50 to-emerald-50 border-primary-200"),children:[r.jsx(ds,{className:"w-4 h-4 text-primary-600"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Gabinete"}),r.jsx("p",{className:"text-sm font-medium text-slate-800 truncate max-w-[150px]",children:s.gabinetePrincipal?.nome||n?.nome})]})]}),r.jsxs("div",{className:je("flex items-center gap-2 px-3 py-2 rounded-xl border","bg-gradient-to-r from-violet-50 to-purple-50 border-violet-200"),children:[r.jsx(sr,{className:"w-4 h-4 text-violet-600"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Subgabinete"}),r.jsx("p",{className:"text-sm font-medium text-slate-800 truncate max-w-[150px]",children:s.subgabineteAtual?.nome})]})]})]}),!s?.superUsuario&&Z&&!s?.pertenceSubgabinete&&r.jsxs("div",{className:je("flex items-center gap-2 px-3 py-2 rounded-xl border","bg-gradient-to-r from-primary-50 to-emerald-50 border-primary-200"),children:[r.jsx(ds,{className:"w-4 h-4 text-primary-600"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Gabinete"}),r.jsx("p",{className:"text-sm font-medium text-slate-800 truncate max-w-[180px]",children:n?.nome})]})]}),Z&&!s?.pertenceSubgabinete&&r.jsx(Gr,{className:"relative",children:({open:K,close:V})=>r.jsxs(r.Fragment,{children:[r.jsxs(Gr.Button,{className:je("flex items-center gap-2 px-3 py-2 rounded-xl border transition-all outline-none",s?.superUsuario?"bg-gradient-to-r from-amber-50 to-orange-50 border-amber-200 hover:border-amber-300":"bg-gradient-to-r from-violet-50 to-purple-50 border-violet-200 hover:border-violet-300",K&&(s?.superUsuario?"border-amber-400 ring-2 ring-amber-500/20":"border-violet-400 ring-2 ring-violet-500/20")),disabled:S,children:[r.jsx(sr,{className:je("w-4 h-4",s?.superUsuario?"text-amber-600":"text-violet-600")}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Subgabinete"}),r.jsx("p",{className:"text-sm font-medium text-slate-800 truncate max-w-[150px]",children:c?.nome||(ee?"Gabinete Principal":"Nenhum")})]}),r.jsx(Bi,{className:je("w-4 h-4 text-slate-400 transition-transform",K&&"rotate-180")})]}),r.jsx(Ra,{as:g.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",afterEnter:()=>k.current?.focus(),afterLeave:()=>P(""),children:r.jsxs(Gr.Panel,{className:"absolute left-0 mt-2 w-80 origin-top-left rounded-xl bg-white shadow-xl ring-1 ring-black/5 focus:outline-none overflow-hidden z-50",children:[r.jsxs("div",{className:je("p-2 bg-gradient-to-r",s?.superUsuario?"from-amber-500 to-orange-500":"from-violet-500 to-purple-500"),children:[r.jsx("p",{className:"text-xs font-medium text-white/80",children:s?.superUsuario?"Super Administrador":"Administrador"}),r.jsx("p",{className:"text-sm font-semibold text-white",children:ee?s?.superUsuario?"Subgabinetes do Gabinete":"Selecione o Subgabinete":"Subgabinetes"})]}),ee&&r.jsx("div",{className:"p-2 border-b border-slate-100",children:r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),r.jsx("input",{ref:k,type:"text",className:"w-full pl-9 pr-8 py-2 text-sm rounded-lg bg-slate-100 border border-transparent focus:bg-white focus:border-violet-300 focus:outline-none focus:ring-2 focus:ring-violet-500/20 placeholder:text-slate-400",placeholder:"Buscar subgabinete...",value:R,onChange:_=>P(_.target.value),onKeyDown:_=>_.stopPropagation()}),R&&r.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded text-slate-400 hover:text-slate-600",onClick:()=>P(""),children:r.jsx(Ht,{className:"w-4 h-4"})})]})}),r.jsxs("div",{className:"p-1 max-h-64 overflow-y-auto",children:[n&&ee&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>$(null,V),className:je("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm transition-colors",s?.superUsuario?"hover:bg-amber-50":"hover:bg-violet-50",c?"text-slate-700":s?.superUsuario?"bg-amber-100 text-amber-700":"bg-violet-100 text-violet-700"),children:[r.jsx("div",{className:je("w-8 h-8 rounded-lg flex items-center justify-center text-white",s?.superUsuario?"bg-gradient-to-br from-amber-400 to-orange-500":"bg-gradient-to-br from-violet-400 to-purple-500"),children:r.jsx(ds,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("p",{className:"font-medium",children:n.nome}),r.jsx("p",{className:"text-xs text-slate-500",children:"Gabinete Principal"})]}),!c&&r.jsx("span",{className:je("text-xs text-white px-2 py-0.5 rounded-full",s?.superUsuario?"bg-amber-500":"bg-violet-500"),children:"Ativo"})]}),r.jsx("div",{className:"my-1 border-t border-slate-100"})]}),ee?Y.length===0?r.jsx("div",{className:"px-3 py-4 text-center text-sm text-slate-500",children:"Nenhum subgabinete encontrado na busca"}):Y.map(_=>{const L=s?.superUsuario?q(_.gabinetePrincipalId):null;return r.jsxs("button",{onClick:()=>$(_.id,V),className:je("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm transition-colors",s?.superUsuario?"hover:bg-amber-50":"hover:bg-violet-50",_.id===c?.id?s?.superUsuario?"bg-amber-100 text-amber-700":"bg-violet-100 text-violet-700":"text-slate-700"),children:[r.jsx("div",{className:je("w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-xs",s?.superUsuario?"bg-gradient-to-br from-amber-300 to-orange-400":"bg-gradient-to-br from-violet-300 to-purple-400"),children:_.nome.charAt(0)}),r.jsxs("div",{className:"flex-1 text-left min-w-0",children:[r.jsx("p",{className:"font-medium truncate",children:_.nome}),r.jsx("p",{className:"text-xs text-slate-500 truncate",children:L?`${L}`:_.codigo})]}),_.id===c?.id&&r.jsx("span",{className:je("text-xs text-white px-2 py-0.5 rounded-full flex-shrink-0",s?.superUsuario?"bg-amber-500":"bg-violet-500"),children:"Ativo"})]},_.id)}):r.jsxs("div",{className:"px-3 py-6 text-center",children:[r.jsx(sr,{className:"w-8 h-8 text-slate-300 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Nao existem subgabinetes vinculados"}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"a este gabinete"})]})]}),R&&r.jsx("div",{className:"px-3 py-2 border-t border-slate-100 bg-slate-50",children:r.jsxs("p",{className:"text-xs text-slate-500",children:[Y.length," de ",u.length," subgabinete(s)"]})})]})})]})}),s?.perfilNome&&r.jsxs("div",{className:je("flex items-center gap-2 px-3 py-2 rounded-xl border","bg-gradient-to-r from-slate-50 to-slate-100 border-slate-200"),children:[r.jsx(Rt,{className:"w-4 h-4 text-slate-600"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Perfil"}),r.jsx("p",{className:"text-sm font-medium text-slate-800 truncate max-w-[180px]",children:s.perfilNome})]})]}),r.jsx("div",{className:"flex-1"}),r.jsxs("div",{className:"flex items-center gap-3",children:[!z&&r.jsxs("button",{className:"relative p-2.5 rounded-xl text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-colors",children:[r.jsx(u3,{className:"w-5 h-5"}),r.jsx("span",{className:"absolute top-1.5 right-1.5 w-2.5 h-2.5 bg-red-500 rounded-full ring-2 ring-white"})]}),r.jsxs(ga,{as:"div",className:"relative",children:[r.jsxs(ga.Button,{className:"flex items-center gap-2 p-1.5 rounded-xl hover:bg-slate-100 transition-colors",children:[r.jsx(Dn,{name:s?.nome,src:s?.fotoUrl,size:"sm"}),r.jsx(Bi,{className:"w-4 h-4 text-slate-400"})]}),r.jsx(Ra,{as:g.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:r.jsxs(ga.Items,{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-xl bg-white shadow-xl ring-1 ring-black/5 focus:outline-none overflow-hidden",children:[r.jsxs("div",{className:je("p-3",s?.superUsuario?"bg-gradient-to-r from-amber-500 to-orange-500":"bg-gradient-to-r from-primary-500 to-emerald-500"),children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"text-sm font-medium text-white",children:s?.nome}),s?.superUsuario&&r.jsx(Ma,{className:"w-4 h-4 text-white"})]}),r.jsx("p",{className:"text-xs text-white/80",children:s?.email})]}),r.jsxs("div",{className:"p-1",children:[r.jsx(ga.Item,{children:({active:K})=>r.jsxs("button",{onClick:()=>e("/perfil"),className:je("w-full flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm transition-colors",K?"bg-slate-100 text-slate-900":"text-slate-700"),children:[r.jsx(Rt,{className:"w-4 h-4"}),"Meu Perfil"]})}),!F&&!s?.pertenceSubgabinete&&r.jsx(ga.Item,{children:({active:K})=>r.jsxs("button",{onClick:()=>e("/configuracoes"),className:je("w-full flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm transition-colors",K?"bg-slate-100 text-slate-900":"text-slate-700"),children:[r.jsx(Z2,{className:"w-4 h-4"}),"Configuracoes"]})}),s?.superUsuario&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"my-1 border-t border-slate-100"}),r.jsx(ga.Item,{children:({active:K})=>r.jsxs("button",{onClick:()=>e("/admin/gabinetes"),className:je("w-full flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm transition-colors",K?"bg-amber-50 text-amber-600":"text-amber-600"),children:[r.jsx(ds,{className:"w-4 h-4"}),"Gerenciar Gabinetes"]})}),r.jsx(ga.Item,{children:({active:K})=>r.jsxs("button",{onClick:()=>e("/admin/usuarios"),className:je("w-full flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm transition-colors",K?"bg-amber-50 text-amber-600":"text-amber-600"),children:[r.jsx(es,{className:"w-4 h-4"}),"Gerenciar Usuarios"]})})]})]}),r.jsx("div",{className:"p-1 border-t border-slate-100",children:r.jsx(ga.Item,{children:({active:K})=>r.jsxs("button",{onClick:U,className:je("w-full flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm transition-colors",K?"bg-red-50 text-red-600":"text-red-600"),children:[r.jsx(Q2,{className:"w-4 h-4"}),"Sair"]})})})]})})]})]})]})},R8=()=>{const{sidebarCollapsed:e}=ob();return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-slate-50 to-emerald-50/30",children:[r.jsx(tI,{}),r.jsx(M8,{}),r.jsx("main",{className:je("pt-16 min-h-screen transition-all duration-300",e?"pl-20":"pl-64"),children:r.jsx("div",{className:"p-6",children:r.jsx(a2,{})})})]})},D8=()=>r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-emerald-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-400 to-primary-600 shadow-lg shadow-primary-500/30 mb-4",children:r.jsx("span",{className:"text-white font-bold text-2xl",children:"G"})}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"GPVx"}),r.jsx("p",{className:"text-slate-500",children:"Gabinete Parlamentar Virtual"})]}),r.jsx(a2,{}),r.jsxs("p",{className:"text-center text-sm text-slate-400 mt-8",children:[" ",new Date().getFullYear()," GPVx. Todos os direitos reservados. CDX Solucoes."]})]})});var Ed=e=>e.type==="checkbox",Ro=e=>e instanceof Date,On=e=>e==null;const t_=e=>typeof e=="object";var Es=e=>!On(e)&&!Array.isArray(e)&&t_(e)&&!Ro(e),s_=e=>Es(e)&&e.target?Ed(e.target)?e.target.checked:e.target.value:e,z8=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,n_=(e,t)=>e.has(z8(t)),$8=e=>{const t=e.constructor&&e.constructor.prototype;return Es(t)&&t.hasOwnProperty("isPrototypeOf")},Pb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ks(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(Pb&&(e instanceof Blob||t))return e;const s=Array.isArray(e);if(!s&&!(Es(e)&&$8(e)))return e;const n=s?[]:Object.create(Object.getPrototypeOf(e));for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=ks(e[o]));return n}var ep=e=>/^\w*$/.test(e),is=e=>e===void 0,Ib=e=>Array.isArray(e)?e.filter(Boolean):[],Fb=e=>Ib(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Re=(e,t,s)=>{if(!t||!Es(e))return s;const n=(ep(t)?[t]:Fb(t)).reduce((o,c)=>On(o)?o:o[c],e);return is(n)||n===e?is(e[t])?s:e[t]:n},Hn=e=>typeof e=="boolean",hn=e=>typeof e=="function",kt=(e,t,s)=>{let n=-1;const o=ep(t)?[t]:Fb(t),c=o.length,u=c-1;for(;++n<c;){const f=o[n];let m=s;if(n!==u){const h=e[f];m=Es(h)||Array.isArray(h)?h:isNaN(+o[n+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=m,e=e[f]}};const Wm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_a={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},a_=oe.createContext(null);a_.displayName="HookFormContext";const Lb=()=>oe.useContext(a_);var r_=(e,t,s,n=!0)=>{const o={defaultValues:t._defaultValues};for(const c in e)Object.defineProperty(o,c,{get:()=>{const u=c;return t._proxyFormState[u]!==_a.all&&(t._proxyFormState[u]=!n||_a.all),s&&(s[u]=!0),e[u]}});return o};const qb=typeof window<"u"?oe.useLayoutEffect:oe.useEffect;function P8(e){const t=Lb(),{control:s=t.control,disabled:n,name:o,exact:c}=e||{},[u,f]=oe.useState(s._formState),m=oe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return qb(()=>s._subscribe({name:o,formState:m.current,exact:c,callback:h=>{!n&&f({...s._formState,...h})}}),[o,n,c]),oe.useEffect(()=>{m.current.isValid&&s._setValid(!0)},[s]),oe.useMemo(()=>r_(u,s,m.current,!1),[u,s])}var Zn=e=>typeof e=="string",Dx=(e,t,s,n,o)=>Zn(e)?(n&&t.watch.add(e),Re(s,e,o)):Array.isArray(e)?e.map(c=>(n&&t.watch.add(c),Re(s,c))):(n&&(t.watchAll=!0),s),zx=e=>On(e)||!t_(e);function Ta(e,t,s=new WeakSet){if(zx(e)||zx(t))return Object.is(e,t);if(Ro(e)&&Ro(t))return e.getTime()===t.getTime();const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const c of n){const u=e[c];if(!o.includes(c))return!1;if(c!=="ref"){const f=t[c];if(Ro(u)&&Ro(f)||Es(u)&&Es(f)||Array.isArray(u)&&Array.isArray(f)?!Ta(u,f,s):!Object.is(u,f))return!1}}return!0}function I8(e){const t=Lb(),{control:s=t.control,name:n,defaultValue:o,disabled:c,exact:u,compute:f}=e||{},m=oe.useRef(o),h=oe.useRef(f),x=oe.useRef(void 0),v=oe.useRef(s),y=oe.useRef(n);h.current=f;const[j,w]=oe.useState(()=>{const k=s._getWatch(n,m.current);return h.current?h.current(k):k}),S=oe.useCallback(k=>{const R=Dx(n,s._names,k||s._formValues,!1,m.current);return h.current?h.current(R):R},[s._formValues,s._names,n]),N=oe.useCallback(k=>{if(!c){const R=Dx(n,s._names,k||s._formValues,!1,m.current);if(h.current){const P=h.current(R);Ta(P,x.current)||(w(P),x.current=P)}else w(R)}},[s._formValues,s._names,c,n]);qb(()=>((v.current!==s||!Ta(y.current,n))&&(v.current=s,y.current=n,N()),s._subscribe({name:n,formState:{values:!0},exact:u,callback:k=>{N(k.values)}})),[s,u,n,N]),oe.useEffect(()=>s._removeUnmounted());const T=v.current!==s,E=y.current,O=oe.useMemo(()=>{if(c)return null;const k=!T&&!Ta(E,n);return T||k?S():null},[c,T,n,E,S]);return O!==null?O:j}function F8(e){const t=Lb(),{name:s,disabled:n,control:o=t.control,shouldUnregister:c,defaultValue:u,exact:f=!0}=e,m=n_(o._names.array,s),h=oe.useMemo(()=>Re(o._formValues,s,Re(o._defaultValues,s,u)),[o,s,u]),x=I8({control:o,name:s,defaultValue:h,exact:f}),v=P8({control:o,name:s,exact:f}),y=oe.useRef(e),j=oe.useRef(void 0),w=oe.useRef(o.register(s,{...e.rules,value:x,...Hn(e.disabled)?{disabled:e.disabled}:{}}));y.current=e;const S=oe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Re(v.errors,s)},isDirty:{enumerable:!0,get:()=>!!Re(v.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Re(v.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Re(v.validatingFields,s)},error:{enumerable:!0,get:()=>Re(v.errors,s)}}),[v,s]),N=oe.useCallback(k=>w.current.onChange({target:{value:s_(k),name:s},type:Wm.CHANGE}),[s]),T=oe.useCallback(()=>w.current.onBlur({target:{value:Re(o._formValues,s),name:s},type:Wm.BLUR}),[s,o._formValues]),E=oe.useCallback(k=>{const R=Re(o._fields,s);R&&R._f&&k&&(R._f.ref={focus:()=>hn(k.focus)&&k.focus(),select:()=>hn(k.select)&&k.select(),setCustomValidity:P=>hn(k.setCustomValidity)&&k.setCustomValidity(P),reportValidity:()=>hn(k.reportValidity)&&k.reportValidity()})},[o._fields,s]),O=oe.useMemo(()=>({name:s,value:x,...Hn(n)||v.disabled?{disabled:v.disabled||n}:{},onChange:N,onBlur:T,ref:E}),[s,n,v.disabled,N,T,E,x]);return oe.useEffect(()=>{const k=o._options.shouldUnregister||c,R=j.current;R&&R!==s&&!m&&o.unregister(R),o.register(s,{...y.current.rules,...Hn(y.current.disabled)?{disabled:y.current.disabled}:{}});const P=(z,F)=>{const te=Re(o._fields,z);te&&te._f&&(te._f.mount=F)};if(P(s,!0),k){const z=ks(Re(o._options.defaultValues,s,y.current.defaultValue));kt(o._defaultValues,s,z),is(Re(o._formValues,s))&&kt(o._formValues,s,z)}return!m&&o.register(s),j.current=s,()=>{(m?k&&!o._state.action:k)?o.unregister(s):P(s,!1)}},[s,o,m,c]),oe.useEffect(()=>{o._setDisabledField({disabled:n,name:s})},[n,s,o]),oe.useMemo(()=>({field:O,formState:v,fieldState:S}),[O,v,S])}const Vn=e=>e.render(F8(e));var Ub=(e,t,s,n,o)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[n]:o||!0}}:{},Fu=e=>Array.isArray(e)?e:[e],$S=()=>{let e=[];return{get observers(){return e},next:o=>{for(const c of e)c.next&&c.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(c=>c!==o)}}),unsubscribe:()=>{e=[]}}};function i_(e,t){const s={};for(const n in e)if(e.hasOwnProperty(n)){const o=e[n],c=t[n];if(o&&Es(o)&&c){const u=i_(o,c);Es(u)&&(s[n]=u)}else e[n]&&(s[n]=c)}return s}var fn=e=>Es(e)&&!Object.keys(e).length,Bb=e=>e.type==="file",Xm=e=>{if(!Pb)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},o_=e=>e.type==="select-multiple",Vb=e=>e.type==="radio",L8=e=>Vb(e)||Ed(e),V0=e=>Xm(e)&&e.isConnected;function q8(e,t){const s=t.slice(0,-1).length;let n=0;for(;n<s;)e=is(e)?n++:e[t[n++]];return e}function U8(e){for(const t in e)if(e.hasOwnProperty(t)&&!is(e[t]))return!1;return!0}function js(e,t){const s=Array.isArray(t)?t:ep(t)?[t]:Fb(t),n=s.length===1?e:q8(e,s),o=s.length-1,c=s[o];return n&&delete n[c],o!==0&&(Es(n)&&fn(n)||Array.isArray(n)&&U8(n))&&js(e,s.slice(0,-1)),e}var B8=e=>{for(const t in e)if(hn(e[t]))return!0;return!1};function l_(e){return Array.isArray(e)||Es(e)&&!B8(e)}function $x(e,t={}){for(const s in e){const n=e[s];l_(n)?(t[s]=Array.isArray(n)?[]:{},$x(n,t[s])):is(n)||(t[s]=!0)}return t}function Fl(e,t,s){s||(s=$x(t));for(const n in e){const o=e[n];if(l_(o))is(t)||zx(s[n])?s[n]=$x(o,Array.isArray(o)?[]:{}):Fl(o,On(t)?{}:t[n],s[n]);else{const c=t[n];s[n]=!Ta(o,c)}}return s}const PS={value:!1,isValid:!1},IS={value:!0,isValid:!0};var c_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!is(e[0].attributes.value)?is(e[0].value)||e[0].value===""?IS:{value:e[0].value,isValid:!0}:IS:PS}return PS},u_=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:n})=>is(e)?e:t?e===""?NaN:e&&+e:s&&Zn(e)?new Date(e):n?n(e):e;const FS={isValid:!1,value:null};var d_=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,FS):FS;function LS(e){const t=e.ref;return Bb(t)?t.files:Vb(t)?d_(e.refs).value:o_(t)?[...t.selectedOptions].map(({value:s})=>s):Ed(t)?c_(e.refs).value:u_(is(t.value)?e.ref.value:t.value,e)}var V8=(e,t,s,n)=>{const o={};for(const c of e){const u=Re(t,c);u&&kt(o,c,u._f)}return{criteriaMode:s,names:[...e],fields:o,shouldUseNativeValidation:n}},Jm=e=>e instanceof RegExp,wu=e=>is(e)?e:Jm(e)?e.source:Es(e)?Jm(e.value)?e.value.source:e.value:e,qS=e=>({isOnSubmit:!e||e===_a.onSubmit,isOnBlur:e===_a.onBlur,isOnChange:e===_a.onChange,isOnAll:e===_a.all,isOnTouch:e===_a.onTouched});const US="AsyncFunction";var H8=e=>!!e&&!!e.validate&&!!(hn(e.validate)&&e.validate.constructor.name===US||Es(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===US)),G8=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),BS=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Lu=(e,t,s,n)=>{for(const o of s||Object.keys(e)){const c=Re(e,o);if(c){const{_f:u,...f}=c;if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],o)&&!n)return!0;if(u.ref&&t(u.ref,u.name)&&!n)return!0;if(Lu(f,t))break}else if(Es(f)&&Lu(f,t))break}}};function VS(e,t,s){const n=Re(e,s);if(n||ep(s))return{error:n,name:s};const o=s.split(".");for(;o.length;){const c=o.join("."),u=Re(t,c),f=Re(e,c);if(u&&!Array.isArray(u)&&s!==c)return{name:s};if(f&&f.type)return{name:c,error:f};if(f&&f.root&&f.root.type)return{name:`${c}.root`,error:f.root};o.pop()}return{name:s}}var Q8=(e,t,s,n)=>{s(e);const{name:o,...c}=e;return fn(c)||Object.keys(c).length>=Object.keys(t).length||Object.keys(c).find(u=>t[u]===(!n||_a.all))},Z8=(e,t,s)=>!e||!t||e===t||Fu(e).some(n=>n&&(s?n===t:n.startsWith(t)||t.startsWith(n))),K8=(e,t,s,n,o)=>o.isOnAll?!1:!s&&o.isOnTouch?!(t||e):(s?n.isOnBlur:o.isOnBlur)?!e:(s?n.isOnChange:o.isOnChange)?e:!0,Y8=(e,t)=>!Ib(Re(e,t)).length&&js(e,t),W8=(e,t,s)=>{const n=Fu(Re(e,s));return kt(n,"root",t[s]),kt(e,s,n),e};function HS(e,t,s="validate"){if(Zn(e)||Array.isArray(e)&&e.every(Zn)||Hn(e)&&!e)return{type:s,message:Zn(e)?e:"",ref:t}}var $l=e=>Es(e)&&!Jm(e)?e:{value:e,message:""},GS=async(e,t,s,n,o,c)=>{const{ref:u,refs:f,required:m,maxLength:h,minLength:x,min:v,max:y,pattern:j,validate:w,name:S,valueAsNumber:N,mount:T}=e._f,E=Re(s,S);if(!T||t.has(S))return{};const O=f?f[0]:u,k=Z=>{o&&O.reportValidity&&(O.setCustomValidity(Hn(Z)?"":Z||""),O.reportValidity())},R={},P=Vb(u),z=Ed(u),F=P||z,te=(N||Bb(u))&&is(u.value)&&is(E)||Xm(u)&&u.value===""||E===""||Array.isArray(E)&&!E.length,H=Ub.bind(null,S,n,R),Y=(Z,ee,q,U=Hr.maxLength,A=Hr.minLength)=>{const I=Z?ee:q;R[S]={type:Z?U:A,message:I,ref:u,...H(Z?U:A,I)}};if(c?!Array.isArray(E)||!E.length:m&&(!F&&(te||On(E))||Hn(E)&&!E||z&&!c_(f).isValid||P&&!d_(f).isValid)){const{value:Z,message:ee}=Zn(m)?{value:!!m,message:m}:$l(m);if(Z&&(R[S]={type:Hr.required,message:ee,ref:O,...H(Hr.required,ee)},!n))return k(ee),R}if(!te&&(!On(v)||!On(y))){let Z,ee;const q=$l(y),U=$l(v);if(!On(E)&&!isNaN(E)){const A=u.valueAsNumber||E&&+E;On(q.value)||(Z=A>q.value),On(U.value)||(ee=A<U.value)}else{const A=u.valueAsDate||new Date(E),I=V=>new Date(new Date().toDateString()+" "+V),$=u.type=="time",K=u.type=="week";Zn(q.value)&&E&&(Z=$?I(E)>I(q.value):K?E>q.value:A>new Date(q.value)),Zn(U.value)&&E&&(ee=$?I(E)<I(U.value):K?E<U.value:A<new Date(U.value))}if((Z||ee)&&(Y(!!Z,q.message,U.message,Hr.max,Hr.min),!n))return k(R[S].message),R}if((h||x)&&!te&&(Zn(E)||c&&Array.isArray(E))){const Z=$l(h),ee=$l(x),q=!On(Z.value)&&E.length>+Z.value,U=!On(ee.value)&&E.length<+ee.value;if((q||U)&&(Y(q,Z.message,ee.message),!n))return k(R[S].message),R}if(j&&!te&&Zn(E)){const{value:Z,message:ee}=$l(j);if(Jm(Z)&&!E.match(Z)&&(R[S]={type:Hr.pattern,message:ee,ref:u,...H(Hr.pattern,ee)},!n))return k(ee),R}if(w){if(hn(w)){const Z=await w(E,s),ee=HS(Z,O);if(ee&&(R[S]={...ee,...H(Hr.validate,ee.message)},!n))return k(ee.message),R}else if(Es(w)){let Z={};for(const ee in w){if(!fn(Z)&&!n)break;const q=HS(await w[ee](E,s),O,ee);q&&(Z={...q,...H(ee,q.message)},k(q.message),n&&(R[S]=Z))}if(!fn(Z)&&(R[S]={ref:O,...Z},!n))return R}}return k(!0),R};const X8={mode:_a.onSubmit,reValidateMode:_a.onChange,shouldFocusError:!0};function J8(e={}){let t={...X8,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:hn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},o=Es(t.defaultValues)||Es(t.values)?ks(t.defaultValues||t.values)||{}:{},c=t.shouldUnregister?{}:ks(o),u={action:!1,mount:!1,watch:!1,keepIsValid:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,h=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={...x};let y={...v};const j={array:$S(),state:$S()},w=t.criteriaMode===_a.all,S=J=>ie=>{clearTimeout(h),h=setTimeout(J,ie)},N=async J=>{if(!u.keepIsValid&&!t.disabled&&(v.isValid||y.isValid||J)){let ie;t.resolver?(ie=fn((await F()).errors),T()):ie=await H(n,!0),ie!==s.isValid&&j.state.next({isValid:ie})}},T=(J,ie)=>{!t.disabled&&(v.isValidating||v.validatingFields||y.isValidating||y.validatingFields)&&((J||Array.from(f.mount)).forEach(pe=>{pe&&(ie?kt(s.validatingFields,pe,ie):js(s.validatingFields,pe))}),j.state.next({validatingFields:s.validatingFields,isValidating:!fn(s.validatingFields)}))},E=(J,ie=[],pe,_e,Te=!0,Ce=!0)=>{if(_e&&pe&&!t.disabled){if(u.action=!0,Ce&&Array.isArray(Re(n,J))){const De=pe(Re(n,J),_e.argA,_e.argB);Te&&kt(n,J,De)}if(Ce&&Array.isArray(Re(s.errors,J))){const De=pe(Re(s.errors,J),_e.argA,_e.argB);Te&&kt(s.errors,J,De),Y8(s.errors,J)}if((v.touchedFields||y.touchedFields)&&Ce&&Array.isArray(Re(s.touchedFields,J))){const De=pe(Re(s.touchedFields,J),_e.argA,_e.argB);Te&&kt(s.touchedFields,J,De)}(v.dirtyFields||y.dirtyFields)&&(s.dirtyFields=Fl(o,c)),j.state.next({name:J,isDirty:Z(J,ie),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else kt(c,J,ie)},O=(J,ie)=>{kt(s.errors,J,ie),j.state.next({errors:s.errors})},k=J=>{s.errors=J,j.state.next({errors:s.errors,isValid:!1})},R=(J,ie,pe,_e)=>{const Te=Re(n,J);if(Te){const Ce=Re(c,J,is(pe)?Re(o,J):pe);is(Ce)||_e&&_e.defaultChecked||ie?kt(c,J,ie?Ce:LS(Te._f)):U(J,Ce),u.mount&&!u.action&&N()}},P=(J,ie,pe,_e,Te)=>{let Ce=!1,De=!1;const We={name:J};if(!t.disabled){if(!pe||_e){(v.isDirty||y.isDirty)&&(De=s.isDirty,s.isDirty=We.isDirty=Z(),Ce=De!==We.isDirty);const Ee=Ta(Re(o,J),ie);De=!!Re(s.dirtyFields,J),Ee?js(s.dirtyFields,J):kt(s.dirtyFields,J,!0),We.dirtyFields=s.dirtyFields,Ce=Ce||(v.dirtyFields||y.dirtyFields)&&De!==!Ee}if(pe){const Ee=Re(s.touchedFields,J);Ee||(kt(s.touchedFields,J,pe),We.touchedFields=s.touchedFields,Ce=Ce||(v.touchedFields||y.touchedFields)&&Ee!==pe)}Ce&&Te&&j.state.next(We)}return Ce?We:{}},z=(J,ie,pe,_e)=>{const Te=Re(s.errors,J),Ce=(v.isValid||y.isValid)&&Hn(ie)&&s.isValid!==ie;if(t.delayError&&pe?(m=S(()=>O(J,pe)),m(t.delayError)):(clearTimeout(h),m=null,pe?kt(s.errors,J,pe):js(s.errors,J)),(pe?!Ta(Te,pe):Te)||!fn(_e)||Ce){const De={..._e,...Ce&&Hn(ie)?{isValid:ie}:{},errors:s.errors,name:J};s={...s,...De},j.state.next(De)}},F=async J=>(T(J,!0),await t.resolver(c,t.context,V8(J||f.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),te=async J=>{const{errors:ie}=await F(J);if(T(J),J)for(const pe of J){const _e=Re(ie,pe);_e?kt(s.errors,pe,_e):js(s.errors,pe)}else s.errors=ie;return ie},H=async(J,ie,pe={valid:!0})=>{for(const _e in J){const Te=J[_e];if(Te){const{_f:Ce,...De}=Te;if(Ce){const We=f.array.has(Ce.name),Ee=Te._f&&H8(Te._f);Ee&&v.validatingFields&&T([Ce.name],!0);const qe=await GS(Te,f.disabled,c,w,t.shouldUseNativeValidation&&!ie,We);if(Ee&&v.validatingFields&&T([Ce.name]),qe[Ce.name]&&(pe.valid=!1,ie))break;!ie&&(Re(qe,Ce.name)?We?W8(s.errors,qe,Ce.name):kt(s.errors,Ce.name,qe[Ce.name]):js(s.errors,Ce.name))}!fn(De)&&await H(De,ie,pe)}}return pe.valid},Y=()=>{for(const J of f.unMount){const ie=Re(n,J);ie&&(ie._f.refs?ie._f.refs.every(pe=>!V0(pe)):!V0(ie._f.ref))&&we(J)}f.unMount=new Set},Z=(J,ie)=>!t.disabled&&(J&&ie&&kt(c,J,ie),!Ta(_(),o)),ee=(J,ie,pe)=>Dx(J,f,{...u.mount?c:is(ie)?o:Zn(J)?{[J]:ie}:ie},pe,ie),q=J=>Ib(Re(u.mount?c:o,J,t.shouldUnregister?Re(o,J,[]):[])),U=(J,ie,pe={})=>{const _e=Re(n,J);let Te=ie;if(_e){const Ce=_e._f;Ce&&(!Ce.disabled&&kt(c,J,u_(ie,Ce)),Te=Xm(Ce.ref)&&On(ie)?"":ie,o_(Ce.ref)?[...Ce.ref.options].forEach(De=>De.selected=Te.includes(De.value)):Ce.refs?Ed(Ce.ref)?Ce.refs.forEach(De=>{(!De.defaultChecked||!De.disabled)&&(Array.isArray(Te)?De.checked=!!Te.find(We=>We===De.value):De.checked=Te===De.value||!!Te)}):Ce.refs.forEach(De=>De.checked=De.value===Te):Bb(Ce.ref)?Ce.ref.value="":(Ce.ref.value=Te,Ce.ref.type||j.state.next({name:J,values:ks(c)})))}(pe.shouldDirty||pe.shouldTouch)&&P(J,Te,pe.shouldTouch,pe.shouldDirty,!0),pe.shouldValidate&&V(J)},A=(J,ie,pe)=>{for(const _e in ie){if(!ie.hasOwnProperty(_e))return;const Te=ie[_e],Ce=J+"."+_e,De=Re(n,Ce);(f.array.has(J)||Es(Te)||De&&!De._f)&&!Ro(Te)?A(Ce,Te,pe):U(Ce,Te,pe)}},I=(J,ie,pe={})=>{const _e=Re(n,J),Te=f.array.has(J),Ce=ks(ie);kt(c,J,Ce),Te?(j.array.next({name:J,values:ks(c)}),(v.isDirty||v.dirtyFields||y.isDirty||y.dirtyFields)&&pe.shouldDirty&&j.state.next({name:J,dirtyFields:Fl(o,c),isDirty:Z(J,Ce)})):_e&&!_e._f&&!On(Ce)?A(J,Ce,pe):U(J,Ce,pe),BS(J,f)&&j.state.next({...s,name:J}),j.state.next({name:u.mount?J:void 0,values:ks(c)})},$=async J=>{u.mount=!0;const ie=J.target;let pe=ie.name,_e=!0;const Te=Re(n,pe),Ce=Ee=>{_e=Number.isNaN(Ee)||Ro(Ee)&&isNaN(Ee.getTime())||Ta(Ee,Re(c,pe,Ee))},De=qS(t.mode),We=qS(t.reValidateMode);if(Te){let Ee,qe;const re=ie.type?LS(Te._f):s_(J),Me=J.type===Wm.BLUR||J.type===Wm.FOCUS_OUT,yt=!G8(Te._f)&&!t.resolver&&!Re(s.errors,pe)&&!Te._f.deps||K8(Me,Re(s.touchedFields,pe),s.isSubmitted,We,De),Se=BS(pe,f,Me);kt(c,pe,re),Me?(!ie||!ie.readOnly)&&(Te._f.onBlur&&Te._f.onBlur(J),m&&m(0)):Te._f.onChange&&Te._f.onChange(J);const Xe=P(pe,re,Me),_t=!fn(Xe)||Se;if(!Me&&j.state.next({name:pe,type:J.type,values:ks(c)}),yt)return(v.isValid||y.isValid)&&(t.mode==="onBlur"?Me&&N():Me||N()),_t&&j.state.next({name:pe,...Se?{}:Xe});if(!Me&&Se&&j.state.next({...s}),t.resolver){const{errors:Ps}=await F([pe]);if(T([pe]),Ce(re),_e){const Hs=VS(s.errors,n,pe),tt=VS(Ps,n,Hs.name||pe);Ee=tt.error,pe=tt.name,qe=fn(Ps)}}else T([pe],!0),Ee=(await GS(Te,f.disabled,c,w,t.shouldUseNativeValidation))[pe],T([pe]),Ce(re),_e&&(Ee?qe=!1:(v.isValid||y.isValid)&&(qe=await H(n,!0)));_e&&(Te._f.deps&&(!Array.isArray(Te._f.deps)||Te._f.deps.length>0)&&V(Te._f.deps),z(pe,qe,Ee,Xe))}},K=(J,ie)=>{if(Re(s.errors,ie)&&J.focus)return J.focus(),1},V=async(J,ie={})=>{let pe,_e;const Te=Fu(J);if(t.resolver){const Ce=await te(is(J)?J:Te);pe=fn(Ce),_e=J?!Te.some(De=>Re(Ce,De)):pe}else J?(_e=(await Promise.all(Te.map(async Ce=>{const De=Re(n,Ce);return await H(De&&De._f?{[Ce]:De}:De)}))).every(Boolean),!(!_e&&!s.isValid)&&N()):_e=pe=await H(n);return j.state.next({...!Zn(J)||(v.isValid||y.isValid)&&pe!==s.isValid?{}:{name:J},...t.resolver||!J?{isValid:pe}:{},errors:s.errors}),ie.shouldFocus&&!_e&&Lu(n,K,J?Te:f.mount),_e},_=(J,ie)=>{let pe={...u.mount?c:o};return ie&&(pe=i_(ie.dirtyFields?s.dirtyFields:s.touchedFields,pe)),is(J)?pe:Zn(J)?Re(pe,J):J.map(_e=>Re(pe,_e))},L=(J,ie)=>({invalid:!!Re((ie||s).errors,J),isDirty:!!Re((ie||s).dirtyFields,J),error:Re((ie||s).errors,J),isValidating:!!Re(s.validatingFields,J),isTouched:!!Re((ie||s).touchedFields,J)}),G=J=>{J&&Fu(J).forEach(ie=>js(s.errors,ie)),j.state.next({errors:J?s.errors:{}})},ne=(J,ie,pe)=>{const _e=(Re(n,J,{_f:{}})._f||{}).ref,Te=Re(s.errors,J)||{},{ref:Ce,message:De,type:We,...Ee}=Te;kt(s.errors,J,{...Ee,...ie,ref:_e}),j.state.next({name:J,errors:s.errors,isValid:!1}),pe&&pe.shouldFocus&&_e&&_e.focus&&_e.focus()},D=(J,ie)=>hn(J)?j.state.subscribe({next:pe=>"values"in pe&&J(ee(void 0,ie),pe)}):ee(J,ie,!0),Q=J=>j.state.subscribe({next:ie=>{Z8(J.name,ie.name,J.exact)&&Q8(ie,J.formState||v,Ct,J.reRenderRoot)&&J.callback({values:{...c},...s,...ie,defaultValues:o})}}).unsubscribe,W=J=>(u.mount=!0,y={...y,...J.formState},Q({...J,formState:{...x,...J.formState}})),we=(J,ie={})=>{for(const pe of J?Fu(J):f.mount)f.mount.delete(pe),f.array.delete(pe),ie.keepValue||(js(n,pe),js(c,pe)),!ie.keepError&&js(s.errors,pe),!ie.keepDirty&&js(s.dirtyFields,pe),!ie.keepTouched&&js(s.touchedFields,pe),!ie.keepIsValidating&&js(s.validatingFields,pe),!t.shouldUnregister&&!ie.keepDefaultValue&&js(o,pe);j.state.next({values:ks(c)}),j.state.next({...s,...ie.keepDirty?{isDirty:Z()}:{}}),!ie.keepIsValid&&N()},ue=({disabled:J,name:ie})=>{(Hn(J)&&u.mount||J||f.disabled.has(ie))&&(J?f.disabled.add(ie):f.disabled.delete(ie))},ve=(J,ie={})=>{let pe=Re(n,J);const _e=Hn(ie.disabled)||Hn(t.disabled);return kt(n,J,{...pe||{},_f:{...pe&&pe._f?pe._f:{ref:{name:J}},name:J,mount:!0,...ie}}),f.mount.add(J),pe?ue({disabled:Hn(ie.disabled)?ie.disabled:t.disabled,name:J}):R(J,!0,ie.value),{..._e?{disabled:ie.disabled||t.disabled}:{},...t.progressive?{required:!!ie.required,min:wu(ie.min),max:wu(ie.max),minLength:wu(ie.minLength),maxLength:wu(ie.maxLength),pattern:wu(ie.pattern)}:{},name:J,onChange:$,onBlur:$,ref:Te=>{if(Te){ve(J,ie),pe=Re(n,J);const Ce=is(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,De=L8(Ce),We=pe._f.refs||[];if(De?We.find(Ee=>Ee===Ce):Ce===pe._f.ref)return;kt(n,J,{_f:{...pe._f,...De?{refs:[...We.filter(V0),Ce,...Array.isArray(Re(o,J))?[{}]:[]],ref:{type:Ce.type,name:J}}:{ref:Ce}}}),R(J,!1,void 0,Ce)}else pe=Re(n,J,{}),pe._f&&(pe._f.mount=!1),(t.shouldUnregister||ie.shouldUnregister)&&!(n_(f.array,J)&&u.action)&&f.unMount.add(J)}}},$e=()=>t.shouldFocusError&&Lu(n,K,f.mount),St=J=>{Hn(J)&&(j.state.next({disabled:J}),Lu(n,(ie,pe)=>{const _e=Re(n,pe);_e&&(ie.disabled=_e._f.disabled||J,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(Te=>{Te.disabled=_e._f.disabled||J}))},0,!1))},vt=(J,ie)=>async pe=>{let _e;pe&&(pe.preventDefault&&pe.preventDefault(),pe.persist&&pe.persist());let Te=ks(c);if(j.state.next({isSubmitting:!0}),t.resolver){const{errors:Ce,values:De}=await F();T(),s.errors=Ce,Te=ks(De)}else await H(n);if(f.disabled.size)for(const Ce of f.disabled)js(Te,Ce);if(js(s.errors,"root"),fn(s.errors)){j.state.next({errors:{}});try{await J(Te,pe)}catch(Ce){_e=Ce}}else ie&&await ie({...s.errors},pe),$e(),setTimeout($e);if(j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fn(s.errors)&&!_e,submitCount:s.submitCount+1,errors:s.errors}),_e)throw _e},Ut=(J,ie={})=>{Re(n,J)&&(is(ie.defaultValue)?I(J,ks(Re(o,J))):(I(J,ie.defaultValue),kt(o,J,ks(ie.defaultValue))),ie.keepTouched||js(s.touchedFields,J),ie.keepDirty||(js(s.dirtyFields,J),s.isDirty=ie.defaultValue?Z(J,ks(Re(o,J))):Z()),ie.keepError||(js(s.errors,J),v.isValid&&N()),j.state.next({...s}))},ps=(J,ie={})=>{const pe=J?ks(J):o,_e=ks(pe),Te=fn(J),Ce=Te?o:_e;if(ie.keepDefaultValues||(o=pe),!ie.keepValues){if(ie.keepDirtyValues){const De=new Set([...f.mount,...Object.keys(Fl(o,c))]);for(const We of Array.from(De))Re(s.dirtyFields,We)?kt(Ce,We,Re(c,We)):I(We,Re(Ce,We))}else{if(Pb&&is(J))for(const De of f.mount){const We=Re(n,De);if(We&&We._f){const Ee=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(Xm(Ee)){const qe=Ee.closest("form");if(qe){qe.reset();break}}}}if(ie.keepFieldsRef)for(const De of f.mount)I(De,Re(Ce,De));else n={}}c=t.shouldUnregister?ie.keepDefaultValues?ks(o):{}:ks(Ce),j.array.next({values:{...Ce}}),j.state.next({values:{...Ce}})}f={mount:ie.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!ie.keepIsValid||!!ie.keepDirtyValues||!t.shouldUnregister&&!fn(Ce),u.watch=!!t.shouldUnregister,u.keepIsValid=!!ie.keepIsValid,u.action=!1,ie.keepErrors||(s.errors={}),j.state.next({submitCount:ie.keepSubmitCount?s.submitCount:0,isDirty:Te?!1:ie.keepDirty?s.isDirty:!!(ie.keepDefaultValues&&!Ta(J,o)),isSubmitted:ie.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Te?{}:ie.keepDirtyValues?ie.keepDefaultValues&&c?Fl(o,c):s.dirtyFields:ie.keepDefaultValues&&J?Fl(o,J):ie.keepDirty?s.dirtyFields:{},touchedFields:ie.keepTouched?s.touchedFields:{},errors:ie.keepErrors?s.errors:{},isSubmitSuccessful:ie.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},ft=(J,ie)=>ps(hn(J)?J(c):J,{...t.resetOptions,...ie}),os=(J,ie={})=>{const pe=Re(n,J),_e=pe&&pe._f;if(_e){const Te=_e.refs?_e.refs[0]:_e.ref;Te.focus&&setTimeout(()=>{Te.focus(),ie.shouldSelect&&hn(Te.select)&&Te.select()})}},Ct=J=>{s={...s,...J}},Vs={control:{register:ve,unregister:we,getFieldState:L,handleSubmit:vt,setError:ne,_subscribe:Q,_runSchema:F,_updateIsValidating:T,_focusError:$e,_getWatch:ee,_getDirty:Z,_setValid:N,_setFieldArray:E,_setDisabledField:ue,_setErrors:k,_getFieldArray:q,_reset:ps,_resetDefaultValues:()=>hn(t.defaultValues)&&t.defaultValues().then(J=>{ft(J,t.resetOptions),j.state.next({isLoading:!1})}),_removeUnmounted:Y,_disableForm:St,_subjects:j,_proxyFormState:v,get _fields(){return n},get _formValues(){return c},get _state(){return u},set _state(J){u=J},get _defaultValues(){return o},get _names(){return f},set _names(J){f=J},get _formState(){return s},get _options(){return t},set _options(J){t={...t,...J}}},subscribe:W,trigger:V,register:ve,handleSubmit:vt,watch:D,setValue:I,getValues:_,reset:ft,resetField:Ut,clearErrors:G,unregister:we,setError:ne,setFocus:os,getFieldState:L};return{...Vs,formControl:Vs}}function sa(e={}){const t=oe.useRef(void 0),s=oe.useRef(void 0),[n,o]=oe.useState({isDirty:!1,isValidating:!1,isLoading:hn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:hn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!hn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...f}=J8(e);t.current={...f,formState:n}}const c=t.current.control;return c._options=e,qb(()=>{const u=c._subscribe({formState:c._proxyFormState,callback:()=>o({...c._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),c._formState.isReady=!0,u},[c]),oe.useEffect(()=>c._disableForm(e.disabled),[c,e.disabled]),oe.useEffect(()=>{e.mode&&(c._options.mode=e.mode),e.reValidateMode&&(c._options.reValidateMode=e.reValidateMode)},[c,e.mode,e.reValidateMode]),oe.useEffect(()=>{e.errors&&(c._setErrors(e.errors),c._focusError())},[c,e.errors]),oe.useEffect(()=>{e.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,e.shouldUnregister]),oe.useEffect(()=>{if(c._proxyFormState.isDirty){const u=c._getDirty();u!==n.isDirty&&c._subjects.state.next({isDirty:u})}},[c,n.isDirty]),oe.useEffect(()=>{var u;e.values&&!Ta(e.values,s.current)?(c._reset(e.values,{keepFieldsRef:!0,...c._options.resetOptions}),!((u=c._options.resetOptions)===null||u===void 0)&&u.keepIsValid||c._setValid(),s.current=e.values,o(f=>({...f}))):c._resetDefaultValues()},[c,e.values]),oe.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),t.current.formState=r_(n,c),t.current}const QS=(e,t,s)=>{if(e&&"reportValidity"in e){const n=Re(s,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Px=(e,t)=>{for(const s in t.fields){const n=t.fields[s];n&&n.ref&&"reportValidity"in n.ref?QS(n.ref,s,e):n&&n.refs&&n.refs.forEach(o=>QS(o,s,e))}},ZS=(e,t)=>{t.shouldUseNativeValidation&&Px(e,t);const s={};for(const n in e){const o=Re(t.fields,n),c=Object.assign(e[n]||{},{ref:o&&o.ref});if(eF(t.names||Object.keys(e),n)){const u=Object.assign({},Re(s,n));kt(u,"root",c),kt(s,n,u)}else kt(s,n,c)}return s},eF=(e,t)=>{const s=KS(t);return e.some(n=>KS(n).match(`^${s}\\.\\d+`))};function KS(e){return e.replace(/\]|\[/g,"")}function Ne(e,t,s){function n(f,m){if(f._zod||Object.defineProperty(f,"_zod",{value:{def:m,constr:u,traits:new Set},enumerable:!1}),f._zod.traits.has(e))return;f._zod.traits.add(e),t(f,m);const h=u.prototype,x=Object.keys(h);for(let v=0;v<x.length;v++){const y=x[v];y in f||(f[y]=h[y].bind(f))}}const o=s?.Parent??Object;class c extends o{}Object.defineProperty(c,"name",{value:e});function u(f){var m;const h=s?.Parent?new c:this;n(h,f),(m=h._zod).deferred??(m.deferred=[]);for(const x of h._zod.deferred)x();return h}return Object.defineProperty(u,"init",{value:n}),Object.defineProperty(u,Symbol.hasInstance,{value:f=>s?.Parent&&f instanceof s.Parent?!0:f?._zod?.traits?.has(e)}),Object.defineProperty(u,"name",{value:e}),u}class Ql extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class f_ extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const m_={};function Bo(e){return m_}function h_(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,o])=>t.indexOf(+n)===-1).map(([n,o])=>o)}function Ix(e,t){return typeof t=="bigint"?t.toString():t}function Hb(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Gb(e){return e==null}function Qb(e){const t=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(t,s)}const YS=Symbol("evaluating");function zt(e,t,s){let n;Object.defineProperty(e,t,{get(){if(n!==YS)return n===void 0&&(n=YS,n=s()),n},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function Ho(e,t,s){Object.defineProperty(e,t,{value:s,writable:!0,enumerable:!0,configurable:!0})}function ro(...e){const t={};for(const s of e){const n=Object.getOwnPropertyDescriptors(s);Object.assign(t,n)}return Object.defineProperties({},t)}function WS(e){return JSON.stringify(e)}function tF(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const p_="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function eh(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const sF=Hb(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Yu(e){if(eh(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const s=t.prototype;return!(eh(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function g_(e){return Yu(e)?{...e}:Array.isArray(e)?[...e]:e}const nF=new Set(["string","number","symbol"]);function tp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function io(e,t,s){const n=new e._zod.constr(t??e._zod.def);return(!t||s?.parent)&&(n._zod.parent=e),n}function Je(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function aF(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function rF(e,t){const s=e._zod.def,n=s.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const c=ro(e._zod.def,{get shape(){const u={};for(const f in t){if(!(f in s.shape))throw new Error(`Unrecognized key: "${f}"`);t[f]&&(u[f]=s.shape[f])}return Ho(this,"shape",u),u},checks:[]});return io(e,c)}function iF(e,t){const s=e._zod.def,n=s.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const c=ro(e._zod.def,{get shape(){const u={...e._zod.def.shape};for(const f in t){if(!(f in s.shape))throw new Error(`Unrecognized key: "${f}"`);t[f]&&delete u[f]}return Ho(this,"shape",u),u},checks:[]});return io(e,c)}function oF(e,t){if(!Yu(t))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0){const c=e._zod.def.shape;for(const u in t)if(Object.getOwnPropertyDescriptor(c,u)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const o=ro(e._zod.def,{get shape(){const c={...e._zod.def.shape,...t};return Ho(this,"shape",c),c}});return io(e,o)}function lF(e,t){if(!Yu(t))throw new Error("Invalid input to safeExtend: expected a plain object");const s=ro(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Ho(this,"shape",n),n}});return io(e,s)}function cF(e,t){const s=ro(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Ho(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return io(e,s)}function uF(e,t,s){const o=t._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const u=ro(t._zod.def,{get shape(){const f=t._zod.def.shape,m={...f};if(s)for(const h in s){if(!(h in f))throw new Error(`Unrecognized key: "${h}"`);s[h]&&(m[h]=e?new e({type:"optional",innerType:f[h]}):f[h])}else for(const h in f)m[h]=e?new e({type:"optional",innerType:f[h]}):f[h];return Ho(this,"shape",m),m},checks:[]});return io(t,u)}function dF(e,t,s){const n=ro(t._zod.def,{get shape(){const o=t._zod.def.shape,c={...o};if(s)for(const u in s){if(!(u in c))throw new Error(`Unrecognized key: "${u}"`);s[u]&&(c[u]=new e({type:"nonoptional",innerType:o[u]}))}else for(const u in o)c[u]=new e({type:"nonoptional",innerType:o[u]});return Ho(this,"shape",c),c}});return io(t,n)}function Vl(e,t=0){if(e.aborted===!0)return!0;for(let s=t;s<e.issues.length;s++)if(e.issues[s]?.continue!==!0)return!0;return!1}function x_(e,t){return t.map(s=>{var n;return(n=s).path??(n.path=[]),s.path.unshift(e),s})}function rm(e){return typeof e=="string"?e:e?.message}function Vo(e,t,s){const n={...e,path:e.path??[]};if(!e.message){const o=rm(e.inst?._zod.def?.error?.(e))??rm(t?.error?.(e))??rm(s.customError?.(e))??rm(s.localeError?.(e))??"Invalid input";n.message=o}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function Zb(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Wu(...e){const[t,s,n]=e;return typeof t=="string"?{message:t,code:"custom",input:s,inst:n}:{...t}}const b_=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Ix,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Kb=Ne("$ZodError",b_),sp=Ne("$ZodError",b_,{Parent:Error});function fF(e,t=s=>s.message){const s={},n=[];for(const o of e.issues)o.path.length>0?(s[o.path[0]]=s[o.path[0]]||[],s[o.path[0]].push(t(o))):n.push(t(o));return{formErrors:n,fieldErrors:s}}function mF(e,t=s=>s.message){const s={_errors:[]},n=o=>{for(const c of o.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(u=>n({issues:u}));else if(c.code==="invalid_key")n({issues:c.issues});else if(c.code==="invalid_element")n({issues:c.issues});else if(c.path.length===0)s._errors.push(t(c));else{let u=s,f=0;for(;f<c.path.length;){const m=c.path[f];f===c.path.length-1?(u[m]=u[m]||{_errors:[]},u[m]._errors.push(t(c))):u[m]=u[m]||{_errors:[]},u=u[m],f++}}};return n(e),s}const np=e=>(t,s,n,o)=>{const c=n?Object.assign(n,{async:!1}):{async:!1},u=t._zod.run({value:s,issues:[]},c);if(u instanceof Promise)throw new Ql;if(u.issues.length){const f=new(o?.Err??e)(u.issues.map(m=>Vo(m,c,Bo())));throw p_(f,o?.callee),f}return u.value},hF=np(sp),ap=e=>async(t,s,n,o)=>{const c=n?Object.assign(n,{async:!0}):{async:!0};let u=t._zod.run({value:s,issues:[]},c);if(u instanceof Promise&&(u=await u),u.issues.length){const f=new(o?.Err??e)(u.issues.map(m=>Vo(m,c,Bo())));throw p_(f,o?.callee),f}return u.value},pF=ap(sp),rp=e=>(t,s,n)=>{const o=n?{...n,async:!1}:{async:!1},c=t._zod.run({value:s,issues:[]},o);if(c instanceof Promise)throw new Ql;return c.issues.length?{success:!1,error:new(e??Kb)(c.issues.map(u=>Vo(u,o,Bo())))}:{success:!0,data:c.value}},gF=rp(sp),ip=e=>async(t,s,n)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let c=t._zod.run({value:s,issues:[]},o);return c instanceof Promise&&(c=await c),c.issues.length?{success:!1,error:new e(c.issues.map(u=>Vo(u,o,Bo())))}:{success:!0,data:c.value}},xF=ip(sp),bF=e=>(t,s,n)=>{const o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return np(e)(t,s,o)},vF=e=>(t,s,n)=>np(e)(t,s,n),yF=e=>async(t,s,n)=>{const o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return ap(e)(t,s,o)},jF=e=>async(t,s,n)=>ap(e)(t,s,n),wF=e=>(t,s,n)=>{const o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return rp(e)(t,s,o)},SF=e=>(t,s,n)=>rp(e)(t,s,n),NF=e=>async(t,s,n)=>{const o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return ip(e)(t,s,o)},CF=e=>async(t,s,n)=>ip(e)(t,s,n),EF=/^[cC][^\s-]{8,}$/,_F=/^[0-9a-z]+$/,TF=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,OF=/^[0-9a-vA-V]{20}$/,kF=/^[A-Za-z0-9]{27}$/,AF=/^[a-zA-Z0-9_-]{21}$/,MF=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,RF=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,XS=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,DF=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,zF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function $F(){return new RegExp(zF,"u")}const PF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IF=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,FF=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,LF=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qF=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,v_=/^[A-Za-z0-9_-]*$/,UF=/^\+[1-9]\d{6,14}$/,y_="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",BF=new RegExp(`^${y_}$`);function j_(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function VF(e){return new RegExp(`^${j_(e)}$`)}function HF(e){const t=j_({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${s.join("|")})`;return new RegExp(`^${y_}T(?:${n})$`)}const GF=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},QF=/^[^A-Z]*$/,ZF=/^[^a-z]*$/,gr=Ne("$ZodCheck",(e,t)=>{var s;e._zod??(e._zod={}),e._zod.def=t,(s=e._zod).onattach??(s.onattach=[])}),KF=Ne("$ZodCheckMaxLength",(e,t)=>{var s;gr.init(e,t),(s=e._zod.def).when??(s.when=n=>{const o=n.value;return!Gb(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{const o=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const o=n.value;if(o.length<=t.maximum)return;const u=Zb(o);n.issues.push({origin:u,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),YF=Ne("$ZodCheckMinLength",(e,t)=>{var s;gr.init(e,t),(s=e._zod.def).when??(s.when=n=>{const o=n.value;return!Gb(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{const o=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const o=n.value;if(o.length>=t.minimum)return;const u=Zb(o);n.issues.push({origin:u,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),WF=Ne("$ZodCheckLengthEquals",(e,t)=>{var s;gr.init(e,t),(s=e._zod.def).when??(s.when=n=>{const o=n.value;return!Gb(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{const o=n._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=n=>{const o=n.value,c=o.length;if(c===t.length)return;const u=Zb(o),f=c>t.length;n.issues.push({origin:u,...f?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),op=Ne("$ZodCheckStringFormat",(e,t)=>{var s,n;gr.init(e,t),e._zod.onattach.push(o=>{const c=o._zod.bag;c.format=t.format,t.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(t.pattern))}),t.pattern?(s=e._zod).check??(s.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),XF=Ne("$ZodCheckRegex",(e,t)=>{op.init(e,t),e._zod.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),JF=Ne("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=QF),op.init(e,t)}),eL=Ne("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=ZF),op.init(e,t)}),tL=Ne("$ZodCheckIncludes",(e,t)=>{gr.init(e,t);const s=tp(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${s}`:s);t.pattern=n,e._zod.onattach.push(o=>{const c=o._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(n)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),sL=Ne("$ZodCheckStartsWith",(e,t)=>{gr.init(e,t);const s=new RegExp(`^${tp(t.prefix)}.*`);t.pattern??(t.pattern=s),e._zod.onattach.push(n=>{const o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(s)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),nL=Ne("$ZodCheckEndsWith",(e,t)=>{gr.init(e,t);const s=new RegExp(`.*${tp(t.suffix)}$`);t.pattern??(t.pattern=s),e._zod.onattach.push(n=>{const o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(s)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),aL=Ne("$ZodCheckOverwrite",(e,t)=>{gr.init(e,t),e._zod.check=s=>{s.value=t.tx(s.value)}});class rL{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(u=>u),o=Math.min(...n.map(u=>u.length-u.trimStart().length)),c=n.map(u=>u.slice(o)).map(u=>" ".repeat(this.indent*2)+u);for(const u of c)this.content.push(u)}compile(){const t=Function,s=this?.args,o=[...(this?.content??[""]).map(c=>`  ${c}`)];return new t(...s,o.join(`
`))}}const iL={major:4,minor:3,patch:4},zs=Ne("$ZodType",(e,t)=>{var s;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=iL;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const o of n)for(const c of o._zod.onattach)c(e);if(n.length===0)(s=e._zod).deferred??(s.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(u,f,m)=>{let h=Vl(u),x;for(const v of f){if(v._zod.def.when){if(!v._zod.def.when(u))continue}else if(h)continue;const y=u.issues.length,j=v._zod.check(u);if(j instanceof Promise&&m?.async===!1)throw new Ql;if(x||j instanceof Promise)x=(x??Promise.resolve()).then(async()=>{await j,u.issues.length!==y&&(h||(h=Vl(u,y)))});else{if(u.issues.length===y)continue;h||(h=Vl(u,y))}}return x?x.then(()=>u):u},c=(u,f,m)=>{if(Vl(u))return u.aborted=!0,u;const h=o(f,n,m);if(h instanceof Promise){if(m.async===!1)throw new Ql;return h.then(x=>e._zod.parse(x,m))}return e._zod.parse(h,m)};e._zod.run=(u,f)=>{if(f.skipChecks)return e._zod.parse(u,f);if(f.direction==="backward"){const h=e._zod.parse({value:u.value,issues:[]},{...f,skipChecks:!0});return h instanceof Promise?h.then(x=>c(x,u,f)):c(h,u,f)}const m=e._zod.parse(u,f);if(m instanceof Promise){if(f.async===!1)throw new Ql;return m.then(h=>o(h,n,f))}return o(m,n,f)}}zt(e,"~standard",()=>({validate:o=>{try{const c=gF(e,o);return c.success?{value:c.data}:{issues:c.error?.issues}}catch{return xF(e,o).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}))}),Yb=Ne("$ZodString",(e,t)=>{zs.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??GF(e._zod.bag),e._zod.parse=(s,n)=>{if(t.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),Xt=Ne("$ZodStringFormat",(e,t)=>{op.init(e,t),Yb.init(e,t)}),oL=Ne("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=RF),Xt.init(e,t)}),lL=Ne("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=XS(n))}else t.pattern??(t.pattern=XS());Xt.init(e,t)}),cL=Ne("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=DF),Xt.init(e,t)}),uL=Ne("$ZodURL",(e,t)=>{Xt.init(e,t),e._zod.check=s=>{try{const n=s.value.trim(),o=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:s.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:s.value,inst:e,continue:!t.abort})),t.normalize?s.value=o.href:s.value=n;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!t.abort})}}}),dL=Ne("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=$F()),Xt.init(e,t)}),fL=Ne("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=AF),Xt.init(e,t)}),mL=Ne("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=EF),Xt.init(e,t)}),hL=Ne("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=_F),Xt.init(e,t)}),pL=Ne("$ZodULID",(e,t)=>{t.pattern??(t.pattern=TF),Xt.init(e,t)}),gL=Ne("$ZodXID",(e,t)=>{t.pattern??(t.pattern=OF),Xt.init(e,t)}),xL=Ne("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=kF),Xt.init(e,t)}),bL=Ne("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=HF(t)),Xt.init(e,t)}),vL=Ne("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=BF),Xt.init(e,t)}),yL=Ne("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=VF(t)),Xt.init(e,t)}),jL=Ne("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=MF),Xt.init(e,t)}),wL=Ne("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=PF),Xt.init(e,t),e._zod.bag.format="ipv4"}),SL=Ne("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=IF),Xt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!t.abort})}}}),NL=Ne("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=FF),Xt.init(e,t)}),CL=Ne("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=LF),Xt.init(e,t),e._zod.check=s=>{const n=s.value.split("/");try{if(n.length!==2)throw new Error;const[o,c]=n;if(!c)throw new Error;const u=Number(c);if(`${u}`!==c)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${o}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!t.abort})}}});function w_(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const EL=Ne("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=qF),Xt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=s=>{w_(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!t.abort})}});function _L(e){if(!v_.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),s=t.padEnd(Math.ceil(t.length/4)*4,"=");return w_(s)}const TL=Ne("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=v_),Xt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=s=>{_L(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!t.abort})}}),OL=Ne("$ZodE164",(e,t)=>{t.pattern??(t.pattern=UF),Xt.init(e,t)});function kL(e,t=null){try{const s=e.split(".");if(s.length!==3)return!1;const[n]=s;if(!n)return!1;const o=JSON.parse(atob(n));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const AL=Ne("$ZodJWT",(e,t)=>{Xt.init(e,t),e._zod.check=s=>{kL(s.value,t.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!t.abort})}}),ML=Ne("$ZodUnknown",(e,t)=>{zs.init(e,t),e._zod.parse=s=>s}),RL=Ne("$ZodNever",(e,t)=>{zs.init(e,t),e._zod.parse=(s,n)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function JS(e,t,s){e.issues.length&&t.issues.push(...x_(s,e.issues)),t.value[s]=e.value}const DL=Ne("$ZodArray",(e,t)=>{zs.init(e,t),e._zod.parse=(s,n)=>{const o=s.value;if(!Array.isArray(o))return s.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),s;s.value=Array(o.length);const c=[];for(let u=0;u<o.length;u++){const f=o[u],m=t.element._zod.run({value:f,issues:[]},n);m instanceof Promise?c.push(m.then(h=>JS(h,s,u))):JS(m,s,u)}return c.length?Promise.all(c).then(()=>s):s}});function th(e,t,s,n,o){if(e.issues.length){if(o&&!(s in n))return;t.issues.push(...x_(s,e.issues))}e.value===void 0?s in n&&(t.value[s]=void 0):t.value[s]=e.value}function S_(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const s=aF(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(s)}}function N_(e,t,s,n,o,c){const u=[],f=o.keySet,m=o.catchall._zod,h=m.def.type,x=m.optout==="optional";for(const v in t){if(f.has(v))continue;if(h==="never"){u.push(v);continue}const y=m.run({value:t[v],issues:[]},n);y instanceof Promise?e.push(y.then(j=>th(j,s,v,t,x))):th(y,s,v,t,x)}return u.length&&s.issues.push({code:"unrecognized_keys",keys:u,input:t,inst:c}),e.length?Promise.all(e).then(()=>s):s}const zL=Ne("$ZodObject",(e,t)=>{if(zs.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const f=t.shape;Object.defineProperty(t,"shape",{get:()=>{const m={...f};return Object.defineProperty(t,"shape",{value:m}),m}})}const n=Hb(()=>S_(t));zt(e._zod,"propValues",()=>{const f=t.shape,m={};for(const h in f){const x=f[h]._zod;if(x.values){m[h]??(m[h]=new Set);for(const v of x.values)m[h].add(v)}}return m});const o=eh,c=t.catchall;let u;e._zod.parse=(f,m)=>{u??(u=n.value);const h=f.value;if(!o(h))return f.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),f;f.value={};const x=[],v=u.shape;for(const y of u.keys){const j=v[y],w=j._zod.optout==="optional",S=j._zod.run({value:h[y],issues:[]},m);S instanceof Promise?x.push(S.then(N=>th(N,f,y,h,w))):th(S,f,y,h,w)}return c?N_(x,h,f,m,n.value,e):x.length?Promise.all(x).then(()=>f):f}}),$L=Ne("$ZodObjectJIT",(e,t)=>{zL.init(e,t);const s=e._zod.parse,n=Hb(()=>S_(t)),o=y=>{const j=new rL(["shape","payload","ctx"]),w=n.value,S=O=>{const k=WS(O);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};j.write("const input = payload.value;");const N=Object.create(null);let T=0;for(const O of w.keys)N[O]=`key_${T++}`;j.write("const newResult = {};");for(const O of w.keys){const k=N[O],R=WS(O),z=y[O]?._zod?.optout==="optional";j.write(`const ${k} = ${S(O)};`),z?j.write(`
        if (${k}.issues.length) {
          if (${R} in input) {
            payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${R}, ...iss.path] : [${R}]
            })));
          }
        }
        
        if (${k}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${k}.value;
        }
        
      `):j.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${R}, ...iss.path] : [${R}]
          })));
        }
        
        if (${k}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${k}.value;
        }
        
      `)}j.write("payload.value = newResult;"),j.write("return payload;");const E=j.compile();return(O,k)=>E(y,O,k)};let c;const u=eh,f=!m_.jitless,h=f&&sF.value,x=t.catchall;let v;e._zod.parse=(y,j)=>{v??(v=n.value);const w=y.value;return u(w)?f&&h&&j?.async===!1&&j.jitless!==!0?(c||(c=o(t.shape)),y=c(y,j),x?N_([],w,y,j,v,e):y):s(y,j):(y.issues.push({expected:"object",code:"invalid_type",input:w,inst:e}),y)}});function eN(e,t,s,n){for(const c of e)if(c.issues.length===0)return t.value=c.value,t;const o=e.filter(c=>!Vl(c));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:s,errors:e.map(c=>c.issues.map(u=>Vo(u,n,Bo())))}),t)}const PL=Ne("$ZodUnion",(e,t)=>{zs.init(e,t),zt(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),zt(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),zt(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),zt(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(c=>c._zod.pattern);return new RegExp(`^(${o.map(c=>Qb(c.source)).join("|")})$`)}});const s=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(o,c)=>{if(s)return n(o,c);let u=!1;const f=[];for(const m of t.options){const h=m._zod.run({value:o.value,issues:[]},c);if(h instanceof Promise)f.push(h),u=!0;else{if(h.issues.length===0)return h;f.push(h)}}return u?Promise.all(f).then(m=>eN(m,o,e,c)):eN(f,o,e,c)}}),IL=Ne("$ZodIntersection",(e,t)=>{zs.init(e,t),e._zod.parse=(s,n)=>{const o=s.value,c=t.left._zod.run({value:o,issues:[]},n),u=t.right._zod.run({value:o,issues:[]},n);return c instanceof Promise||u instanceof Promise?Promise.all([c,u]).then(([m,h])=>tN(s,m,h)):tN(s,c,u)}});function Fx(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Yu(e)&&Yu(t)){const s=Object.keys(t),n=Object.keys(e).filter(c=>s.indexOf(c)!==-1),o={...e,...t};for(const c of n){const u=Fx(e[c],t[c]);if(!u.valid)return{valid:!1,mergeErrorPath:[c,...u.mergeErrorPath]};o[c]=u.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let n=0;n<e.length;n++){const o=e[n],c=t[n],u=Fx(o,c);if(!u.valid)return{valid:!1,mergeErrorPath:[n,...u.mergeErrorPath]};s.push(u.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function tN(e,t,s){const n=new Map;let o;for(const f of t.issues)if(f.code==="unrecognized_keys"){o??(o=f);for(const m of f.keys)n.has(m)||n.set(m,{}),n.get(m).l=!0}else e.issues.push(f);for(const f of s.issues)if(f.code==="unrecognized_keys")for(const m of f.keys)n.has(m)||n.set(m,{}),n.get(m).r=!0;else e.issues.push(f);const c=[...n].filter(([,f])=>f.l&&f.r).map(([f])=>f);if(c.length&&o&&e.issues.push({...o,keys:c}),Vl(e))return e;const u=Fx(t.value,s.value);if(!u.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(u.mergeErrorPath)}`);return e.value=u.data,e}const FL=Ne("$ZodEnum",(e,t)=>{zs.init(e,t);const s=h_(t.entries),n=new Set(s);e._zod.values=n,e._zod.pattern=new RegExp(`^(${s.filter(o=>nF.has(typeof o)).map(o=>typeof o=="string"?tp(o):o.toString()).join("|")})$`),e._zod.parse=(o,c)=>{const u=o.value;return n.has(u)||o.issues.push({code:"invalid_value",values:s,input:u,inst:e}),o}}),LL=Ne("$ZodTransform",(e,t)=>{zs.init(e,t),e._zod.parse=(s,n)=>{if(n.direction==="backward")throw new f_(e.constructor.name);const o=t.transform(s.value,s);if(n.async)return(o instanceof Promise?o:Promise.resolve(o)).then(u=>(s.value=u,s));if(o instanceof Promise)throw new Ql;return s.value=o,s}});function sN(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const C_=Ne("$ZodOptional",(e,t)=>{zs.init(e,t),e._zod.optin="optional",e._zod.optout="optional",zt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),zt(e._zod,"pattern",()=>{const s=t.innerType._zod.pattern;return s?new RegExp(`^(${Qb(s.source)})?$`):void 0}),e._zod.parse=(s,n)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(s,n);return o instanceof Promise?o.then(c=>sN(c,s.value)):sN(o,s.value)}return s.value===void 0?s:t.innerType._zod.run(s,n)}}),qL=Ne("$ZodExactOptional",(e,t)=>{C_.init(e,t),zt(e._zod,"values",()=>t.innerType._zod.values),zt(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(s,n)=>t.innerType._zod.run(s,n)}),UL=Ne("$ZodNullable",(e,t)=>{zs.init(e,t),zt(e._zod,"optin",()=>t.innerType._zod.optin),zt(e._zod,"optout",()=>t.innerType._zod.optout),zt(e._zod,"pattern",()=>{const s=t.innerType._zod.pattern;return s?new RegExp(`^(${Qb(s.source)}|null)$`):void 0}),zt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(s,n)=>s.value===null?s:t.innerType._zod.run(s,n)}),BL=Ne("$ZodDefault",(e,t)=>{zs.init(e,t),e._zod.optin="optional",zt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(s,n)=>{if(n.direction==="backward")return t.innerType._zod.run(s,n);if(s.value===void 0)return s.value=t.defaultValue,s;const o=t.innerType._zod.run(s,n);return o instanceof Promise?o.then(c=>nN(c,t)):nN(o,t)}});function nN(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const VL=Ne("$ZodPrefault",(e,t)=>{zs.init(e,t),e._zod.optin="optional",zt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(s,n)=>(n.direction==="backward"||s.value===void 0&&(s.value=t.defaultValue),t.innerType._zod.run(s,n))}),HL=Ne("$ZodNonOptional",(e,t)=>{zs.init(e,t),zt(e._zod,"values",()=>{const s=t.innerType._zod.values;return s?new Set([...s].filter(n=>n!==void 0)):void 0}),e._zod.parse=(s,n)=>{const o=t.innerType._zod.run(s,n);return o instanceof Promise?o.then(c=>aN(c,e)):aN(o,e)}});function aN(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const GL=Ne("$ZodCatch",(e,t)=>{zs.init(e,t),zt(e._zod,"optin",()=>t.innerType._zod.optin),zt(e._zod,"optout",()=>t.innerType._zod.optout),zt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(s,n)=>{if(n.direction==="backward")return t.innerType._zod.run(s,n);const o=t.innerType._zod.run(s,n);return o instanceof Promise?o.then(c=>(s.value=c.value,c.issues.length&&(s.value=t.catchValue({...s,error:{issues:c.issues.map(u=>Vo(u,n,Bo()))},input:s.value}),s.issues=[]),s)):(s.value=o.value,o.issues.length&&(s.value=t.catchValue({...s,error:{issues:o.issues.map(c=>Vo(c,n,Bo()))},input:s.value}),s.issues=[]),s)}}),QL=Ne("$ZodPipe",(e,t)=>{zs.init(e,t),zt(e._zod,"values",()=>t.in._zod.values),zt(e._zod,"optin",()=>t.in._zod.optin),zt(e._zod,"optout",()=>t.out._zod.optout),zt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(s,n)=>{if(n.direction==="backward"){const c=t.out._zod.run(s,n);return c instanceof Promise?c.then(u=>im(u,t.in,n)):im(c,t.in,n)}const o=t.in._zod.run(s,n);return o instanceof Promise?o.then(c=>im(c,t.out,n)):im(o,t.out,n)}});function im(e,t,s){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},s)}const ZL=Ne("$ZodReadonly",(e,t)=>{zs.init(e,t),zt(e._zod,"propValues",()=>t.innerType._zod.propValues),zt(e._zod,"values",()=>t.innerType._zod.values),zt(e._zod,"optin",()=>t.innerType?._zod?.optin),zt(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(s,n)=>{if(n.direction==="backward")return t.innerType._zod.run(s,n);const o=t.innerType._zod.run(s,n);return o instanceof Promise?o.then(rN):rN(o)}});function rN(e){return e.value=Object.freeze(e.value),e}const KL=Ne("$ZodCustom",(e,t)=>{gr.init(e,t),zs.init(e,t),e._zod.parse=(s,n)=>s,e._zod.check=s=>{const n=s.value,o=t.fn(n);if(o instanceof Promise)return o.then(c=>iN(c,s,n,e));iN(o,s,n,e)}});function iN(e,t,s,n){if(!e){const o={code:"custom",input:s,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(o.params=n._zod.def.params),t.issues.push(Wu(o))}}var oN;class YL{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...s){const n=s[0];return this._map.set(t,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const s=this._map.get(t);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(t),this}get(t){const s=t._zod.parent;if(s){const n={...this.get(s)??{}};delete n.id;const o={...n,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function WL(){return new YL}(oN=globalThis).__zod_globalRegistry??(oN.__zod_globalRegistry=WL());const Mu=globalThis.__zod_globalRegistry;function XL(e,t){return new e({type:"string",...Je(t)})}function JL(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Je(t)})}function lN(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Je(t)})}function e7(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Je(t)})}function t7(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Je(t)})}function s7(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Je(t)})}function n7(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Je(t)})}function a7(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Je(t)})}function r7(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Je(t)})}function i7(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Je(t)})}function o7(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Je(t)})}function l7(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Je(t)})}function c7(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Je(t)})}function u7(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Je(t)})}function d7(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Je(t)})}function f7(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Je(t)})}function m7(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Je(t)})}function h7(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Je(t)})}function p7(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Je(t)})}function g7(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Je(t)})}function x7(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Je(t)})}function b7(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Je(t)})}function v7(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Je(t)})}function y7(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Je(t)})}function j7(e,t){return new e({type:"string",format:"date",check:"string_format",...Je(t)})}function w7(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Je(t)})}function S7(e,t){return new e({type:"string",format:"duration",check:"string_format",...Je(t)})}function N7(e){return new e({type:"unknown"})}function C7(e,t){return new e({type:"never",...Je(t)})}function E_(e,t){return new KF({check:"max_length",...Je(t),maximum:e})}function sh(e,t){return new YF({check:"min_length",...Je(t),minimum:e})}function __(e,t){return new WF({check:"length_equals",...Je(t),length:e})}function E7(e,t){return new XF({check:"string_format",format:"regex",...Je(t),pattern:e})}function _7(e){return new JF({check:"string_format",format:"lowercase",...Je(e)})}function T7(e){return new eL({check:"string_format",format:"uppercase",...Je(e)})}function O7(e,t){return new tL({check:"string_format",format:"includes",...Je(t),includes:e})}function k7(e,t){return new sL({check:"string_format",format:"starts_with",...Je(t),prefix:e})}function A7(e,t){return new nL({check:"string_format",format:"ends_with",...Je(t),suffix:e})}function vc(e){return new aL({check:"overwrite",tx:e})}function M7(e){return vc(t=>t.normalize(e))}function R7(){return vc(e=>e.trim())}function D7(){return vc(e=>e.toLowerCase())}function z7(){return vc(e=>e.toUpperCase())}function $7(){return vc(e=>tF(e))}function P7(e,t,s){return new e({type:"array",element:t,...Je(s)})}function I7(e,t,s){return new e({type:"custom",check:"custom",fn:t,...Je(s)})}function F7(e){const t=L7(s=>(s.addIssue=n=>{if(typeof n=="string")s.issues.push(Wu(n,s.value,t._zod.def));else{const o=n;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=s.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),s.issues.push(Wu(o))}},e(s.value,s)));return t}function L7(e,t){const s=new gr({check:"custom",...Je(t)});return s._zod.check=e,s}function T_(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??Mu,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Ws(e,t,s={path:[],schemaPath:[]}){var n;const o=e._zod.def,c=t.seen.get(e);if(c)return c.count++,s.schemaPath.includes(e)&&(c.cycle=s.path),c.schema;const u={schema:{},count:1,cycle:void 0,path:s.path};t.seen.set(e,u);const f=e._zod.toJSONSchema?.();if(f)u.schema=f;else{const x={...s,schemaPath:[...s.schemaPath,e],path:s.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,u.schema,x);else{const y=u.schema,j=t.processors[o.type];if(!j)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);j(e,t,y,x)}const v=e._zod.parent;v&&(u.ref||(u.ref=v),Ws(v,t,x),t.seen.get(v).isParent=!0)}const m=t.metadataRegistry.get(e);return m&&Object.assign(u.schema,m),t.io==="input"&&dn(e)&&(delete u.schema.examples,delete u.schema.default),t.io==="input"&&u.schema._prefault&&((n=u.schema).default??(n.default=u.schema._prefault)),delete u.schema._prefault,t.seen.get(e).schema}function O_(e,t){const s=e.seen.get(t);if(!s)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=new Map;for(const u of e.seen.entries()){const f=e.metadataRegistry.get(u[0])?.id;if(f){const m=n.get(f);if(m&&m!==u[0])throw new Error(`Duplicate schema id "${f}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(f,u[0])}}const o=u=>{const f=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const v=e.external.registry.get(u[0])?.id,y=e.external.uri??(w=>w);if(v)return{ref:y(v)};const j=u[1].defId??u[1].schema.id??`schema${e.counter++}`;return u[1].defId=j,{defId:j,ref:`${y("__shared")}#/${f}/${j}`}}if(u[1]===s)return{ref:"#"};const h=`#/${f}/`,x=u[1].schema.id??`__schema${e.counter++}`;return{defId:x,ref:h+x}},c=u=>{if(u[1].schema.$ref)return;const f=u[1],{ref:m,defId:h}=o(u);f.def={...f.schema},h&&(f.defId=h);const x=f.schema;for(const v in x)delete x[v];x.$ref=m};if(e.cycles==="throw")for(const u of e.seen.entries()){const f=u[1];if(f.cycle)throw new Error(`Cycle detected: #/${f.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const u of e.seen.entries()){const f=u[1];if(t===u[0]){c(u);continue}if(e.external){const h=e.external.registry.get(u[0])?.id;if(t!==u[0]&&h){c(u);continue}}if(e.metadataRegistry.get(u[0])?.id){c(u);continue}if(f.cycle){c(u);continue}if(f.count>1&&e.reused==="ref"){c(u);continue}}}function k_(e,t){const s=e.seen.get(t);if(!s)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=u=>{const f=e.seen.get(u);if(f.ref===null)return;const m=f.def??f.schema,h={...m},x=f.ref;if(f.ref=null,x){n(x);const y=e.seen.get(x),j=y.schema;if(j.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(j)):Object.assign(m,j),Object.assign(m,h),u._zod.parent===x)for(const S in m)S==="$ref"||S==="allOf"||S in h||delete m[S];if(j.$ref)for(const S in m)S==="$ref"||S==="allOf"||S in y.def&&JSON.stringify(m[S])===JSON.stringify(y.def[S])&&delete m[S]}const v=u._zod.parent;if(v&&v!==x){n(v);const y=e.seen.get(v);if(y?.schema.$ref&&(m.$ref=y.schema.$ref,y.def))for(const j in m)j==="$ref"||j==="allOf"||j in y.def&&JSON.stringify(m[j])===JSON.stringify(y.def[j])&&delete m[j]}e.override({zodSchema:u,jsonSchema:m,path:f.path??[]})};for(const u of[...e.seen.entries()].reverse())n(u[0]);const o={};if(e.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const u=e.external.registry.get(t)?.id;if(!u)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(u)}Object.assign(o,s.def??s.schema);const c=e.external?.defs??{};for(const u of e.seen.entries()){const f=u[1];f.def&&f.defId&&(c[f.defId]=f.def)}e.external||Object.keys(c).length>0&&(e.target==="draft-2020-12"?o.$defs=c:o.definitions=c);try{const u=JSON.parse(JSON.stringify(o));return Object.defineProperty(u,"~standard",{value:{...t["~standard"],jsonSchema:{input:nh(t,"input",e.processors),output:nh(t,"output",e.processors)}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function dn(e,t){const s=t??{seen:new Set};if(s.seen.has(e))return!1;s.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return dn(n.element,s);if(n.type==="set")return dn(n.valueType,s);if(n.type==="lazy")return dn(n.getter(),s);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return dn(n.innerType,s);if(n.type==="intersection")return dn(n.left,s)||dn(n.right,s);if(n.type==="record"||n.type==="map")return dn(n.keyType,s)||dn(n.valueType,s);if(n.type==="pipe")return dn(n.in,s)||dn(n.out,s);if(n.type==="object"){for(const o in n.shape)if(dn(n.shape[o],s))return!0;return!1}if(n.type==="union"){for(const o of n.options)if(dn(o,s))return!0;return!1}if(n.type==="tuple"){for(const o of n.items)if(dn(o,s))return!0;return!!(n.rest&&dn(n.rest,s))}return!1}const q7=(e,t={})=>s=>{const n=T_({...s,processors:t});return Ws(e,n),O_(n,e),k_(n,e)},nh=(e,t,s={})=>n=>{const{libraryOptions:o,target:c}=n??{},u=T_({...o??{},target:c,io:t,processors:s});return Ws(e,u),O_(u,e),k_(u,e)},U7={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},B7=(e,t,s,n)=>{const o=s;o.type="string";const{minimum:c,maximum:u,format:f,patterns:m,contentEncoding:h}=e._zod.bag;if(typeof c=="number"&&(o.minLength=c),typeof u=="number"&&(o.maxLength=u),f&&(o.format=U7[f]??f,o.format===""&&delete o.format,f==="time"&&delete o.format),h&&(o.contentEncoding=h),m&&m.size>0){const x=[...m];x.length===1?o.pattern=x[0].source:x.length>1&&(o.allOf=[...x.map(v=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:v.source}))])}},V7=(e,t,s,n)=>{s.not={}},H7=(e,t,s,n)=>{},G7=(e,t,s,n)=>{const o=e._zod.def,c=h_(o.entries);c.every(u=>typeof u=="number")&&(s.type="number"),c.every(u=>typeof u=="string")&&(s.type="string"),s.enum=c},Q7=(e,t,s,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Z7=(e,t,s,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},K7=(e,t,s,n)=>{const o=s,c=e._zod.def,{minimum:u,maximum:f}=e._zod.bag;typeof u=="number"&&(o.minItems=u),typeof f=="number"&&(o.maxItems=f),o.type="array",o.items=Ws(c.element,t,{...n,path:[...n.path,"items"]})},Y7=(e,t,s,n)=>{const o=s,c=e._zod.def;o.type="object",o.properties={};const u=c.shape;for(const h in u)o.properties[h]=Ws(u[h],t,{...n,path:[...n.path,"properties",h]});const f=new Set(Object.keys(u)),m=new Set([...f].filter(h=>{const x=c.shape[h]._zod;return t.io==="input"?x.optin===void 0:x.optout===void 0}));m.size>0&&(o.required=Array.from(m)),c.catchall?._zod.def.type==="never"?o.additionalProperties=!1:c.catchall?c.catchall&&(o.additionalProperties=Ws(c.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(o.additionalProperties=!1)},W7=(e,t,s,n)=>{const o=e._zod.def,c=o.inclusive===!1,u=o.options.map((f,m)=>Ws(f,t,{...n,path:[...n.path,c?"oneOf":"anyOf",m]}));c?s.oneOf=u:s.anyOf=u},X7=(e,t,s,n)=>{const o=e._zod.def,c=Ws(o.left,t,{...n,path:[...n.path,"allOf",0]}),u=Ws(o.right,t,{...n,path:[...n.path,"allOf",1]}),f=h=>"allOf"in h&&Object.keys(h).length===1,m=[...f(c)?c.allOf:[c],...f(u)?u.allOf:[u]];s.allOf=m},J7=(e,t,s,n)=>{const o=e._zod.def,c=Ws(o.innerType,t,n),u=t.seen.get(e);t.target==="openapi-3.0"?(u.ref=o.innerType,s.nullable=!0):s.anyOf=[c,{type:"null"}]},e9=(e,t,s,n)=>{const o=e._zod.def;Ws(o.innerType,t,n);const c=t.seen.get(e);c.ref=o.innerType},t9=(e,t,s,n)=>{const o=e._zod.def;Ws(o.innerType,t,n);const c=t.seen.get(e);c.ref=o.innerType,s.default=JSON.parse(JSON.stringify(o.defaultValue))},s9=(e,t,s,n)=>{const o=e._zod.def;Ws(o.innerType,t,n);const c=t.seen.get(e);c.ref=o.innerType,t.io==="input"&&(s._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},n9=(e,t,s,n)=>{const o=e._zod.def;Ws(o.innerType,t,n);const c=t.seen.get(e);c.ref=o.innerType;let u;try{u=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}s.default=u},a9=(e,t,s,n)=>{const o=e._zod.def,c=t.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;Ws(c,t,n);const u=t.seen.get(e);u.ref=c},r9=(e,t,s,n)=>{const o=e._zod.def;Ws(o.innerType,t,n);const c=t.seen.get(e);c.ref=o.innerType,s.readOnly=!0},A_=(e,t,s,n)=>{const o=e._zod.def;Ws(o.innerType,t,n);const c=t.seen.get(e);c.ref=o.innerType};function cN(e,t){try{var s=e()}catch(n){return t(n)}return s&&s.then?s.then(void 0,t):s}function i9(e,t){for(var s={};e.length;){var n=e[0],o=n.code,c=n.message,u=n.path.join(".");if(!s[u])if("unionErrors"in n){var f=n.unionErrors[0].errors[0];s[u]={message:f.message,type:f.code}}else s[u]={message:c,type:o};if("unionErrors"in n&&n.unionErrors.forEach(function(x){return x.errors.forEach(function(v){return e.push(v)})}),t){var m=s[u].types,h=m&&m[n.code];s[u]=Ub(u,t,s,o,h?[].concat(h,n.message):n.message)}e.shift()}return s}function o9(e,t){for(var s={};e.length;){var n=e[0],o=n.code,c=n.message,u=n.path.join(".");if(!s[u])if(n.code==="invalid_union"&&n.errors.length>0){var f=n.errors[0][0];s[u]={message:f.message,type:f.code}}else s[u]={message:c,type:o};if(n.code==="invalid_union"&&n.errors.forEach(function(x){return x.forEach(function(v){return e.push(v)})}),t){var m=s[u].types,h=m&&m[n.code];s[u]=Ub(u,t,s,o,h?[].concat(h,n.message):n.message)}e.shift()}return s}function M_(e,t,s){if(s===void 0&&(s={}),(function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def})(e))return function(n,o,c){try{return Promise.resolve(cN(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return c.shouldUseNativeValidation&&Px({},c),{errors:{},values:s.raw?Object.assign({},n):u}})},function(u){if((function(f){return Array.isArray(f?.issues)})(u))return{values:{},errors:ZS(i9(u.errors,!c.shouldUseNativeValidation&&c.criteriaMode==="all"),c)};throw u}))}catch(u){return Promise.reject(u)}};if((function(n){return"_zod"in n&&typeof n._zod=="object"})(e))return function(n,o,c){try{return Promise.resolve(cN(function(){return Promise.resolve((s.mode==="sync"?hF:pF)(e,n,t)).then(function(u){return c.shouldUseNativeValidation&&Px({},c),{errors:{},values:s.raw?Object.assign({},n):u}})},function(u){if((function(f){return f instanceof Kb})(u))return{values:{},errors:ZS(o9(u.issues,!c.shouldUseNativeValidation&&c.criteriaMode==="all"),c)};throw u}))}catch(u){return Promise.reject(u)}};throw new Error("Invalid input: not a Zod schema")}const l9=Ne("ZodISODateTime",(e,t)=>{bL.init(e,t),ns.init(e,t)});function c9(e){return y7(l9,e)}const u9=Ne("ZodISODate",(e,t)=>{vL.init(e,t),ns.init(e,t)});function d9(e){return j7(u9,e)}const f9=Ne("ZodISOTime",(e,t)=>{yL.init(e,t),ns.init(e,t)});function m9(e){return w7(f9,e)}const h9=Ne("ZodISODuration",(e,t)=>{jL.init(e,t),ns.init(e,t)});function p9(e){return S7(h9,e)}const g9=(e,t)=>{Kb.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>mF(e,s)},flatten:{value:s=>fF(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,Ix,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,Ix,2)}},isEmpty:{get(){return e.issues.length===0}}})},ya=Ne("ZodError",g9,{Parent:Error}),x9=np(ya),b9=ap(ya),v9=rp(ya),y9=ip(ya),j9=bF(ya),w9=vF(ya),S9=yF(ya),N9=jF(ya),C9=wF(ya),E9=SF(ya),_9=NF(ya),T9=CF(ya),$s=Ne("ZodType",(e,t)=>(zs.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:nh(e,"input"),output:nh(e,"output")}}),e.toJSONSchema=q7(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...s)=>e.clone(ro(t,{checks:[...t.checks??[],...s.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),e.with=e.check,e.clone=(s,n)=>io(e,s,n),e.brand=()=>e,e.register=((s,n)=>(s.add(e,n),e)),e.parse=(s,n)=>x9(e,s,n,{callee:e.parse}),e.safeParse=(s,n)=>v9(e,s,n),e.parseAsync=async(s,n)=>b9(e,s,n,{callee:e.parseAsync}),e.safeParseAsync=async(s,n)=>y9(e,s,n),e.spa=e.safeParseAsync,e.encode=(s,n)=>j9(e,s,n),e.decode=(s,n)=>w9(e,s,n),e.encodeAsync=async(s,n)=>S9(e,s,n),e.decodeAsync=async(s,n)=>N9(e,s,n),e.safeEncode=(s,n)=>C9(e,s,n),e.safeDecode=(s,n)=>E9(e,s,n),e.safeEncodeAsync=async(s,n)=>_9(e,s,n),e.safeDecodeAsync=async(s,n)=>T9(e,s,n),e.refine=(s,n)=>e.check(yq(s,n)),e.superRefine=s=>e.check(jq(s)),e.overwrite=s=>e.check(vc(s)),e.optional=()=>fN(e),e.exactOptional=()=>oq(e),e.nullable=()=>mN(e),e.nullish=()=>fN(mN(e)),e.nonoptional=s=>mq(e,s),e.array=()=>W9(e),e.or=s=>eq([e,s]),e.and=s=>sq(e,s),e.transform=s=>hN(e,rq(s)),e.default=s=>uq(e,s),e.prefault=s=>fq(e,s),e.catch=s=>pq(e,s),e.pipe=s=>hN(e,s),e.readonly=()=>bq(e),e.describe=s=>{const n=e.clone();return Mu.add(n,{description:s}),n},Object.defineProperty(e,"description",{get(){return Mu.get(e)?.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return Mu.get(e);const n=e.clone();return Mu.add(n,s[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=s=>s(e),e)),R_=Ne("_ZodString",(e,t)=>{Yb.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(n,o,c)=>B7(e,n,o);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...n)=>e.check(E7(...n)),e.includes=(...n)=>e.check(O7(...n)),e.startsWith=(...n)=>e.check(k7(...n)),e.endsWith=(...n)=>e.check(A7(...n)),e.min=(...n)=>e.check(sh(...n)),e.max=(...n)=>e.check(E_(...n)),e.length=(...n)=>e.check(__(...n)),e.nonempty=(...n)=>e.check(sh(1,...n)),e.lowercase=n=>e.check(_7(n)),e.uppercase=n=>e.check(T7(n)),e.trim=()=>e.check(R7()),e.normalize=(...n)=>e.check(M7(...n)),e.toLowerCase=()=>e.check(D7()),e.toUpperCase=()=>e.check(z7()),e.slugify=()=>e.check($7())}),O9=Ne("ZodString",(e,t)=>{Yb.init(e,t),R_.init(e,t),e.email=s=>e.check(JL(k9,s)),e.url=s=>e.check(a7(A9,s)),e.jwt=s=>e.check(v7(G9,s)),e.emoji=s=>e.check(r7(M9,s)),e.guid=s=>e.check(lN(uN,s)),e.uuid=s=>e.check(e7(om,s)),e.uuidv4=s=>e.check(t7(om,s)),e.uuidv6=s=>e.check(s7(om,s)),e.uuidv7=s=>e.check(n7(om,s)),e.nanoid=s=>e.check(i7(R9,s)),e.guid=s=>e.check(lN(uN,s)),e.cuid=s=>e.check(o7(D9,s)),e.cuid2=s=>e.check(l7(z9,s)),e.ulid=s=>e.check(c7($9,s)),e.base64=s=>e.check(g7(B9,s)),e.base64url=s=>e.check(x7(V9,s)),e.xid=s=>e.check(u7(P9,s)),e.ksuid=s=>e.check(d7(I9,s)),e.ipv4=s=>e.check(f7(F9,s)),e.ipv6=s=>e.check(m7(L9,s)),e.cidrv4=s=>e.check(h7(q9,s)),e.cidrv6=s=>e.check(p7(U9,s)),e.e164=s=>e.check(b7(H9,s)),e.datetime=s=>e.check(c9(s)),e.date=s=>e.check(d9(s)),e.time=s=>e.check(m9(s)),e.duration=s=>e.check(p9(s))});function Lx(e){return XL(O9,e)}const ns=Ne("ZodStringFormat",(e,t)=>{Xt.init(e,t),R_.init(e,t)}),k9=Ne("ZodEmail",(e,t)=>{cL.init(e,t),ns.init(e,t)}),uN=Ne("ZodGUID",(e,t)=>{oL.init(e,t),ns.init(e,t)}),om=Ne("ZodUUID",(e,t)=>{lL.init(e,t),ns.init(e,t)}),A9=Ne("ZodURL",(e,t)=>{uL.init(e,t),ns.init(e,t)}),M9=Ne("ZodEmoji",(e,t)=>{dL.init(e,t),ns.init(e,t)}),R9=Ne("ZodNanoID",(e,t)=>{fL.init(e,t),ns.init(e,t)}),D9=Ne("ZodCUID",(e,t)=>{mL.init(e,t),ns.init(e,t)}),z9=Ne("ZodCUID2",(e,t)=>{hL.init(e,t),ns.init(e,t)}),$9=Ne("ZodULID",(e,t)=>{pL.init(e,t),ns.init(e,t)}),P9=Ne("ZodXID",(e,t)=>{gL.init(e,t),ns.init(e,t)}),I9=Ne("ZodKSUID",(e,t)=>{xL.init(e,t),ns.init(e,t)}),F9=Ne("ZodIPv4",(e,t)=>{wL.init(e,t),ns.init(e,t)}),L9=Ne("ZodIPv6",(e,t)=>{SL.init(e,t),ns.init(e,t)}),q9=Ne("ZodCIDRv4",(e,t)=>{NL.init(e,t),ns.init(e,t)}),U9=Ne("ZodCIDRv6",(e,t)=>{CL.init(e,t),ns.init(e,t)}),B9=Ne("ZodBase64",(e,t)=>{EL.init(e,t),ns.init(e,t)}),V9=Ne("ZodBase64URL",(e,t)=>{TL.init(e,t),ns.init(e,t)}),H9=Ne("ZodE164",(e,t)=>{OL.init(e,t),ns.init(e,t)}),G9=Ne("ZodJWT",(e,t)=>{AL.init(e,t),ns.init(e,t)}),Q9=Ne("ZodUnknown",(e,t)=>{ML.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>H7()});function dN(){return N7(Q9)}const Z9=Ne("ZodNever",(e,t)=>{RL.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>V7(e,s,n)});function K9(e){return C7(Z9,e)}const Y9=Ne("ZodArray",(e,t)=>{DL.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>K7(e,s,n,o),e.element=t.element,e.min=(s,n)=>e.check(sh(s,n)),e.nonempty=s=>e.check(sh(1,s)),e.max=(s,n)=>e.check(E_(s,n)),e.length=(s,n)=>e.check(__(s,n)),e.unwrap=()=>e.element});function W9(e,t){return P7(Y9,e,t)}const X9=Ne("ZodObject",(e,t)=>{$L.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>Y7(e,s,n,o),zt(e,"shape",()=>t.shape),e.keyof=()=>nq(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:dN()}),e.loose=()=>e.clone({...e._zod.def,catchall:dN()}),e.strict=()=>e.clone({...e._zod.def,catchall:K9()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>oF(e,s),e.safeExtend=s=>lF(e,s),e.merge=s=>cF(e,s),e.pick=s=>rF(e,s),e.omit=s=>iF(e,s),e.partial=(...s)=>uF(z_,e,s[0]),e.required=(...s)=>dF($_,e,s[0])});function D_(e,t){const s={type:"object",shape:e??{},...Je(t)};return new X9(s)}const J9=Ne("ZodUnion",(e,t)=>{PL.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>W7(e,s,n,o),e.options=t.options});function eq(e,t){return new J9({type:"union",options:e,...Je(t)})}const tq=Ne("ZodIntersection",(e,t)=>{IL.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>X7(e,s,n,o)});function sq(e,t){return new tq({type:"intersection",left:e,right:t})}const qx=Ne("ZodEnum",(e,t)=>{FL.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(n,o,c)=>G7(e,n,o),e.enum=t.entries,e.options=Object.values(t.entries);const s=new Set(Object.keys(t.entries));e.extract=(n,o)=>{const c={};for(const u of n)if(s.has(u))c[u]=t.entries[u];else throw new Error(`Key ${u} not found in enum`);return new qx({...t,checks:[],...Je(o),entries:c})},e.exclude=(n,o)=>{const c={...t.entries};for(const u of n)if(s.has(u))delete c[u];else throw new Error(`Key ${u} not found in enum`);return new qx({...t,checks:[],...Je(o),entries:c})}});function nq(e,t){const s=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new qx({type:"enum",entries:s,...Je(t)})}const aq=Ne("ZodTransform",(e,t)=>{LL.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>Z7(e,s),e._zod.parse=(s,n)=>{if(n.direction==="backward")throw new f_(e.constructor.name);s.addIssue=c=>{if(typeof c=="string")s.issues.push(Wu(c,s.value,t));else{const u=c;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=s.value),u.inst??(u.inst=e),s.issues.push(Wu(u))}};const o=t.transform(s.value,s);return o instanceof Promise?o.then(c=>(s.value=c,s)):(s.value=o,s)}});function rq(e){return new aq({type:"transform",transform:e})}const z_=Ne("ZodOptional",(e,t)=>{C_.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>A_(e,s,n,o),e.unwrap=()=>e._zod.def.innerType});function fN(e){return new z_({type:"optional",innerType:e})}const iq=Ne("ZodExactOptional",(e,t)=>{qL.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>A_(e,s,n,o),e.unwrap=()=>e._zod.def.innerType});function oq(e){return new iq({type:"optional",innerType:e})}const lq=Ne("ZodNullable",(e,t)=>{UL.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>J7(e,s,n,o),e.unwrap=()=>e._zod.def.innerType});function mN(e){return new lq({type:"nullable",innerType:e})}const cq=Ne("ZodDefault",(e,t)=>{BL.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>t9(e,s,n,o),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function uq(e,t){return new cq({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():g_(t)}})}const dq=Ne("ZodPrefault",(e,t)=>{VL.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>s9(e,s,n,o),e.unwrap=()=>e._zod.def.innerType});function fq(e,t){return new dq({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():g_(t)}})}const $_=Ne("ZodNonOptional",(e,t)=>{HL.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>e9(e,s,n,o),e.unwrap=()=>e._zod.def.innerType});function mq(e,t){return new $_({type:"nonoptional",innerType:e,...Je(t)})}const hq=Ne("ZodCatch",(e,t)=>{GL.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>n9(e,s,n,o),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function pq(e,t){return new hq({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const gq=Ne("ZodPipe",(e,t)=>{QL.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>a9(e,s,n,o),e.in=t.in,e.out=t.out});function hN(e,t){return new gq({type:"pipe",in:e,out:t})}const xq=Ne("ZodReadonly",(e,t)=>{ZL.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>r9(e,s,n,o),e.unwrap=()=>e._zod.def.innerType});function bq(e){return new xq({type:"readonly",innerType:e})}const vq=Ne("ZodCustom",(e,t)=>{KL.init(e,t),$s.init(e,t),e._zod.processJSONSchema=(s,n,o)=>Q7(e,s)});function yq(e,t={}){return I7(vq,e,t)}function jq(e){return F7(e)}const wq=D_({email:Lx().email("E-mail invalido"),senha:Lx().min(1,"Senha obrigatoria")}),Sq=()=>{const e=rc(),{login:t}=qt(),[s,n]=g.useState(!1),[o,c]=g.useState(!1),{register:u,handleSubmit:f,formState:{errors:m}}=sa({resolver:M_(wq)}),h=async x=>{c(!0);try{const v=await tr.login({email:x.email,senha:x.senha});t(v.usuario,v.gabinete,v.token,v.refreshToken),he.success("Login realizado com sucesso!"),e("/dashboard")}catch(v){he.error(v.response?.data?.message||"Erro ao fazer login")}finally{c(!1)}};return r.jsxs(Pe,{className:"animate-fade-in",children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6 text-center",children:"Entrar no Sistema"}),r.jsxs("form",{onSubmit:f(h),className:"space-y-4",children:[r.jsx(Ve,{label:"E-mail",type:"email",placeholder:"seu@email.com",leftIcon:r.jsx(Rn,{className:"w-5 h-5"}),error:m.email?.message,...u("email")}),r.jsx("div",{children:r.jsx(Ve,{label:"Senha",type:s?"text":"password",placeholder:"Digite sua senha",leftIcon:r.jsx(Yl,{className:"w-5 h-5"}),rightIcon:r.jsx("button",{type:"button",onClick:()=>n(!s),className:"focus:outline-none",children:s?r.jsx(q3,{className:"w-5 h-5"}):r.jsx(td,{className:"w-5 h-5"})}),error:m.senha?.message,...u("senha")})}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-primary-500 focus:ring-primary-500"}),r.jsx("span",{className:"text-slate-600",children:"Lembrar de mim"})]}),r.jsx(As,{to:"/esqueci-senha",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Esqueceu a senha?"})]}),r.jsx(ke,{type:"submit",className:"w-full",size:"lg",isLoading:o,children:"Entrar"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-slate-500",children:["Precisa de acesso?"," ",r.jsx(As,{to:"/solicitar-acesso",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Solicite aqui"})]})})]})},Nq=D_({email:Lx().email("E-mail invalido")}),Cq=()=>{const[e,t]=g.useState(!1),[s,n]=g.useState(!1),{register:o,handleSubmit:c,formState:{errors:u}}=sa({resolver:M_(Nq)}),f=async m=>{t(!0);try{await tr.forgotPassword(m.email),n(!0)}catch(h){he.error(h.response?.data?.message||"Erro ao enviar e-mail")}finally{t(!1)}};return s?r.jsxs(Pe,{className:"animate-fade-in text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-4",children:r.jsx(va,{className:"w-8 h-8 text-green-600"})}),r.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"E-mail Enviado!"}),r.jsx("p",{className:"text-slate-500 mb-6",children:"Verifique sua caixa de entrada e siga as instrucoes para redefinir sua senha."}),r.jsx(As,{to:"/login",children:r.jsx(ke,{variant:"outline",className:"w-full",children:"Voltar para o Login"})})]}):r.jsxs(Pe,{className:"animate-fade-in",children:[r.jsxs(As,{to:"/login",className:"inline-flex items-center gap-1 text-sm text-slate-500 hover:text-slate-700 mb-4",children:[r.jsx(I2,{className:"w-4 h-4"}),"Voltar"]}),r.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Esqueceu sua senha?"}),r.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Digite seu e-mail e enviaremos instrucoes para redefinir sua senha."}),r.jsxs("form",{onSubmit:c(f),className:"space-y-4",children:[r.jsx(Ve,{label:"E-mail",type:"email",placeholder:"seu@email.com",leftIcon:r.jsx(Rn,{className:"w-5 h-5"}),error:u.email?.message,...o("email")}),r.jsx(ke,{type:"submit",className:"w-full",size:"lg",isLoading:e,children:"Enviar Instrucoes"})]})]})};function lm(e){return{id:e.id,codigo:e.codigo,nome:e.nome,parlamentarId:e.parlamentar_id,parlamentar:e.parlamentar?{id:e.parlamentar.id,nome:e.parlamentar.nome,email:e.parlamentar.email}:void 0,ativo:e.ativo,dataCriacao:e.created_at}}function cm(e){return{id:e.id,codigo:e.codigo,nome:e.nome,gabinetePrincipalId:e.gabinete_principal_id,parlamentarId:e.parlamentar_id,parlamentar:e.parlamentar?{id:e.parlamentar.id,nome:e.parlamentar.nome,email:e.parlamentar.email}:void 0,ativo:e.ativo,dataCriacao:e.created_at}}function pN(e){const t={};return"nome"in e&&e.nome&&(t.nome=e.nome),"parlamentarId"in e&&e.parlamentarId!==void 0&&(t.parlamentar_id=e.parlamentarId||null),"ativo"in e&&e.ativo!==void 0&&(t.ativo=e.ativo),t}function Eq(e){return{id:e.id,gabineteId:e.gabinete_id,gabineteNome:e.gabinete_nome,gabinetePrincipalId:e.gabinete_principal_id,gabinetePrincipalNome:e.gabinete_principal_nome,isSubgabinete:!!e.gabinete_principal_id,perfilId:e.perfil_id,nome:e.nome,email:e.email,status:e.status,superUsuario:e.super_usuario||!1,dataCriacao:e.data_criacao||e.created_at}}function _q(e){return{id:e.id,gabineteId:e.gabinete_id,codigo:e.codigo,nome:e.nome,descricao:e.descricao,nivelAcesso:e.nivel_acesso,sistema:e.sistema}}function gN(e){const t={};return e.nome&&(t.nome=e.nome),e.parlamentarId!==void 0&&(t.parlamentar_id=e.parlamentarId||null),"ativo"in e&&e.ativo!==void 0&&(t.ativo=e.ativo),t}function H0(e){return{id:e.id,gabineteId:e.gabinete_id,gabineteNome:e.gabinete_nome,gabineteCodigo:e.gabinete_codigo,isSubgabinete:e.is_subgabinete||!1,gabinetePrincipalNome:e.gabinete_principal_nome,nome:e.nome,telefone:e.telefone,status:e.status,ativo:e.ativo,createdAt:e.created_at,updatedAt:e.updated_at}}function Tq(e){return{id:e.id,gabineteId:e.gabinete_id,gabineteNome:e.gabinete_nome,isSubgabinete:e.is_subgabinete||!1,gabinetePrincipalNome:e.gabinete_principal_nome,nome:e.nome,telefone:e.telefone,status:e.status,ativo:e.ativo,autoRead:e.auto_read??!0,autoResponse:e.auto_response??!1,mensagemBoasVindas:e.mensagem_boas_vindas,qrcode:e.qrcode,createdAt:e.created_at,updatedAt:e.updated_at}}function Oq(e){const t={nome:e.nome,telefone:e.telefone,auto_read:e.autoRead??!0,auto_response:e.autoResponse??!1,mensagem_boas_vindas:e.mensagemBoasVindas};return e.gabineteId&&(t.gabinete_id=e.gabineteId),t}function kq(e){const t={};return e.gabineteId!==void 0&&(t.gabinete_id=e.gabineteId||null),e.nome!==void 0&&(t.nome=e.nome),e.telefone!==void 0&&(t.telefone=e.telefone),e.autoRead!==void 0&&(t.auto_read=e.autoRead),e.autoResponse!==void 0&&(t.auto_response=e.autoResponse),e.mensagemBoasVindas!==void 0&&(t.mensagem_boas_vindas=e.mensagemBoasVindas),e.ativo!==void 0&&(t.ativo=e.ativo),t}function Aq(e){return{id:e.id,codigo:e.codigo,nome:e.nome,gabinetePrincipalId:e.gabinete_principal_id,ativo:e.ativo}}const Mt={async listarGabinetes(e={}){const t=new URLSearchParams;e.busca&&t.append("busca",e.busca),e.ativo!==void 0&&t.append("ativo",String(e.ativo));const s=t.toString(),{data:n}=await xe.get(`/admin/gabinetes${s?`?${s}`:""}`);return n.map(lm)},async obterGabinete(e){const{data:t}=await xe.get(`/admin/gabinetes/${e}`);return lm(t)},async criarGabinete(e){const{data:t}=await xe.post("/admin/gabinetes",gN(e));return lm(t)},async atualizarGabinete(e,t){const{data:s}=await xe.put(`/admin/gabinetes/${e}`,gN(t));return lm(s)},async ativarGabinete(e){return this.atualizarGabinete(e,{ativo:!0})},async desativarGabinete(e){return this.atualizarGabinete(e,{ativo:!1})},async deletarGabinete(e){await xe.delete(`/admin/gabinetes/${e}`)},async listarUsuarios(e={}){const t=new URLSearchParams;e.busca&&t.append("busca",e.busca),e.gabineteId&&t.append("gabinete_id",e.gabineteId);const s=t.toString(),{data:n}=await xe.get(`/admin/usuarios${s?`?${s}`:""}`);return n.map(Eq)},async obterUsuario(e){const{data:t}=await xe.get(`/admin/usuarios/${e}`);return{id:t.id,gabineteId:t.gabinete_id,perfilId:t.perfil_id,nome:t.nome,email:t.email,cpf:t.cpf,telefone:t.telefone,fotoUrl:t.foto_url,status:t.status,ultimoAcesso:t.ultimo_acesso,superUsuario:t.super_usuario||!1,dataCriacao:t.data_criacao||t.created_at,dataAtualizacao:t.data_atualizacao||t.updated_at}},async criarUsuario(e){const t={gabinete_id:e.gabineteId,perfil_id:e.perfilId,nome:e.nome,email:e.email,senha:e.senha,cpf:e.cpf,telefone:e.telefone,super_usuario:e.superUsuario},{data:s}=await xe.post("/admin/usuarios",t);return this.obterUsuario(s.id)},async atualizarUsuario(e,t){const s={};t.gabineteId!==void 0&&(s.gabinete_id=t.gabineteId),t.perfilId!==void 0&&(s.perfil_id=t.perfilId),t.nome!==void 0&&(s.nome=t.nome),t.email!==void 0&&(s.email=t.email),t.senha!==void 0&&(s.senha=t.senha),t.cpf!==void 0&&(s.cpf=t.cpf),t.telefone!==void 0&&(s.telefone=t.telefone),t.superUsuario!==void 0&&(s.super_usuario=t.superUsuario),t.status!==void 0&&(s.status=t.status);const{data:n}=await xe.put(`/admin/usuarios/${e}`,s);return this.obterUsuario(n.id)},async deletarUsuario(e){await xe.delete(`/admin/usuarios/${e}`)},async listarPerfis(e){const t=new URLSearchParams;e&&t.append("gabinete_id",e);const s=t.toString(),{data:n}=await xe.get(`/admin/perfis${s?`?${s}`:""}`);return n.map(_q)},async listarSubgabinetes(){const{data:e}=await xe.get("/admin/subgabinetes");return e.map(cm)},async obterSubgabinete(e){const{data:t}=await xe.get(`/admin/subgabinetes/${e}`);return cm(t)},async criarSubgabinete(e){const{data:t}=await xe.post("/admin/subgabinetes",pN(e));return cm(t)},async atualizarSubgabinete(e,t){const{data:s}=await xe.put(`/admin/subgabinetes/${e}`,pN(t));return cm(s)},async ativarSubgabinete(e){return this.atualizarSubgabinete(e,{ativo:!0})},async desativarSubgabinete(e){return this.atualizarSubgabinete(e,{ativo:!1})},async deletarSubgabinete(e){await xe.delete(`/admin/subgabinetes/${e}`)},async getDashboardStats(){const{data:e}=await xe.get("/admin/dashboard/stats");return{totalGabinetes:e.total_gabinetes,gabinetesAtivos:e.gabinetes_ativos,totalUsuarios:e.total_usuarios,usuariosAtivos:e.usuarios_ativos,totalDemandas:e.total_demandas,demandasAbertas:e.demandas_abertas,demandasEmAndamento:e.demandas_em_andamento,demandasConcluidas:e.demandas_concluidas,totalPessoas:e.total_pessoas}},async listarSessoesWhatsApp(){const{data:e}=await xe.get("/admin/whatsapp/sessions");return e.map(H0)},async listarSessoesNode(){try{const{data:e}=await xe.get("/admin/whatsapp/node-sessions");return e}catch(e){return console.error("Erro ao buscar sessoes do Node:",e),[]}},async deletarSessaoWhatsApp(e){const{data:t}=await xe.delete(`/admin/whatsapp/sessions/${e}`);return{success:t.success,message:t.message,dbDeleted:t.db_deleted,nodeDeleted:t.node_deleted,nodeError:t.node_error}},async desconectarSessaoWhatsApp(e){const{data:t}=await xe.post(`/admin/whatsapp/sessions/${e}/disconnect`);return{success:t.success,message:t.message,nodeDisconnected:t.node_disconnected,nodeError:t.node_error}},async criarSessaoWhatsApp(e){const{data:t}=await xe.post("/admin/whatsapp/sessions",Oq(e));return H0(t)},async obterSessaoWhatsApp(e){const{data:t}=await xe.get(`/admin/whatsapp/sessions/${e}`);return Tq(t)},async atualizarSessaoWhatsApp(e,t){const{data:s}=await xe.put(`/admin/whatsapp/sessions/${e}`,kq(t));return H0(s)},async conectarSessaoWhatsApp(e){const{data:t}=await xe.post(`/admin/whatsapp/sessions/${e}/conectar`);return{success:t.success,status:t.status,qrcode:t.qrcode,message:t.message}},async obterQRCodeSessao(e){const{data:t}=await xe.get(`/admin/whatsapp/sessions/${e}/qrcode`);return{qrcode:t.qrcode,status:t.status}},async listarGabinetesSubgabinetes(){const{data:e}=await xe.get("/admin/gabinetes-subgabinetes");return e.map(Aq)}};function Mq(e){const t=e?.stats||{},s=e?.demandas_por_status||[],n=e?.demandas_por_categoria||[],o=e?.demandas_recentes||[],c=e?.aniversariantes_hoje||[],u=e?.ultimos_cadastros||[];return{stats:{totalPessoas:t.total_pessoas||0,totalLiderancas:t.total_liderancas||0,totalDemandas:t.total_demandas||0,demandasAbertas:t.demandas_abertas||0,demandasEmAndamento:t.demandas_em_andamento||0,demandasConcluidas:t.demandas_concluidas||0,demandasAtrasadas:t.demandas_atrasadas||0,aniversariantesHoje:t.aniversariantes_hoje||0},demandasPorStatus:s.map(f=>({status:f.status,quantidade:f.quantidade,cor:f.cor})),demandasPorCategoria:n.map(f=>({categoria:f.categoria,quantidade:f.quantidade,cor:f.cor})),demandasRecentes:o.map(f=>({id:f.id,numeroProtocolo:f.numero_protocolo,titulo:f.titulo,status:f.status,prioridade:f.prioridade,nomeSolicitante:f.nome_solicitante,dataAbertura:f.data_abertura})),aniversariantesHoje:c.map(f=>({id:f.id,nome:f.nome,dataNascimento:f.data_nascimento,idade:f.idade,telefone:f.telefone,celular:f.celular,whatsapp:f.whatsapp})),ultimosCadastros:u.map(f=>({id:f.id,nome:f.nome,dataCadastro:f.data_cadastro,horaCadastro:f.hora_cadastro,usuarioCadastro:f.usuario_cadastro}))}}const Rq={async getDashboard(){const{data:e}=await xe.get("/dashboard");return Mq(e)}},Dq={Aberta:"bg-blue-100 text-blue-800","Em Andamento":"bg-amber-100 text-amber-800",Aguardando:"bg-purple-100 text-purple-800",Concluida:"bg-green-100 text-green-800",Cancelada:"bg-slate-100 text-slate-800"},zq={baixa:"text-slate-500 bg-slate-500",normal:"text-blue-500 bg-blue-500",alta:"text-amber-500 bg-amber-500",urgente:"text-orange-500 bg-orange-500",critica:"text-red-500 bg-red-500"},Js=e=>e>=1e3?e.toLocaleString("pt-BR"):e.toString(),$q=()=>{const{data:e,isLoading:t,isError:s,error:n}=ze({queryKey:["admin-dashboard-stats"],queryFn:()=>Mt.getDashboardStats(),refetchInterval:6e4,retry:1}),o=e?[{title:"Total de Gabinetes",value:Js(e.gabinetesAtivos),subtitle:`${e.totalGabinetes} cadastrados`,icon:ds,color:"bg-amber-500",link:"/admin/gabinetes"},{title:"Total de Usuarios",value:Js(e.usuariosAtivos),subtitle:`${e.totalUsuarios} cadastrados`,icon:es,color:"bg-blue-500",link:"/admin/usuarios"},{title:"Total de Pessoas",value:Js(e.totalPessoas),subtitle:"cadastradas no sistema",icon:Im,color:"bg-green-500",link:"/pessoas"},{title:"Total de Demandas",value:Js(e.totalDemandas),subtitle:`${e.demandasAbertas} abertas`,icon:kn,color:"bg-purple-500",link:"/demandas"}]:[];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ma,{className:"w-6 h-6 text-amber-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Painel Administrativo"})]}),r.jsx("p",{className:"text-slate-500",children:"Visao geral do sistema - Super Usuario"})]})}),t?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Aa,{className:"w-8 h-8 animate-spin text-amber-500"})}):s?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-red-500",children:"Erro ao carregar estatisticas"}),r.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Verifique o console para mais detalhes"})]}):o.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:o.map((c,u)=>r.jsx(As,{to:c.link,children:r.jsxs(Pe,{variant:"hover",className:"relative overflow-hidden border-amber-100 cursor-pointer group",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500 mb-1",children:c.title}),r.jsx("p",{className:"text-3xl font-bold text-slate-900",children:c.value}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:c.subtitle})]}),r.jsx("div",{className:je("w-12 h-12 rounded-xl flex items-center justify-center transition-transform group-hover:scale-110",c.color),children:r.jsx(c.icon,{className:"w-6 h-6 text-white"})})]}),r.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Qr,{className:"w-4 h-4 text-slate-400"})})]})},u))}):r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-slate-500",children:"Nenhum dado disponivel"})}),e&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(As,{to:"/demandas?status=aberta",children:r.jsx(Pe,{variant:"hover",className:"border-blue-100 cursor-pointer group relative overflow-hidden",children:r.jsxs(Zr,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center transition-transform group-hover:scale-110",children:r.jsx(kn,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Demandas Abertas"}),r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:Js(e.demandasAbertas)})]})]}),r.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Qr,{className:"w-4 h-4 text-slate-400"})})]})})}),r.jsx(As,{to:"/demandas?status=em_andamento",children:r.jsx(Pe,{variant:"hover",className:"border-amber-100 cursor-pointer group relative overflow-hidden",children:r.jsxs(Zr,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center transition-transform group-hover:scale-110",children:r.jsx(Io,{className:"w-6 h-6 text-amber-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Em Andamento"}),r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:Js(e.demandasEmAndamento)})]})]}),r.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Qr,{className:"w-4 h-4 text-slate-400"})})]})})}),r.jsx(As,{to:"/demandas?status=concluida",children:r.jsx(Pe,{variant:"hover",className:"border-green-100 cursor-pointer group relative overflow-hidden",children:r.jsxs(Zr,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center transition-transform group-hover:scale-110",children:r.jsx(va,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Concluidas"}),r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:Js(e.demandasConcluidas)})]})]}),r.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Qr,{className:"w-4 h-4 text-slate-400"})})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(Pe,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200",children:[r.jsx(ql,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ds,{className:"w-5 h-5 text-amber-600"}),r.jsx(Ul,{className:"text-amber-900",children:"Gerenciar Gabinetes"})]})}),r.jsxs(Zr,{children:[r.jsx("p",{className:"text-sm text-amber-700 mb-4",children:"Cadastre, edite ou remova gabinetes do sistema."}),r.jsx(As,{to:"/admin/gabinetes",children:r.jsx(ke,{className:"bg-amber-500 hover:bg-amber-600",children:"Acessar Gabinetes"})})]})]}),r.jsxs(Pe,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:[r.jsx(ql,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Im,{className:"w-5 h-5 text-blue-600"}),r.jsx(Ul,{className:"text-blue-900",children:"Gerenciar Usuarios"})]})}),r.jsxs(Zr,{children:[r.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Cadastre, edite ou remova usuarios do sistema."}),r.jsx(As,{to:"/admin/usuarios",children:r.jsx(ke,{className:"bg-blue-500 hover:bg-blue-600",children:"Acessar Usuarios"})})]})]})]})]})},Pq=()=>{const{gabinete:e,subgabinete:t}=qt(),{data:s,isLoading:n,isError:o}=ze({queryKey:["gabinete-dashboard",e?.id,t?.id],queryFn:()=>Rq.getDashboard(),refetchInterval:6e4,retry:1,enabled:!!e?.id}),c=s?[{title:"Total de Pessoas",value:Js(s.stats.totalPessoas),icon:es,color:"bg-blue-500",link:"/pessoas"},{title:"Demandas Abertas",value:Js(s.stats.demandasAbertas),icon:kn,color:"bg-amber-500",link:"/demandas?status=aberta"},{title:"Demandas Atrasadas",value:Js(s.stats.demandasAtrasadas),icon:sd,color:"bg-red-500",link:"/demandas?atrasadas=true"},{title:"Concluidas",value:Js(s.stats.demandasConcluidas),icon:va,color:"bg-green-500",link:"/demandas?status=concluida"}]:[];return n?r.jsx("div",{className:"flex items-center justify-center py-24",children:r.jsx(Aa,{className:"w-8 h-8 animate-spin text-primary-500"})}):o?r.jsxs("div",{className:"text-center py-24",children:[r.jsx("p",{className:"text-red-500",children:"Erro ao carregar dashboard"}),r.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Verifique o console para mais detalhes"})]}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Dashboard"}),r.jsxs("p",{className:"text-slate-500",children:["Visao geral - ",t?t.nome:e?.nome,t&&r.jsxs("span",{className:"text-xs ml-2",children:["(",e?.nome,")"]})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:c.map((u,f)=>r.jsx(As,{to:u.link,children:r.jsxs(Pe,{variant:"hover",className:"relative overflow-hidden cursor-pointer group",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500 mb-1",children:u.title}),r.jsx("p",{className:"text-3xl font-bold text-slate-900",children:u.value})]}),r.jsx("div",{className:je("w-12 h-12 rounded-xl flex items-center justify-center transition-transform group-hover:scale-110",u.color),children:r.jsx(u.icon,{className:"w-6 h-6 text-white"})})]}),r.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Qr,{className:"w-4 h-4 text-slate-400"})})]})},f))}),r.jsxs(Pe,{padding:"none",variant:"hover",className:"mb-6 group",children:[r.jsx(As,{to:"/pessoas",children:r.jsx(ql,{className:"p-6 pb-0 cursor-pointer",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 flex items-center justify-center transition-transform group-hover:scale-110",children:r.jsx(HM,{className:"w-5 h-5 text-emerald-600"})}),r.jsx(Ul,{children:"ltimos Cadastros"})]}),r.jsxs("div",{className:"text-sm text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:["Ver todas",r.jsx(Qr,{className:"w-4 h-4"})]})]})})}),r.jsx(Zr,{className:"p-0 mt-4",children:s?.ultimosCadastros&&s.ultimosCadastros.length>0?r.jsx("div",{className:"divide-y divide-slate-100",children:s.ultimosCadastros.map(u=>r.jsxs(As,{to:"/pessoas",className:"flex items-center gap-4 p-4 hover:bg-slate-50 transition-colors",children:[r.jsx(Dn,{name:u.nome,size:"md"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:u.nome}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Cadastrado por: ",u.usuarioCadastro||"Sistema"]})]}),r.jsxs("div",{className:"text-right flex items-center gap-2",children:[r.jsx(xn,{className:"w-3.5 h-3.5 text-slate-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-slate-600",children:u.dataCadastro}),r.jsx("p",{className:"text-xs text-slate-400",children:u.horaCadastro})]})]})]},u.id))}):r.jsx("div",{className:"p-8 text-center text-slate-500",children:"Nenhum cadastro recente"})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(Pe,{padding:"none",variant:"hover",className:"group",children:[r.jsx(As,{to:"/demandas",children:r.jsx(ql,{className:"p-6 pb-0 cursor-pointer",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center transition-transform group-hover:scale-110",children:r.jsx(kn,{className:"w-5 h-5 text-blue-600"})}),r.jsx(Ul,{children:"Demandas Recentes"})]}),r.jsxs("div",{className:"text-sm text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:["Ver todas",r.jsx(Qr,{className:"w-4 h-4"})]})]})})}),r.jsx(Zr,{className:"p-0 mt-4",children:s?.demandasRecentes&&s.demandasRecentes.length>0?r.jsx("div",{className:"divide-y divide-slate-100",children:s.demandasRecentes.map(u=>r.jsxs(As,{to:"/demandas/"+u.id,className:"flex items-center gap-4 p-4 hover:bg-slate-50 transition-colors",children:[r.jsx("div",{className:je("w-1 h-12 rounded-full",zq[u.prioridade]?.split(" ")[1]||"bg-blue-500")}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-xs font-mono text-slate-400",children:u.numeroProtocolo}),r.jsx("span",{className:je("px-2 py-0.5 rounded-full text-xs font-medium",Dq[u.status]||"bg-slate-100 text-slate-800"),children:u.status})]}),r.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:u.titulo}),r.jsx("p",{className:"text-xs text-slate-500",children:u.nomeSolicitante||"Sem solicitante"})]}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"text-xs text-slate-400",children:u.dataAbertura})})]},u.id))}):r.jsx("div",{className:"p-8 text-center text-slate-500",children:"Nenhuma demanda recente"})})]})}),r.jsxs("div",{children:[r.jsxs(Pe,{variant:"hover",className:"group",children:[r.jsx(As,{to:"/aniversariantes",children:r.jsx(ql,{className:"cursor-pointer",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-pink-100 flex items-center justify-center transition-transform group-hover:scale-110",children:r.jsx(Du,{className:"w-5 h-5 text-pink-600"})}),r.jsx(Ul,{children:"Aniversariantes Hoje"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ts,{variant:"info",children:s?.stats.aniversariantesHoje||0}),r.jsx(Qr,{className:"w-4 h-4 text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})]})})}),r.jsxs(Zr,{children:[s?.aniversariantesHoje&&s.aniversariantesHoje.length>0?r.jsx("div",{className:"space-y-4",children:s.aniversariantesHoje.map(u=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dn,{name:u.nome,size:"md"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:u.nome}),r.jsxs("p",{className:"text-xs text-slate-500",children:[u.idade," anos"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[u.whatsapp&&r.jsx("a",{href:`https://wa.me/55${u.whatsapp.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg text-slate-400 hover:text-green-600 hover:bg-green-50 transition-colors",title:"Enviar WhatsApp",children:r.jsx(Pm,{className:"w-4 h-4"})}),u.telefone&&r.jsx("a",{href:`tel:${u.telefone}`,className:"p-2 rounded-lg text-slate-400 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Ligar",children:r.jsx(Ds,{className:"w-4 h-4"})})]})]},u.id))}):r.jsx("div",{className:"py-4 text-center text-slate-500 text-sm",children:"Nenhum aniversariante hoje"}),r.jsx(As,{to:"/aniversariantes",children:r.jsx(ke,{variant:"outline",className:"w-full mt-4",size:"sm",children:"Ver todos os aniversariantes"})})]})]}),r.jsx(As,{to:"/demandas",children:r.jsxs(Pe,{variant:"hover",className:"mt-4 cursor-pointer group",children:[r.jsx(ql,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center transition-transform group-hover:scale-110",children:r.jsx(si,{className:"w-5 h-5 text-slate-600"})}),r.jsx(Ul,{children:"Resumo"})]}),r.jsx(Qr,{className:"w-4 h-4 text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),r.jsx(Zr,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-slate-500",children:"Total de pessoas"}),r.jsx("span",{className:"text-sm font-semibold text-slate-900",children:Js(s?.stats.totalPessoas||0)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-slate-500",children:"Total de liderancas"}),r.jsx("span",{className:"text-sm font-semibold text-slate-900",children:Js(s?.stats.totalLiderancas||0)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-slate-500",children:"Demandas em andamento"}),r.jsx("span",{className:"text-sm font-semibold text-amber-600",children:Js(s?.stats.demandasEmAndamento||0)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-slate-500",children:"Demandas concluidas"}),r.jsx("span",{className:"text-sm font-semibold text-green-600",children:Js(s?.stats.demandasConcluidas||0)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-slate-500",children:"Demandas atrasadas"}),r.jsx("span",{className:"text-sm font-semibold text-red-600",children:Js(s?.stats.demandasAtrasadas||0)})]})]})})]})})]})]})]})},Iq=()=>{const{usuario:e,gabinete:t}=qt();return e?.superUsuario&&!t?r.jsx($q,{}):r.jsx(Pq,{})},Fq=({isOpen:e,onClose:t,gabinete:s})=>{const n=Lt(),{setGabinetes:o,usuario:c}=qt(),u=!!s,[f,m]=g.useState(null),[h,x]=g.useState(""),[v,y]=g.useState(!1),{register:j,handleSubmit:w,reset:S,formState:{errors:N}}=sa({defaultValues:{nome:""}}),{data:T=[]}=ze({queryKey:["admin-usuarios-all"],queryFn:()=>Mt.listarUsuarios({}),enabled:e}),E=T.filter(te=>te.nome.toLowerCase().includes(h.toLowerCase())||te.email.toLowerCase().includes(h.toLowerCase()));g.useEffect(()=>{s?(S({nome:s.nome}),s.parlamentar?m({id:s.parlamentar.id,nome:s.parlamentar.nome,email:s.parlamentar.email,status:"ativo",superUsuario:!1,dataCriacao:"",isSubgabinete:!1}):m(null)):(S({nome:""}),m(null)),x(""),y(!1)},[s,S,e]);const O=async()=>{if(c?.superUsuario)try{const te=await tr.me();te.gabinetes&&o(te.gabinetes)}catch(te){console.error("Erro ao atualizar lista de gabinetes:",te)}},k=Ze({mutationFn:te=>Mt.criarGabinete(te),onSuccess:async()=>{n.invalidateQueries({queryKey:["admin-gabinetes"]}),he.success("Gabinete criado com sucesso!"),await O(),P()},onError:te=>{const H=te.response?.data?.detail||"Erro ao criar gabinete";he.error(H)}}),R=Ze({mutationFn:te=>Mt.atualizarGabinete(s.id,te),onSuccess:async()=>{n.invalidateQueries({queryKey:["admin-gabinetes"]}),he.success("Gabinete atualizado com sucesso!"),await O(),P()},onError:te=>{const H=te.response?.data?.detail||"Erro ao atualizar gabinete";he.error(H)}}),P=()=>{S(),m(null),x(""),y(!1),t()},z=te=>{const H={nome:te.nome,parlamentarId:f?.id||null};u?R.mutate(H):k.mutate(H)},F=k.isPending||R.isPending;return r.jsx(ss,{isOpen:e,onClose:P,title:u?"Editar Gabinete":"Novo Gabinete",size:"md",children:r.jsxs("form",{onSubmit:w(z),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-3",children:[r.jsx(ds,{className:"w-4 h-4"}),r.jsx("span",{children:"Nome do Gabinete"})]}),r.jsx(Ve,{placeholder:"Ex: Gabinete do Deputado Silva",...j("nome",{required:"Campo obrigatorio",maxLength:{value:200,message:"Maximo 200 caracteres"}}),error:N.nome?.message})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-3",children:[r.jsx(Rt,{className:"w-4 h-4"}),r.jsx("span",{children:"Parlamentar (opcional)"})]}),f?r.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary-50 border border-primary-200 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-500 flex items-center justify-center text-white font-bold",children:f.nome.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:f.nome}),r.jsx("p",{className:"text-sm text-slate-500",children:f.email})]})]}),r.jsx("button",{type:"button",onClick:()=>m(null),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(Ht,{className:"w-4 h-4"})})]}):r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),r.jsx("input",{type:"text",placeholder:"Buscar usuario...",value:h,onChange:te=>x(te.target.value),onFocus:()=>y(!0),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),v&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-xl shadow-lg border border-slate-200 max-h-48 overflow-y-auto",children:E.length===0?r.jsx("div",{className:"p-3 text-center text-slate-500 text-sm",children:"Nenhum usuario encontrado"}):E.map(te=>r.jsxs("button",{type:"button",onClick:()=>{m(te),y(!1),x("")},className:"w-full flex items-center gap-3 p-3 hover:bg-slate-50 transition-colors text-left",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 font-medium text-sm",children:te.nome.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900 text-sm",children:te.nome}),r.jsx("p",{className:"text-xs text-slate-500",children:te.email})]})]},te.id))})]}),r.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Vincule um usuario do sistema como parlamentar deste gabinete"})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100",children:[r.jsx(ke,{type:"button",variant:"secondary",onClick:P,disabled:F,children:"Cancelar"}),r.jsx(ke,{type:"submit",isLoading:F,leftIcon:r.jsx(Jn,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600",children:u?"Salvar":"Cadastrar"})]})]})})},Lq=e=>{const t=e.replace(/\D/g,"");return t.length<=2?t:t.length<=7?`(${t.slice(0,2)}) ${t.slice(2)}`:`(${t.slice(0,2)}) ${t.slice(2,7)}-${t.slice(7,11)}`},qq=({isOpen:e,onClose:t,usuario:s})=>{const n=Lt(),o=!!s,[c,u]=g.useState(null),[f,m]=g.useState(null),[h,x]=g.useState(""),[v,y]=g.useState(!1),[j,w]=g.useState(""),{register:S,handleSubmit:N,reset:T,watch:E,setValue:O,formState:{errors:k}}=sa({defaultValues:{nome:"",email:"",senha:"",confirmarSenha:"",celular:"",superUsuario:!1}}),R=U=>{const A=Lq(U.target.value);w(A),O("celular",A)},P=E("superUsuario"),{data:z=[]}=ze({queryKey:["admin-gabinetes-all"],queryFn:()=>Mt.listarGabinetes({ativo:!0}),enabled:e}),{data:F=[]}=ze({queryKey:["admin-perfis",c?.id],queryFn:()=>Mt.listarPerfis(c?.id),enabled:e&&!!c}),te=z.filter(U=>U.nome.toLowerCase().includes(h.toLowerCase())||U.codigo.toLowerCase().includes(h.toLowerCase()));g.useEffect(()=>{s?(T({nome:s.nome,email:s.email,senha:"",confirmarSenha:"",celular:"",superUsuario:s.superUsuario}),w(""),s.gabineteId&&s.gabineteNome?u({id:s.gabineteId,nome:s.gabineteNome,codigo:"",ativo:!0}):u(null),m(null)):(T({nome:"",email:"",senha:"",confirmarSenha:"",celular:"",superUsuario:!1}),w(""),u(null),m(null)),x(""),y(!1)},[s,T,e]),g.useEffect(()=>{if(s?.perfilId&&F.length>0){const U=F.find(A=>A.id===s.perfilId);U&&m(U)}},[s?.perfilId,F]),g.useEffect(()=>{o||m(null)},[c,o]);const H=Ze({mutationFn:U=>Mt.criarUsuario(U),onSuccess:()=>{n.invalidateQueries({queryKey:["admin-usuarios"]}),he.success("Usuario criado com sucesso!"),Z()},onError:U=>{const A=U.response?.data?.detail||"Erro ao criar usuario";he.error(A)}}),Y=Ze({mutationFn:U=>Mt.atualizarUsuario(s.id,U),onSuccess:()=>{n.invalidateQueries({queryKey:["admin-usuarios"]}),he.success("Usuario atualizado com sucesso!"),Z()},onError:U=>{const A=U.response?.data?.detail||"Erro ao atualizar usuario";he.error(A)}}),Z=()=>{T(),w(""),u(null),m(null),x(""),y(!1),t()},ee=U=>{if(!U.superUsuario&&!c){he.error("Selecione um gabinete para o usuario");return}if(!o&&!U.senha){he.error("Senha e obrigatoria");return}if(U.senha&&U.senha!==U.confirmarSenha){he.error("As senhas nao conferem");return}const A=U.celular?.replace(/\D/g,"")||"";if(o){const I={nome:U.nome,email:U.email,superUsuario:U.superUsuario,gabineteId:U.superUsuario?void 0:c?.id,perfilId:U.superUsuario?void 0:f?.id};U.senha&&(I.senha=U.senha),A&&(I.telefone=A),Y.mutate(I)}else{const I={nome:U.nome,email:U.email,senha:U.senha,superUsuario:U.superUsuario,gabineteId:U.superUsuario?void 0:c?.id,perfilId:U.superUsuario?void 0:f?.id};A&&(I.telefone=A),H.mutate(I)}},q=H.isPending||Y.isPending;return r.jsx(ss,{isOpen:e,onClose:Z,title:o?"Editar Usuario":"Novo Usuario",size:"lg",children:r.jsxs("form",{onSubmit:N(ee),className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ma,{className:"w-5 h-5 text-amber-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:"Super Usuario"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Acesso a todos os gabinetes"})]})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",...S("superUsuario"),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500"})]})]}),!P&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-3",children:[r.jsx(ds,{className:"w-4 h-4"}),r.jsx("span",{children:"Gabinete *"})]}),c?r.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary-50 border border-primary-200 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-500 flex items-center justify-center text-white font-bold",children:c.nome.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:c.nome}),r.jsx("p",{className:"text-sm text-slate-500",children:c.codigo})]})]}),r.jsx("button",{type:"button",onClick:()=>u(null),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(Ht,{className:"w-4 h-4"})})]}):r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),r.jsx("input",{type:"text",placeholder:"Buscar gabinete...",value:h,onChange:U=>x(U.target.value),onFocus:()=>y(!0),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),v&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-xl shadow-lg border border-slate-200 max-h-48 overflow-y-auto",children:te.length===0?r.jsx("div",{className:"p-3 text-center text-slate-500 text-sm",children:"Nenhum gabinete encontrado"}):te.map(U=>r.jsxs("button",{type:"button",onClick:()=>{u(U),y(!1),x("")},className:"w-full flex items-center gap-3 p-3 hover:bg-slate-50 transition-colors text-left",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 flex items-center justify-center text-amber-600 font-medium text-sm",children:U.nome.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900 text-sm",children:U.nome}),r.jsx("p",{className:"text-xs text-slate-500",children:U.codigo})]})]},U.id))})]})]}),!P&&c&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-3",children:[r.jsx(Ma,{className:"w-4 h-4"}),r.jsx("span",{children:"Perfil de Acesso"})]}),r.jsxs("select",{value:f?.id||"",onChange:U=>{const A=F.find(I=>I.id===U.target.value);m(A||null)},className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Selecione um perfil"}),F.map(U=>r.jsxs("option",{value:U.id,children:[U.nome," ",U.descricao?`- ${U.descricao}`:""]},U.id))]}),r.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"O perfil define as permissoes do usuario no sistema"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(Rt,{className:"w-4 h-4"}),r.jsx("span",{children:"Nome Completo *"})]}),r.jsx(Ve,{placeholder:"Nome do usuario",...S("nome",{required:"Campo obrigatorio",maxLength:{value:200,message:"Maximo 200 caracteres"}}),error:k.nome?.message})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(Rn,{className:"w-4 h-4"}),r.jsx("span",{children:"Email *"})]}),r.jsx(Ve,{type:"email",placeholder:"email@exemplo.com",...S("email",{required:"Campo obrigatorio",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalido"}}),error:k.email?.message})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(RM,{className:"w-4 h-4"}),r.jsx("span",{children:"Celular"})]}),r.jsx(Ve,{placeholder:"(00) 00000-0000",value:j,onChange:R,maxLength:15})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(Yl,{className:"w-4 h-4"}),r.jsxs("span",{children:["Senha ",!o&&"*"]})]}),r.jsx(Ve,{type:"password",placeholder:o?"Deixe em branco para manter":"Minimo 6 caracteres",...S("senha",{minLength:{value:6,message:"Minimo 6 caracteres"},required:o?!1:"Campo obrigatorio"}),error:k.senha?.message})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(Yl,{className:"w-4 h-4"}),r.jsx("span",{children:"Confirmar Senha"})]}),r.jsx(Ve,{type:"password",placeholder:"Repita a senha",...S("confirmarSenha"),error:k.confirmarSenha?.message})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100",children:[r.jsx(ke,{type:"button",variant:"secondary",onClick:Z,disabled:q,children:"Cancelar"}),r.jsx(ke,{type:"submit",isLoading:q,leftIcon:r.jsx(Jn,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700",children:o?"Salvar":"Cadastrar"})]})]})})},Uq=({isOpen:e,onClose:t,subgabinete:s})=>{const n=Lt(),{setSubgabinetes:o,usuario:c}=qt(),u=!!s,{register:f,handleSubmit:m,reset:h,formState:{errors:x}}=sa({defaultValues:{nome:""}});g.useEffect(()=>{h(s?{nome:s.nome}:{nome:""})},[s,h,e]);const v=async()=>{if(c?.isAdminGabinete)try{const T=await tr.me();T.subgabinetes&&o(T.subgabinetes)}catch(T){console.error("Erro ao atualizar lista de subgabinetes:",T)}},y=Ze({mutationFn:T=>Mt.criarSubgabinete(T),onSuccess:async()=>{n.invalidateQueries({queryKey:["admin-subgabinetes"]}),he.success("Subgabinete criado com sucesso!"),await v(),w()},onError:T=>{const E=T.response?.data?.detail||"Erro ao criar subgabinete";he.error(E)}}),j=Ze({mutationFn:T=>Mt.atualizarSubgabinete(s.id,T),onSuccess:async()=>{n.invalidateQueries({queryKey:["admin-subgabinetes"]}),he.success("Subgabinete atualizado com sucesso!"),await v(),w()},onError:T=>{const E=T.response?.data?.detail||"Erro ao atualizar subgabinete";he.error(E)}}),w=()=>{h(),t()},S=T=>{const E={nome:T.nome};u?j.mutate(E):y.mutate(E)},N=y.isPending||j.isPending;return r.jsx(ss,{isOpen:e,onClose:w,title:u?"Editar Subgabinete":"Novo Subgabinete",size:"md",children:r.jsxs("form",{onSubmit:m(S),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-3",children:[r.jsx(sr,{className:"w-4 h-4"}),r.jsx("span",{children:"Nome do Subgabinete"})]}),r.jsx(Ve,{placeholder:"Ex: Subgabinete Regional Norte",...f("nome",{required:"Campo obrigatorio",maxLength:{value:200,message:"Maximo 200 caracteres"}}),error:x.nome?.message}),r.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"O codigo sera gerado automaticamente com base no gabinete principal"})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100",children:[r.jsx(ke,{type:"button",variant:"secondary",onClick:w,disabled:N,children:"Cancelar"}),r.jsx(ke,{type:"submit",isLoading:N,leftIcon:r.jsx(Jn,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-violet-500 to-purple-500 hover:from-violet-600 hover:to-purple-600",children:u?"Salvar":"Cadastrar"})]})]})})},Bq=({isOpen:e,onClose:t,session:s})=>{const n=Lt(),o=!!s,[c,u]=g.useState("form"),[f,m]=g.useState(null),[h,x]=g.useState(null),[v,y]=g.useState("desconectado"),[j,w]=g.useState(!1),{register:S,handleSubmit:N,reset:T,watch:E,setValue:O,formState:{errors:k}}=sa({defaultValues:{gabineteId:"",nome:"",telefone:"",autoRead:!0,autoResponse:!1,mensagemBoasVindas:""}}),R=E("autoResponse");E("gabineteId");const{data:P=[],isLoading:z}=ze({queryKey:["admin-gabinetes-subgabinetes"],queryFn:()=>Mt.listarGabinetesSubgabinetes(),enabled:e}),F=g.useMemo(()=>{const V=P.filter(G=>!G.gabinetePrincipalId),_=P.filter(G=>G.gabinetePrincipalId),L=[];return V.forEach(G=>{L.push({label:G.nome,value:G.id,isSubgabinete:!1}),_.filter(ne=>ne.gabinetePrincipalId===G.id).forEach(ne=>{L.push({label:` ${ne.nome}`,value:ne.id,isSubgabinete:!0,parentName:G.nome})})}),L},[P]);g.useEffect(()=>{e&&(s?(Mt.obterSessaoWhatsApp(s.id).then(V=>{T({gabineteId:V.gabineteId,nome:V.nome,telefone:V.telefone||"",autoRead:V.autoRead,autoResponse:V.autoResponse,mensagemBoasVindas:V.mensagemBoasVindas||""})}),u("form")):(T({gabineteId:"",nome:"",telefone:"",autoRead:!0,autoResponse:!1,mensagemBoasVindas:""}),u("form")),m(null),x(null),y("desconectado"),w(!1))},[s,T,e]),g.useEffect(()=>{if(!j||!f)return;const V=setInterval(async()=>{try{const _=await Mt.obterSessaoWhatsApp(f.id);y(_.status),_.status==="conectado"?(w(!1),u("connected"),n.invalidateQueries({queryKey:["admin-whatsapp-sessions"]}),he.success("WhatsApp conectado com sucesso!")):_.qrcode&&_.qrcode!==h&&x(_.qrcode)}catch(_){console.error("Erro ao verificar status:",_)}},3e3);return()=>clearInterval(V)},[j,f,h,n]);const te=Ze({mutationFn:V=>Mt.criarSessaoWhatsApp(V),onSuccess:async V=>{m(V),n.invalidateQueries({queryKey:["admin-whatsapp-sessions"]}),he.success("Sessao criada! Gerando QR Code...");try{const _=await Mt.conectarSessaoWhatsApp(V.id);_.qrcode&&(x(_.qrcode),y("aguardando_qrcode"),u("qrcode"),w(!0))}catch{he.error("Erro ao gerar QR Code"),Z()}},onError:V=>{const _=V.response?.data?.detail||"Erro ao criar sessao";he.error(_)}}),H=Ze({mutationFn:V=>Mt.atualizarSessaoWhatsApp(s.id,V),onSuccess:()=>{n.invalidateQueries({queryKey:["admin-whatsapp-sessions"]}),he.success("Sessao atualizada com sucesso!"),Z()},onError:V=>{const _=V.response?.data?.detail||"Erro ao atualizar sessao";he.error(_)}}),Y=Ze({mutationFn:V=>Mt.conectarSessaoWhatsApp(V),onSuccess:V=>{V.qrcode&&(x(V.qrcode),y("aguardando_qrcode"),w(!0))},onError:()=>{he.error("Erro ao gerar QR Code")}}),Z=()=>{w(!1),T(),u("form"),m(null),x(null),y("desconectado"),t()},ee=V=>{if(o){const L={gabineteId:V.gabineteId===""?"00000000-0000-0000-0000-000000000000":V.gabineteId,nome:V.nome,telefone:V.telefone||void 0,autoRead:V.autoRead,autoResponse:V.autoResponse,mensagemBoasVindas:V.mensagemBoasVindas||void 0};H.mutate(L)}else{const _={gabineteId:V.gabineteId||void 0,nome:V.nome,telefone:V.telefone||void 0,autoRead:V.autoRead,autoResponse:V.autoResponse,mensagemBoasVindas:V.mensagemBoasVindas||void 0};te.mutate(_)}},q=()=>{f&&Y.mutate(f.id)},U=te.isPending||H.isPending,A=()=>r.jsxs("form",{onSubmit:N(ee),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-3",children:[r.jsx(ds,{className:"w-4 h-4"}),r.jsx("span",{children:"Gabinete / Subgabinete (opcional)"})]}),z?r.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[r.jsx(or,{size:"sm"}),r.jsx("span",{children:"Carregando gabinetes..."})]}):r.jsxs("select",{...S("gabineteId"),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-white text-slate-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:[r.jsx("option",{value:"",children:"Sem vinculo (sessao geral)"}),F.map(V=>r.jsx("option",{value:V.value,children:V.isSubgabinete?`  ${V.label}`:V.label},V.value))]}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:o?"Altere para vincular ou desvincular a sessao de um gabinete":"Deixe vazio para criar uma sessao sem vinculo a gabinete"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-3",children:[r.jsx(pn,{className:"w-4 h-4"}),r.jsx("span",{children:"Nome da Sessao"})]}),r.jsx(Ve,{placeholder:"Ex: WhatsApp Principal",...S("nome",{required:"Campo obrigatorio",maxLength:{value:100,message:"Maximo 100 caracteres"}}),error:k.nome?.message})]}),o&&r.jsxs("div",{children:[r.jsx(Ve,{label:"Telefone",placeholder:"Ex: +55 11 99999-9999",...S("telefone")}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Preenchido automaticamente apos conectar o WhatsApp"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-medium text-slate-700",children:"Configuracoes"}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:E("autoRead"),onChange:V=>O("autoRead",V.target.checked),className:"w-4 h-4 rounded border-slate-300 text-green-500 focus:ring-green-500"}),r.jsx("span",{className:"text-sm text-slate-700",children:"Marcar mensagens como lidas automaticamente"})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:R,onChange:V=>O("autoResponse",V.target.checked),className:"w-4 h-4 rounded border-slate-300 text-green-500 focus:ring-green-500"}),r.jsx("span",{className:"text-sm text-slate-700",children:"Resposta automatica de boas-vindas"})]}),R&&r.jsx(on,{label:"Mensagem de boas-vindas",placeholder:"Ex: Ola! Obrigado por entrar em contato. Em breve retornaremos...",rows:3,...S("mensagemBoasVindas")})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100",children:[r.jsx(ke,{type:"button",variant:"secondary",onClick:Z,disabled:U,children:"Cancelar"}),r.jsx(ke,{type:"submit",isLoading:U,leftIcon:o?r.jsx(Jn,{className:"w-4 h-4"}):r.jsx(Vi,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:o?"Salvar":"Criar e Conectar"})]})]}),I=()=>r.jsxs("div",{className:"flex flex-col items-center py-4",children:[r.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-slate-200 mb-6",children:r.jsx("div",{className:"w-64 h-64 flex items-center justify-center bg-slate-50 rounded-xl overflow-hidden",children:Y.isPending?r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(or,{size:"lg"}),r.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Gerando QR Code..."})]}):h?h.startsWith("data:image")?r.jsx("img",{src:h,alt:"QR Code",className:"w-full h-full object-contain"}):r.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-400 p-4",children:[r.jsx(Vi,{className:"w-16 h-16 mb-2"}),r.jsx("p",{className:"text-xs text-center font-mono break-all",children:h})]}):r.jsxs("div",{className:"flex flex-col items-center text-slate-400",children:[r.jsx(Vi,{className:"w-16 h-16"}),r.jsx("p",{className:"mt-2 text-sm",children:"QR Code indisponivel"})]})})}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Escaneie o QR Code"}),r.jsxs("p",{className:"text-slate-500 text-sm max-w-xs",children:["Abra o WhatsApp no celular, va em ",r.jsx("strong",{children:"Dispositivos conectados"})," e escaneie o codigo acima."]})]}),j&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 mb-4",children:[r.jsx(or,{size:"sm"}),r.jsx("span",{children:"Aguardando conexao..."})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ke,{variant:"secondary",onClick:q,leftIcon:r.jsx(Wl,{className:"w-4 h-4"}),disabled:Y.isPending,children:"Novo QR Code"}),r.jsx(ke,{variant:"secondary",onClick:Z,children:"Fechar"})]})]}),$=()=>r.jsxs("div",{className:"flex flex-col items-center py-8",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:r.jsx(va,{className:"w-10 h-10 text-green-500"})}),r.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"WhatsApp Conectado!"}),r.jsxs("p",{className:"text-slate-500 text-center mb-6",children:["A sessao ",r.jsx("strong",{children:f?.nome})," esta conectada e pronta para uso."]}),r.jsx(ke,{onClick:Z,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:"Concluir"})]}),K=()=>{if(o)return"Editar Sessao WhatsApp";switch(c){case"form":return"Nova Sessao de WhatsApp";case"qrcode":return`Conectar WhatsApp - ${f?.nome||""}`;case"connected":return"Conexao Estabelecida";default:return"WhatsApp"}};return r.jsxs(ss,{isOpen:e,onClose:Z,title:K(),size:"md",children:[c==="form"&&A(),c==="qrcode"&&I(),c==="connected"&&$()]})},Vq=[10,25,50,100],Hq=10,Gq=[{key:"ativo",label:"Status",type:"boolean"}],Qq=({gabinete:e,onEdit:t,onToggleStatus:s})=>r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-lg text-slate-500 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Editar",children:r.jsx(Ia,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>s(e),className:je("p-2 rounded-lg transition-colors",e.ativo?"text-amber-500 hover:text-amber-600 hover:bg-amber-50":"text-green-500 hover:text-green-600 hover:bg-green-50"),title:e.ativo?"Desativar":"Ativar",children:e.ativo?r.jsx(to,{className:"w-4 h-4"}):r.jsx(so,{className:"w-4 h-4"})})]}),Zq=()=>{const e=Lt(),{setGabinetes:t,usuario:s}=qt(),[n,o]=g.useState(""),[c,u]=g.useState({}),[f,m]=g.useState(1),[h,x]=g.useState(Hq),[v,y]=g.useState("nome"),[j,w]=g.useState("asc"),[S,N]=g.useState(!1),[T,E]=g.useState(null),[O,k]=g.useState(!1),[R,P]=g.useState(null),{data:z=[],isLoading:F}=ze({queryKey:["admin-gabinetes",c],queryFn:()=>Mt.listarGabinetes({ativo:c.ativo})}),te=Ze({mutationFn:async D=>D.ativo?Mt.desativarGabinete(D.id):Mt.ativarGabinete(D.id),onSuccess:async(D,Q)=>{if(e.invalidateQueries({queryKey:["admin-gabinetes"]}),he.success(Q.ativo?`Gabinete "${Q.nome}" desativado`:`Gabinete "${Q.nome}" ativado`),s?.superUsuario)try{const W=await tr.me();W.gabinetes&&t(W.gabinetes)}catch(W){console.error("Erro ao atualizar lista de gabinetes:",W)}},onError:()=>{he.error("Erro ao alterar status do gabinete")}}),H=g.useMemo(()=>{let D=[...z];if(n){const Q=n.toLowerCase();D=D.filter(W=>W.nome.toLowerCase().includes(Q)||W.codigo.toLowerCase().includes(Q)||W.parlamentar?.nome.toLowerCase().includes(Q)||W.parlamentar?.email.toLowerCase().includes(Q))}return D.sort((Q,W)=>{const we=Q[v]||"",ue=W[v]||"",ve=String(we).localeCompare(String(ue));return j==="asc"?ve:-ve}),D},[z,n,v,j]),Y=g.useMemo(()=>{const D=(f-1)*h;return H.slice(D,D+h)},[H,f,h]),Z=Math.ceil(H.length/h),ee=g.useCallback(D=>{y(Q=>Q===D?(w(W=>W==="asc"?"desc":"asc"),D):(w("asc"),D))},[]),q=g.useCallback(D=>{o(D),m(1)},[]),U=g.useCallback(D=>{u(D),m(1)},[]),A=g.useCallback(D=>{m(D)},[]),I=g.useCallback(D=>{x(D),m(1)},[]),$=()=>{E(null),N(!0)},K=D=>{E(D),N(!0)},V=()=>{N(!1),E(null)},_=D=>{P(D),k(!0)},L=()=>{R&&te.mutate(R,{onSuccess:()=>{k(!1),P(null)}})},G=()=>{k(!1),P(null)},ne=[{key:"nome",header:"Gabinete",sortable:!0,render:D=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center text-white font-bold",children:D.nome.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:D.nome}),r.jsx("p",{className:"text-xs text-slate-500",children:D.codigo})]})]})},{key:"parlamentar",header:"Parlamentar",render:D=>r.jsx("div",{children:D.parlamentar?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-slate-700",children:D.parlamentar.nome}),r.jsx("p",{className:"text-xs text-slate-500",children:D.parlamentar.email})]}):r.jsx("span",{className:"text-slate-400 text-sm",children:"Nao vinculado"})})},{key:"ativo",header:"Status",width:"120px",align:"center",render:D=>r.jsx(ts,{variant:D.ativo?"success":"default",children:D.ativo?"Ativo":"Inativo"})}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ds,{className:"w-6 h-6 text-amber-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Gabinetes"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Gerencie os gabinetes cadastrados no sistema"})]}),r.jsx(ke,{leftIcon:r.jsx(fs,{className:"w-4 h-4"}),onClick:$,className:"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600",children:"Novo Gabinete"})]}),r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(pr,{placeholder:"Buscar por nome, codigo, parlamentar...",value:n,onSearch:q,filters:Gq,activeFilters:c,onFilterChange:U}),r.jsxs("p",{className:"text-sm text-slate-500",children:[H.length," gabinete(s) encontrado(s)"]})]})}),r.jsx(Kt,{columns:ne,data:Y,keyExtractor:D=>D.id,isLoading:F,emptyMessage:"Nenhum gabinete encontrado",emptyDescription:"Cadastre um novo gabinete para comecar",emptyIcon:r.jsx(ds,{className:"w-12 h-12 text-slate-300"}),sortBy:v,sortDir:j,onSort:ee,rowClassName:D=>D.ativo?"":"bg-slate-50 opacity-75",actions:D=>r.jsx(Qq,{gabinete:D,onEdit:K,onToggleStatus:_})}),H.length>0&&r.jsx(Bs,{currentPage:f,totalPages:Z,totalItems:H.length,pageSize:h,onPageChange:A,onPageSizeChange:I,pageSizeOptions:Vq}),r.jsx(Fq,{isOpen:S,onClose:V,gabinete:T}),r.jsx(Jr,{isOpen:O,onClose:G,onConfirm:L,title:R?.ativo?"Desativar Gabinete":"Ativar Gabinete",message:r.jsxs(r.Fragment,{children:["Tem certeza que deseja ",R?.ativo?"desativar":"ativar"," o gabinete"," ",r.jsxs("strong",{className:"text-slate-900",children:['"',R?.nome,'"']}),"?",R?.ativo&&r.jsx("span",{className:"text-sm text-slate-400 mt-2 block",children:"O gabinete nao estara mais disponivel para acesso."})]}),confirmText:R?.ativo?"Sim, Desativar":"Sim, Ativar",cancelText:"Cancelar",variant:R?.ativo?"warning":"success",isLoading:te.isPending})]})},Kq=[10,25,50,100],Yq=10,Wq=[{key:"status",label:"Status",type:"select",options:[{value:"ativo",label:"Ativo"},{value:"inativo",label:"Inativo"},{value:"bloqueado",label:"Bloqueado"}]}],Xq=({usuario:e,onEdit:t,onToggleStatus:s})=>{const n=e.status==="ativo";return r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-lg text-slate-500 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Editar",children:r.jsx(Ia,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>s(e),className:je("p-2 rounded-lg transition-colors",n?"text-amber-500 hover:text-amber-600 hover:bg-amber-50":"text-green-500 hover:text-green-600 hover:bg-green-50"),title:n?"Desativar":"Ativar",children:n?r.jsx(to,{className:"w-4 h-4"}):r.jsx(so,{className:"w-4 h-4"})})]})},Jq=()=>{const e=Lt(),[t,s]=g.useState(""),[n,o]=g.useState({}),[c,u]=g.useState(1),[f,m]=g.useState(Yq),[h,x]=g.useState("nome"),[v,y]=g.useState("asc"),[j,w]=g.useState(!1),[S,N]=g.useState(null),{data:T=[],isLoading:E}=ze({queryKey:["admin-usuarios",n],queryFn:()=>Mt.listarUsuarios({})}),O=Ze({mutationFn:async A=>{const I=A.status==="ativo"?"inativo":"ativo";return Mt.atualizarUsuario(A.id,{status:I})},onSuccess:(A,I)=>{e.invalidateQueries({queryKey:["admin-usuarios"]}),he.success(I.status==="ativo"?`Usuario "${I.nome}" desativado`:`Usuario "${I.nome}" ativado`)},onError:()=>{he.error("Erro ao alterar status do usuario")}}),k=g.useMemo(()=>{let A=[...T];if(t){const I=t.toLowerCase();A=A.filter($=>$.nome.toLowerCase().includes(I)||$.email.toLowerCase().includes(I)||$.gabineteNome?.toLowerCase().includes(I)||$.gabinetePrincipalNome?.toLowerCase().includes(I))}return n.status&&(A=A.filter(I=>I.status===n.status)),A.sort((I,$)=>{const K=I[h]||"",V=$[h]||"",_=String(K).localeCompare(String(V));return v==="asc"?_:-_}),A},[T,t,n,h,v]),R=g.useMemo(()=>{const A=(c-1)*f;return k.slice(A,A+f)},[k,c,f]),P=Math.ceil(k.length/f),z=g.useCallback(A=>{x(I=>I===A?(y($=>$==="asc"?"desc":"asc"),A):(y("asc"),A))},[]),F=g.useCallback(A=>{s(A),u(1)},[]),te=g.useCallback(A=>{o(A),u(1)},[]),H=g.useCallback(A=>{u(A)},[]),Y=g.useCallback(A=>{m(A),u(1)},[]),Z=()=>{N(null),w(!0)},ee=A=>{N(A),w(!0)},q=()=>{w(!1),N(null)},U=[{key:"nome",header:"Usuario",sortable:!0,render:A=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white font-bold",children:A.nome.charAt(0)}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-medium text-slate-900",children:A.nome}),A.superUsuario&&r.jsx(Ma,{className:"w-4 h-4 text-amber-500"})]}),r.jsx("p",{className:"text-xs text-slate-500",children:A.email})]})]})},{key:"gabineteNome",header:"Gabinete/SubGabinete",render:A=>r.jsx("div",{children:A.gabineteNome?r.jsxs("div",{className:"flex items-center gap-2",children:[A.isSubgabinete?r.jsx(sr,{className:"w-4 h-4 text-violet-500 flex-shrink-0"}):r.jsx(ds,{className:"w-4 h-4 text-primary-500 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:A.isSubgabinete?"Subgabinete":"Gabinete"}),r.jsx("p",{className:"text-slate-700 font-medium",children:A.gabineteNome}),A.isSubgabinete&&A.gabinetePrincipalNome&&r.jsxs("p",{className:"text-xs text-slate-400",children:["Gab: ",A.gabinetePrincipalNome]})]})]}):r.jsx("span",{className:"text-slate-400 text-sm",children:A.superUsuario?"Todos":"Nao vinculado"})})},{key:"status",header:"Status",width:"120px",align:"center",render:A=>{const I={ativo:{variant:"success",label:"Ativo"},inativo:{variant:"default",label:"Inativo"},bloqueado:{variant:"error",label:"Bloqueado"},pendente:{variant:"default",label:"Pendente"}},$=I[A.status]||I.inativo;return r.jsx(ts,{variant:$.variant,children:$.label})}}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(es,{className:"w-6 h-6 text-primary-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Usuarios"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Gerencie os usuarios cadastrados no sistema"})]}),r.jsx(ke,{leftIcon:r.jsx(fs,{className:"w-4 h-4"}),onClick:Z,children:"Novo Usuario"})]}),r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(pr,{placeholder:"Buscar por nome, email, gabinete, subgabinete...",value:t,onSearch:F,filters:Wq,activeFilters:n,onFilterChange:te}),r.jsxs("p",{className:"text-sm text-slate-500",children:[k.length," usuario(s) encontrado(s)"]})]})}),r.jsx(Kt,{columns:U,data:R,keyExtractor:A=>A.id,isLoading:E,emptyMessage:"Nenhum usuario encontrado",emptyDescription:"Cadastre um novo usuario para comecar",emptyIcon:r.jsx(es,{className:"w-12 h-12 text-slate-300"}),sortBy:h,sortDir:v,onSort:z,rowClassName:A=>A.status!=="ativo"?"bg-slate-50 opacity-75":"",actions:A=>r.jsx(Xq,{usuario:A,onEdit:ee,onToggleStatus:I=>O.mutate(I)})}),k.length>0&&r.jsx(Bs,{currentPage:c,totalPages:P,totalItems:k.length,pageSize:f,onPageChange:H,onPageSizeChange:Y,pageSizeOptions:Kq}),r.jsx(qq,{isOpen:j,onClose:q,usuario:S})]})},eU=[10,25,50,100],tU=10,sU=[{key:"ativo",label:"Status",type:"boolean"}],nU=({subgabinete:e,onEdit:t,onToggleStatus:s})=>r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-lg text-slate-500 hover:text-violet-600 hover:bg-violet-50 transition-colors",title:"Editar",children:r.jsx(Ia,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>s(e),className:je("p-2 rounded-lg transition-colors",e.ativo?"text-amber-500 hover:text-amber-600 hover:bg-amber-50":"text-green-500 hover:text-green-600 hover:bg-green-50"),title:e.ativo?"Desativar":"Ativar",children:e.ativo?r.jsx(to,{className:"w-4 h-4"}):r.jsx(so,{className:"w-4 h-4"})})]}),aU=()=>{const e=Lt(),{setSubgabinetes:t,usuario:s,gabinete:n}=qt(),[o,c]=g.useState(""),[u,f]=g.useState({}),[m,h]=g.useState(1),[x,v]=g.useState(tU),[y,j]=g.useState("nome"),[w,S]=g.useState("asc"),[N,T]=g.useState(!1),[E,O]=g.useState(null),[k,R]=g.useState(!1),[P,z]=g.useState(null),{data:F=[],isLoading:te}=ze({queryKey:["admin-subgabinetes",u],queryFn:()=>Mt.listarSubgabinetes()}),H=Ze({mutationFn:async Q=>Q.ativo?Mt.desativarSubgabinete(Q.id):Mt.ativarSubgabinete(Q.id),onSuccess:async(Q,W)=>{if(e.invalidateQueries({queryKey:["admin-subgabinetes"]}),he.success(W.ativo?`Subgabinete "${W.nome}" desativado`:`Subgabinete "${W.nome}" ativado`),s?.isAdminGabinete)try{const we=await tr.me();we.subgabinetes&&t(we.subgabinetes)}catch(we){console.error("Erro ao atualizar lista de subgabinetes:",we)}},onError:()=>{he.error("Erro ao alterar status do subgabinete")}}),Y=g.useMemo(()=>{let Q=[...F];if(o){const W=o.toLowerCase();Q=Q.filter(we=>we.nome.toLowerCase().includes(W)||we.codigo.toLowerCase().includes(W))}return u.ativo!==void 0&&(Q=Q.filter(W=>W.ativo===u.ativo)),Q.sort((W,we)=>{const ue=W[y]||"",ve=we[y]||"",$e=String(ue).localeCompare(String(ve));return w==="asc"?$e:-$e}),Q},[F,o,u,y,w]),Z=g.useMemo(()=>{const Q=(m-1)*x;return Y.slice(Q,Q+x)},[Y,m,x]),ee=Math.ceil(Y.length/x),q=g.useCallback(Q=>{j(W=>W===Q?(S(we=>we==="asc"?"desc":"asc"),Q):(S("asc"),Q))},[]),U=g.useCallback(Q=>{c(Q),h(1)},[]),A=g.useCallback(Q=>{f(Q),h(1)},[]),I=g.useCallback(Q=>{h(Q)},[]),$=g.useCallback(Q=>{v(Q),h(1)},[]),K=()=>{O(null),T(!0)},V=Q=>{O(Q),T(!0)},_=()=>{T(!1),O(null)},L=Q=>{z(Q),R(!0)},G=()=>{P&&H.mutate(P,{onSuccess:()=>{R(!1),z(null)}})},ne=()=>{R(!1),z(null)},D=[{key:"nome",header:"Subgabinete",sortable:!0,render:Q=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-400 to-purple-500 flex items-center justify-center text-white font-bold",children:Q.nome.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:Q.nome}),r.jsx("p",{className:"text-xs text-slate-500",children:Q.codigo})]})]})},{key:"ativo",header:"Status",width:"120px",align:"center",render:Q=>r.jsx(ts,{variant:Q.ativo?"success":"default",children:Q.ativo?"Ativo":"Inativo"})}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(sr,{className:"w-6 h-6 text-violet-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Subgabinetes"})]}),r.jsxs("p",{className:"text-slate-500 mt-1",children:["Gerencie os subgabinetes do ",n?.nome||"gabinete"]})]}),r.jsx(ke,{leftIcon:r.jsx(fs,{className:"w-4 h-4"}),onClick:K,className:"bg-gradient-to-r from-violet-500 to-purple-500 hover:from-violet-600 hover:to-purple-600",children:"Novo Subgabinete"})]}),r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(pr,{placeholder:"Buscar por nome, codigo...",value:o,onSearch:U,filters:sU,activeFilters:u,onFilterChange:A}),r.jsxs("p",{className:"text-sm text-slate-500",children:[Y.length," subgabinete(s) encontrado(s)"]})]})}),r.jsx(Kt,{columns:D,data:Z,keyExtractor:Q=>Q.id,isLoading:te,emptyMessage:"Nenhum subgabinete encontrado",emptyDescription:"Cadastre um novo subgabinete para comecar",emptyIcon:r.jsx(sr,{className:"w-12 h-12 text-slate-300"}),sortBy:y,sortDir:w,onSort:q,rowClassName:Q=>Q.ativo?"":"bg-slate-50 opacity-75",actions:Q=>r.jsx(nU,{subgabinete:Q,onEdit:V,onToggleStatus:L})}),Y.length>0&&r.jsx(Bs,{currentPage:m,totalPages:ee,totalItems:Y.length,pageSize:x,onPageChange:I,onPageSizeChange:$,pageSizeOptions:eU}),r.jsx(Uq,{isOpen:N,onClose:_,subgabinete:E}),r.jsx(Jr,{isOpen:k,onClose:ne,onConfirm:G,title:P?.ativo?"Desativar Subgabinete":"Ativar Subgabinete",message:r.jsxs(r.Fragment,{children:["Tem certeza que deseja ",P?.ativo?"desativar":"ativar"," o subgabinete"," ",r.jsxs("strong",{className:"text-slate-900",children:['"',P?.nome,'"']}),"?",P?.ativo&&r.jsx("span",{className:"text-sm text-slate-400 mt-2 block",children:"O subgabinete nao estara mais disponivel para acesso."})]}),confirmText:P?.ativo?"Sim, Desativar":"Sim, Ativar",cancelText:"Cancelar",variant:P?.ativo?"warning":"success",isLoading:H.isPending})]})},dr=Object.create(null);dr.open="0";dr.close="1";dr.ping="2";dr.pong="3";dr.message="4";dr.upgrade="5";dr.noop="6";const Nm=Object.create(null);Object.keys(dr).forEach(e=>{Nm[dr[e]]=e});const Ux={type:"error",data:"parser error"},P_=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",I_=typeof ArrayBuffer=="function",F_=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Wb=({type:e,data:t},s,n)=>P_&&t instanceof Blob?s?n(t):xN(t,n):I_&&(t instanceof ArrayBuffer||F_(t))?s?n(t):xN(new Blob([t]),n):n(dr[e]+(t||"")),xN=(e,t)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];t("b"+(n||""))},s.readAsDataURL(e)};function bN(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let G0;function rU(e,t){if(P_&&e.data instanceof Blob)return e.data.arrayBuffer().then(bN).then(t);if(I_&&(e.data instanceof ArrayBuffer||F_(e.data)))return t(bN(e.data));Wb(e,!1,s=>{G0||(G0=new TextEncoder),t(G0.encode(s))})}const vN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ru=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<vN.length;e++)Ru[vN.charCodeAt(e)]=e;const iU=e=>{let t=e.length*.75,s=e.length,n,o=0,c,u,f,m;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),x=new Uint8Array(h);for(n=0;n<s;n+=4)c=Ru[e.charCodeAt(n)],u=Ru[e.charCodeAt(n+1)],f=Ru[e.charCodeAt(n+2)],m=Ru[e.charCodeAt(n+3)],x[o++]=c<<2|u>>4,x[o++]=(u&15)<<4|f>>2,x[o++]=(f&3)<<6|m&63;return h},oU=typeof ArrayBuffer=="function",Xb=(e,t)=>{if(typeof e!="string")return{type:"message",data:L_(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:lU(e.substring(1),t)}:Nm[s]?e.length>1?{type:Nm[s],data:e.substring(1)}:{type:Nm[s]}:Ux},lU=(e,t)=>{if(oU){const s=iU(e);return L_(s,t)}else return{base64:!0,data:e}},L_=(e,t)=>t==="blob"?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,q_="",cU=(e,t)=>{const s=e.length,n=new Array(s);let o=0;e.forEach((c,u)=>{Wb(c,!1,f=>{n[u]=f,++o===s&&t(n.join(q_))})})},uU=(e,t)=>{const s=e.split(q_),n=[];for(let o=0;o<s.length;o++){const c=Xb(s[o],t);if(n.push(c),c.type==="error")break}return n};function dU(){return new TransformStream({transform(e,t){rU(e,s=>{const n=s.length;let o;if(n<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,n);else if(n<65536){o=new Uint8Array(3);const c=new DataView(o.buffer);c.setUint8(0,126),c.setUint16(1,n)}else{o=new Uint8Array(9);const c=new DataView(o.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(s)})}})}let Q0;function um(e){return e.reduce((t,s)=>t+s.length,0)}function dm(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let n=0;for(let o=0;o<t;o++)s[o]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),s}function fU(e,t){Q0||(Q0=new TextDecoder);const s=[];let n=0,o=-1,c=!1;return new TransformStream({transform(u,f){for(s.push(u);;){if(n===0){if(um(s)<1)break;const m=dm(s,1);c=(m[0]&128)===128,o=m[0]&127,o<126?n=3:o===126?n=1:n=2}else if(n===1){if(um(s)<2)break;const m=dm(s,2);o=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),n=3}else if(n===2){if(um(s)<8)break;const m=dm(s,8),h=new DataView(m.buffer,m.byteOffset,m.length),x=h.getUint32(0);if(x>Math.pow(2,21)-1){f.enqueue(Ux);break}o=x*Math.pow(2,32)+h.getUint32(4),n=3}else{if(um(s)<o)break;const m=dm(s,o);f.enqueue(Xb(c?m:Q0.decode(m),t)),n=0}if(o===0||o>e){f.enqueue(Ux);break}}}})}const U_=4;function Cs(e){if(e)return mU(e)}function mU(e){for(var t in Cs.prototype)e[t]=Cs.prototype[t];return e}Cs.prototype.on=Cs.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Cs.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};Cs.prototype.off=Cs.prototype.removeListener=Cs.prototype.removeAllListeners=Cs.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,o=0;o<s.length;o++)if(n=s[o],n===t||n.fn===t){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+e],this};Cs.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,o=s.length;n<o;++n)s[n].apply(this,t)}return this};Cs.prototype.emitReserved=Cs.prototype.emit;Cs.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Cs.prototype.hasListeners=function(e){return!!this.listeners(e).length};const lp=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),ba=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),hU="arraybuffer";function B_(e,...t){return t.reduce((s,n)=>(e.hasOwnProperty(n)&&(s[n]=e[n]),s),{})}const pU=ba.setTimeout,gU=ba.clearTimeout;function cp(e,t){t.useNativeTimers?(e.setTimeoutFn=pU.bind(ba),e.clearTimeoutFn=gU.bind(ba)):(e.setTimeoutFn=ba.setTimeout.bind(ba),e.clearTimeoutFn=ba.clearTimeout.bind(ba))}const xU=1.33;function bU(e){return typeof e=="string"?vU(e):Math.ceil((e.byteLength||e.size)*xU)}function vU(e){let t=0,s=0;for(let n=0,o=e.length;n<o;n++)t=e.charCodeAt(n),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(n++,s+=4);return s}function V_(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function yU(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function jU(e){let t={},s=e.split("&");for(let n=0,o=s.length;n<o;n++){let c=s[n].split("=");t[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return t}class wU extends Error{constructor(t,s,n){super(t),this.description=s,this.context=n,this.type="TransportError"}}class Jb extends Cs{constructor(t){super(),this.writable=!1,cp(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,n){return super.emitReserved("error",new wU(t,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=Xb(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=yU(t);return s.length?"?"+s:""}}class SU extends Jb{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};uU(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,cU(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=V_()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let H_=!1;try{H_=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const NU=H_;function CU(){}class EU extends SU{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let n=location.port;n||(n=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,s){const n=this.request({method:"POST",data:t});n.on("success",s),n.on("error",(o,c)=>{this.onError("xhr post error",o,c)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=t}}class lr extends Cs{constructor(t,s,n){super(),this.createRequest=t,cp(this,n),this._opts=n,this._method=n.method||"GET",this._uri=s,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const s=B_(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(s);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var o;n.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=lr.requestsCount++,lr.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=CU,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete lr.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}lr.requestsCount=0;lr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",yN);else if(typeof addEventListener=="function"){const e="onpagehide"in ba?"pagehide":"unload";addEventListener(e,yN,!1)}}function yN(){for(let e in lr.requests)lr.requests.hasOwnProperty(e)&&lr.requests[e].abort()}const _U=(function(){const e=G_({xdomain:!1});return e&&e.responseType!==null})();class TU extends EU{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=_U&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new lr(G_,this.uri(),t)}}function G_(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||NU))return new XMLHttpRequest}catch{}if(!t)try{return new ba[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Q_=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class OU extends Jb{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,n=Q_?{}:B_(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,n)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],o=s===t.length-1;Wb(n,this.supportsBinary,c=>{try{this.doWrite(n,c)}catch{}o&&lp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=V_()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const Z0=ba.WebSocket||ba.MozWebSocket;class kU extends OU{createSocket(t,s,n){return Q_?new Z0(t,s,n):s?new Z0(t,s):new Z0(t)}doWrite(t,s){this.ws.send(s)}}class AU extends Jb{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=fU(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(s).getReader(),o=dU();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const c=()=>{n.read().then(({done:f,value:m})=>{f||(this.onPacket(m),c())}).catch(f=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],o=s===t.length-1;this._writer.write(n).then(()=>{o&&lp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const MU={websocket:kU,webtransport:AU,polling:TU},RU=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,DU=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Bx(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),n=e.indexOf("]");s!=-1&&n!=-1&&(e=e.substring(0,s)+e.substring(s,n).replace(/:/g,";")+e.substring(n,e.length));let o=RU.exec(e||""),c={},u=14;for(;u--;)c[DU[u]]=o[u]||"";return s!=-1&&n!=-1&&(c.source=t,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=zU(c,c.path),c.queryKey=$U(c,c.query),c}function zU(e,t){const s=/\/{2,9}/g,n=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function $U(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,o,c){o&&(s[o]=c)}),s}const Vx=typeof addEventListener=="function"&&typeof removeEventListener=="function",Cm=[];Vx&&addEventListener("offline",()=>{Cm.forEach(e=>e())},!1);class Hi extends Cs{constructor(t,s){if(super(),this.binaryType=hU,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const n=Bx(t);s.hostname=n.host,s.secure=n.protocol==="https"||n.protocol==="wss",s.port=n.port,n.query&&(s.query=n.query)}else s.host&&(s.hostname=Bx(s.host).host);cp(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(n=>{const o=n.prototype.name;this.transports.push(o),this._transportsByName[o]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=jU(this.opts.query)),Vx&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Cm.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=U_,s.transport=t,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Hi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",Hi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let n=0;n<this.writeBuffer.length;n++){const o=this.writeBuffer[n].data;if(o&&(s+=bU(o)),n>0&&s>this._maxPayload)return this.writeBuffer.slice(0,n);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,lp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,n){return this._sendPacket("message",t,s,n),this}send(t,s,n){return this._sendPacket("message",t,s,n),this}_sendPacket(t,s,n,o){if(typeof s=="function"&&(o=s,s=void 0),typeof n=="function"&&(o=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const c={type:t,data:s,options:n};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Hi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Vx&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Cm.indexOf(this._offlineEventListener);n!==-1&&Cm.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}Hi.protocol=U_;class PU extends Hi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),n=!1;Hi.priorWebsocketSuccess=!1;const o=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",v=>{if(!n)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Hi.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(x(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=s.name,this.emitReserved("upgradeError",y)}}))};function c(){n||(n=!0,x(),s.close(),s=null)}const u=v=>{const y=new Error("probe error: "+v);y.transport=s.name,c(),this.emitReserved("upgradeError",y)};function f(){u("transport closed")}function m(){u("socket closed")}function h(v){s&&v.name!==s.name&&c()}const x=()=>{s.removeListener("open",o),s.removeListener("error",u),s.removeListener("close",f),this.off("close",m),this.off("upgrading",h)};s.once("open",o),s.once("error",u),s.once("close",f),this.once("close",m),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&s.push(t[n]);return s}}let IU=class extends PU{constructor(t,s={}){const n=typeof t=="object"?t:s;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(o=>MU[o]).filter(o=>!!o)),super(t,n)}};function FU(e,t="",s){let n=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),n=Bx(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const c=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+c+":"+n.port+t,n.href=n.protocol+"://"+c+(s&&s.port===n.port?"":":"+n.port),n}const LU=typeof ArrayBuffer=="function",qU=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Z_=Object.prototype.toString,UU=typeof Blob=="function"||typeof Blob<"u"&&Z_.call(Blob)==="[object BlobConstructor]",BU=typeof File=="function"||typeof File<"u"&&Z_.call(File)==="[object FileConstructor]";function ev(e){return LU&&(e instanceof ArrayBuffer||qU(e))||UU&&e instanceof Blob||BU&&e instanceof File}function Em(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,n=e.length;s<n;s++)if(Em(e[s]))return!0;return!1}if(ev(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Em(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&Em(e[s]))return!0;return!1}function VU(e){const t=[],s=e.data,n=e;return n.data=Hx(s,t),n.attachments=t.length,{packet:n,buffers:t}}function Hx(e,t){if(!e)return e;if(ev(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let n=0;n<e.length;n++)s[n]=Hx(e[n],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=Hx(e[n],t));return s}return e}function HU(e,t){return e.data=Gx(e.data,t),delete e.attachments,e}function Gx(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=Gx(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=Gx(e[s],t));return e}const K_=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],GU=5;var rt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(rt||(rt={}));class QU{constructor(t){this.replacer=t}encode(t){return(t.type===rt.EVENT||t.type===rt.ACK)&&Em(t)?this.encodeAsBinary({type:t.type===rt.EVENT?rt.BINARY_EVENT:rt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===rt.BINARY_EVENT||t.type===rt.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=VU(t),n=this.encodeAsString(s.packet),o=s.buffers;return o.unshift(n),o}}class tv extends Cs{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const n=s.type===rt.BINARY_EVENT;n||s.type===rt.BINARY_ACK?(s.type=n?rt.EVENT:rt.ACK,this.reconstructor=new ZU(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(ev(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const n={type:Number(t.charAt(0))};if(rt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===rt.BINARY_EVENT||n.type===rt.BINARY_ACK){const c=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const u=t.substring(c,s);if(u!=Number(u)||t.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(u)}if(t.charAt(s+1)==="/"){const c=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););n.nsp=t.substring(c,s)}else n.nsp="/";const o=t.charAt(s+1);if(o!==""&&Number(o)==o){const c=s+1;for(;++s;){const u=t.charAt(s);if(u==null||Number(u)!=u){--s;break}if(s===t.length)break}n.id=Number(t.substring(c,s+1))}if(t.charAt(++s)){const c=this.tryParse(t.substr(s));if(tv.isPayloadValid(n.type,c))n.data=c;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case rt.CONNECT:return ah(s);case rt.DISCONNECT:return s===void 0;case rt.CONNECT_ERROR:return typeof s=="string"||ah(s);case rt.EVENT:case rt.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&K_.indexOf(s[0])===-1);case rt.ACK:case rt.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ZU{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=HU(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function KU(e){return typeof e=="string"}const YU=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function WU(e){return e===void 0||YU(e)}function ah(e){return Object.prototype.toString.call(e)==="[object Object]"}function XU(e,t){switch(e){case rt.CONNECT:return t===void 0||ah(t);case rt.DISCONNECT:return t===void 0;case rt.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&K_.indexOf(t[0])===-1);case rt.ACK:return Array.isArray(t);case rt.CONNECT_ERROR:return typeof t=="string"||ah(t);default:return!1}}function JU(e){return KU(e.nsp)&&WU(e.id)&&XU(e.type,e.data)}const eB=Object.freeze(Object.defineProperty({__proto__:null,Decoder:tv,Encoder:QU,get PacketType(){return rt},isPacketValid:JU,protocol:GU},Symbol.toStringTag,{value:"Module"}));function Ea(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const tB=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Y_ extends Cs{constructor(t,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ea(t,"open",this.onopen.bind(this)),Ea(t,"packet",this.onpacket.bind(this)),Ea(t,"error",this.onerror.bind(this)),Ea(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var n,o,c;if(tB.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const u={type:rt.EVENT,data:s};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const x=this.ids++,v=s.pop();this._registerAckCallback(x,v),u.id=x}const f=(o=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||o===void 0?void 0:o.writable,m=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!f||(m?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(t,s){var n;const o=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(o===void 0){this.acks[t]=s;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===t&&this.sendBuffer.splice(f,1);s.call(this,new Error("operation has timed out"))},o),u=(...f)=>{this.io.clearTimeoutFn(c),s.apply(this,f)};u.withError=!0,this.acks[t]=u}emitWithAck(t,...s){return new Promise((n,o)=>{const c=(u,f)=>u?o(u):n(f);c.withError=!0,s.push(c),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...c)=>(this._queue[0],o!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(o)):(this._queue.shift(),s&&s(null,...c)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:rt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case rt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case rt.EVENT:case rt.BINARY_EVENT:this.onevent(t);break;case rt.ACK:case rt.BINARY_ACK:this.onack(t);break;case rt.DISCONNECT:this.ondisconnect();break;case rt.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let n=!1;return function(...o){n||(n=!0,s.packet({type:rt.ACK,id:t,data:o}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:rt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,t.data)}}}function yc(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}yc.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-s:e+s}return Math.min(e,this.max)|0};yc.prototype.reset=function(){this.attempts=0};yc.prototype.setMin=function(e){this.ms=e};yc.prototype.setMax=function(e){this.max=e};yc.prototype.setJitter=function(e){this.jitter=e};class Qx extends Cs{constructor(t,s){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,cp(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new yc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const o=s.parser||eB;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new IU(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const o=Ea(s,"open",function(){n.onopen(),t&&t()}),c=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),t?t(f):this.maybeReconnectOnOpen()},u=Ea(s,"error",c);if(this._timeout!==!1){const f=this._timeout,m=this.setTimeoutFn(()=>{o(),c(new Error("timeout")),s.close()},f);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(o),this.subs.push(u),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ea(t,"ping",this.onping.bind(this)),Ea(t,"data",this.ondata.bind(this)),Ea(t,"error",this.onerror.bind(this)),Ea(t,"close",this.onclose.bind(this)),Ea(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){lp(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Y_(this,t,s),this.nsps[t]=n),n}_destroy(t){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let n=0;n<s.length;n++)this.engine.write(s[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Su={};function _m(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=FU(e,t.path||"/socket.io"),n=s.source,o=s.id,c=s.path,u=Su[o]&&c in Su[o].nsps,f=t.forceNew||t["force new connection"]||t.multiplex===!1||u;let m;return f?m=new Qx(n,t):(Su[o]||(Su[o]=new Qx(n,t)),m=Su[o]),s.query&&!t.query&&(t.query=s.queryKey),m.socket(s.path,t)}Object.assign(_m,{Manager:Qx,Socket:Y_,io:_m,connect:_m});const _n="https://ws-gpvx.cdxsistemas.com.br:3004/api/whatsapp",sB="https://ws-gpvx.cdxsistemas.com.br:3004",W_=()=>qt.getState().token,Tn=()=>{const e=W_();return{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}}};class nB{socket=null;listeners=new Map;currentSessionId=null;connect(t){if(this.socket?.connected&&this.currentSessionId===t)return;this.socket&&this.disconnect(),this.currentSessionId=t;const s=W_();this.socket=_m(sB,{transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,auth:{token:s}}),this.socket.on("connect",()=>{console.log("WhatsApp Socket conectado"),this.socket?.emit("session:join",t)}),this.socket.on("connect_error",n=>{console.error("Erro de conexao Socket:",n.message),this.emit("error",{message:n.message})}),this.socket.on("disconnect",()=>{console.log("WhatsApp Socket desconectado")}),this.socket.on("session:qr",n=>{this.emit("qr",n)}),this.socket.on("session:authenticated",n=>{this.emit("authenticated",n)}),this.socket.on("session:ready",n=>{this.emit("ready",n)}),this.socket.on("session:disconnected",n=>{this.emit("disconnected",n)}),this.socket.on("session:auth_failure",n=>{this.emit("auth_failure",n)}),this.socket.on("session:message",n=>{this.emit("message",n)}),this.socket.on("session:status",n=>{this.emit("status",n)}),this.socket.on("whatsapp:qr",n=>{this.emit("qr",n)}),this.socket.on("whatsapp:authenticated",n=>{this.emit("authenticated",n)}),this.socket.on("whatsapp:ready",n=>{this.emit("ready",n)}),this.socket.on("whatsapp:disconnected",n=>{this.emit("disconnected",n)}),this.socket.on("whatsapp:auth_failure",n=>{this.emit("auth_failure",n)}),this.socket.on("whatsapp:message",n=>{this.emit("message",n)})}disconnect(){this.socket&&(this.currentSessionId&&this.socket.emit("session:leave",this.currentSessionId),this.socket.disconnect(),this.socket=null,this.currentSessionId=null)}on(t,s){return this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(s),()=>{this.listeners.get(t)?.delete(s)}}off(t,s){this.listeners.get(t)?.delete(s)}emit(t,s){this.listeners.get(t)?.forEach(n=>{try{n(s)}catch(o){console.error(`Erro no listener ${t}:`,o)}})}requestQrCode(t){this.socket?.emit("session:request-qr",t)}isConnected(){return this.socket?.connected||!1}}const Qa=new nB;function aB(e){return{id:e.id,gabineteId:e.gabinete_id,nome:e.nome,telefone:e.telefone,status:e.status,ativo:e.ativo,createdAt:e.created_at}}function Nu(e){return{id:e.id,gabineteId:e.gabinete_id,nome:e.nome,telefone:e.telefone,status:e.status,instanceId:e.instance_id,instanceName:e.instance_name,qrcode:e.qrcode,qrcodeCount:e.qrcode_count,autoRead:e.auto_read??!0,autoResponse:e.auto_response??!1,mensagemBoasVindas:e.mensagem_boas_vindas,ativo:e.ativo??!0,createdAt:e.created_at,updatedAt:e.updated_at}}function jN(e){const t={};return e.nome!==void 0&&(t.nome=e.nome),e.telefone!==void 0&&(t.telefone=e.telefone||null),e.autoRead!==void 0&&(t.auto_read=e.autoRead),e.autoResponse!==void 0&&(t.auto_response=e.autoResponse),e.mensagemBoasVindas!==void 0&&(t.mensagem_boas_vindas=e.mensagemBoasVindas||null),"ativo"in e&&e.ativo!==void 0&&(t.ativo=e.ativo),t}function rB(e){return{id:e.id,gabineteId:e.gabinete_id,instanciaId:e.instancia_id,remoteJid:e.remote_jid,messageId:e.message_id,tipo:e.tipo,conteudo:e.conteudo,fromMe:e.from_me,timestamp:e.timestamp,status:e.status,pessoaId:e.pessoa_id,pessoa:e.pessoa?{id:e.pessoa.id,nome:e.pessoa.nome}:void 0,createdAt:e.created_at}}function wN(e){return{items:e.items.map(rB),total:e.total,page:e.page,pageSize:e.page_size,totalPages:e.total_pages}}function iB(e){return{remoteJid:e.remote_jid,telefone:e.telefone,pessoaId:e.pessoa_id,pessoaNome:e.pessoa_nome,ultimaMensagem:e.ultima_mensagem,ultimaData:e.ultima_data,totalMensagens:e.total_mensagens,mensagensEnviadas:e.mensagens_enviadas,mensagensRecebidas:e.mensagens_recebidas}}const qs={async listar(){const{data:e}=await xe.get("/whatsapp");return e.map(aB)},async obter(e){const{data:t}=await xe.get(`/whatsapp/${e}`);return Nu(t)},async criar(e){const{data:t}=await xe.post("/whatsapp",jN(e));return Nu(t)},async atualizar(e,t){const{data:s}=await xe.put(`/whatsapp/${e}`,jN(t));return Nu(s)},async excluir(e){await xe.delete(`/whatsapp/${e}`)},async ativar(e){const{data:t}=await xe.post(`/whatsapp/${e}/ativar`);return Nu(t)},async desativar(e){const{data:t}=await xe.post(`/whatsapp/${e}/desativar`);return Nu(t)},async conectar(e){const{data:t}=await xe.post(`/whatsapp/${e}/conectar`);return{success:t.success,sessionId:e,message:t.message,qrcode:t.qrcode}},async desconectar(e){try{(await fetch(`${_n}/sessions/${e}/disconnect`,{method:"POST",headers:Tn()})).ok||await fetch(`${_n}/${e}/disconnect`,{method:"POST",headers:Tn()}).catch(()=>{})}catch(t){console.warn("Erro ao desconectar no Node.js (ignorado):",t)}try{await xe.post(`/whatsapp/${e}/desconectar`)}catch(t){console.warn("Erro ao desconectar via Python (ignorado):",t)}return{success:!0,message:"Desconectado com sucesso"}},async obterStatus(e){const t=await fetch(`${_n}/sessions/${e}/status`,{headers:Tn()});if(!t.ok){const s=await fetch(`${_n}/${e}/status`,{headers:Tn()});return s.ok?s.json():{sessionId:e,connected:!1,status:"desconectado",qrCode:null}}return t.json()},async obterQRCode(e){const t=await fetch(`${_n}/sessions/${e}/qrcode`,{headers:Tn()});if(!t.ok){const n=await fetch(`${_n}/${e}/qrcode`,{headers:Tn()});if(!n.ok)throw new Error("QR Code nao disponivel");return{qrCode:(await n.json()).qrCode}}return{qrCode:(await t.json()).qrCode}},async enviarMensagem(e,t){const s=await fetch(`${_n}/sessions/${e}/send`,{method:"POST",headers:Tn(),body:JSON.stringify({telefone:t.telefone,mensagem:t.mensagem,pessoa_id:t.pessoaId})});if(!s.ok){const o=await fetch(`${_n}/${e}/send`,{method:"POST",headers:Tn(),body:JSON.stringify({telefone:t.telefone,mensagem:t.mensagem,pessoa_id:t.pessoaId})});if(!o.ok){const u=await o.json().catch(()=>({error:"Erro ao enviar"}));throw new Error(u.error||"Erro ao enviar mensagem")}const c=await o.json();if(c.success===!1)throw new Error(c.error||"Erro ao enviar mensagem");return c}const n=await s.json();if(n.success===!1)throw new Error(n.error||"Erro ao enviar mensagem");return n},async verificarNumero(e,t){const s=await fetch(`${_n}/sessions/${e}/check-number`,{method:"POST",headers:Tn(),body:JSON.stringify({telefone:t})});if(!s.ok){const n=await fetch(`${_n}/${e}/check-number`,{method:"POST",headers:Tn(),body:JSON.stringify({telefone:t})});if(!n.ok)throw new Error("Erro ao verificar numero");return n.json()}return s.json()},async enviarEmMassa(e,t,s,n){const o=await fetch(`${_n}/sessions/${e}/send-bulk`,{method:"POST",headers:Tn(),body:JSON.stringify({telefones:t,mensagem:s,intervalo:n})});if(!o.ok){const c=await fetch(`${_n}/${e}/send-bulk`,{method:"POST",headers:Tn(),body:JSON.stringify({telefones:t,mensagem:s,intervalo:n})});if(!c.ok)throw new Error("Erro ao enviar em massa");return c.json()}return o.json()},async listarSessoes(){const e=await fetch(`${_n}/sessions`,{headers:Tn()});if(!e.ok)throw new Error("Erro ao listar sessoes");return e.json()},async destruirSessao(e){const t=await fetch(`${_n}/sessions/${e}`,{method:"DELETE",headers:Tn()});if(!t.ok){const s=await t.json().catch(()=>({error:"Erro ao destruir sessao"}));throw new Error(s.error)}return t.json()},async listarMensagens(e,t){const s=new URLSearchParams;t?.page&&s.append("page",String(t.page)),t?.pageSize&&s.append("page_size",String(t.pageSize)),t?.remoteJid&&s.append("remote_jid",t.remoteJid),t?.fromMe!==void 0&&s.append("from_me",String(t.fromMe)),t?.search&&s.append("search",t.search);const n=s.toString(),o=`/whatsapp/${e}/mensagens${n?`?${n}`:""}`,{data:c}=await xe.get(o);return wN(c)},async listarConversas(e){const{data:t}=await xe.get(`/whatsapp/${e}/conversas`);return t.map(iB)},async listarMensagensPorPessoa(e,t){const s=new URLSearchParams;t?.page&&s.append("page",String(t.page)),t?.pageSize&&s.append("page_size",String(t.pageSize));const n=s.toString(),o=`/whatsapp/mensagens/pessoa/${e}${n?`?${n}`:""}`,{data:c}=await xe.get(o);return wN(c)},async listarInstanciasConectadas(){return(await this.listar()).filter(t=>t.status==="conectado"&&t.ativo)}},oB=({isOpen:e,onClose:t,instancia:s})=>{const n=Lt(),o=!!s,[c,u]=g.useState("form"),[f,m]=g.useState(null),[h,x]=g.useState(null),[v,y]=g.useState("desconectado"),[j,w]=g.useState(!1),{register:S,handleSubmit:N,reset:T,watch:E,setValue:O,formState:{errors:k}}=sa({defaultValues:{nome:"",telefone:"",autoRead:!0,autoResponse:!1,mensagemBoasVindas:""}}),R=E("autoResponse");g.useEffect(()=>{e&&(s?(qs.obter(s.id).then(I=>{T({nome:I.nome,telefone:I.telefone||"",autoRead:I.autoRead,autoResponse:I.autoResponse,mensagemBoasVindas:I.mensagemBoasVindas||""})}),u("form")):(T({nome:"",telefone:"",autoRead:!0,autoResponse:!1,mensagemBoasVindas:""}),u("form")),m(null),x(null),y("desconectado"),w(!1))},[s,T,e]),g.useEffect(()=>{if(!j||!f)return;const I=setInterval(async()=>{try{const $=await qs.obter(f.id);y($.status),$.status==="conectado"?(w(!1),u("connected"),n.invalidateQueries({queryKey:["whatsapp-instancias"]}),he.success("WhatsApp conectado com sucesso!")):$.qrcode&&$.qrcode!==h&&x($.qrcode)}catch($){console.error("Erro ao verificar status:",$)}},3e3);return()=>clearInterval(I)},[j,f,h,n]);const P=Ze({mutationFn:I=>qs.criar(I),onSuccess:async I=>{m(I),n.invalidateQueries({queryKey:["whatsapp-instancias"]}),he.success("Instancia criada! Gerando QR Code...");try{const $=await qs.conectar(I.id);$.qrcode&&(x($.qrcode),y("aguardando_qrcode"),u("qrcode"),w(!0))}catch{he.error("Erro ao gerar QR Code"),te()}},onError:I=>{const $=I.response?.data?.detail||"Erro ao criar instancia";he.error($)}}),z=Ze({mutationFn:I=>qs.atualizar(s.id,I),onSuccess:()=>{n.invalidateQueries({queryKey:["whatsapp-instancias"]}),he.success("Instancia atualizada com sucesso!"),te()},onError:I=>{const $=I.response?.data?.detail||"Erro ao atualizar instancia";he.error($)}}),F=Ze({mutationFn:I=>qs.conectar(I),onSuccess:I=>{I.qrcode&&(x(I.qrcode),y("aguardando_qrcode"),w(!0))},onError:()=>{he.error("Erro ao gerar QR Code")}}),te=()=>{w(!1),T(),u("form"),m(null),x(null),y("desconectado"),t()},H=I=>{const $={nome:I.nome,telefone:I.telefone||void 0,autoRead:I.autoRead,autoResponse:I.autoResponse,mensagemBoasVindas:I.mensagemBoasVindas||void 0};o?z.mutate($):P.mutate($)},Y=()=>{f&&F.mutate(f.id)},Z=P.isPending||z.isPending,ee=()=>r.jsxs("form",{onSubmit:N(H),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-3",children:[r.jsx(pn,{className:"w-4 h-4"}),r.jsx("span",{children:"Nome da Instancia"})]}),r.jsx(Ve,{placeholder:"Ex: WhatsApp Principal",...S("nome",{required:"Campo obrigatorio",maxLength:{value:100,message:"Maximo 100 caracteres"}}),error:k.nome?.message})]}),o&&r.jsxs("div",{children:[r.jsx(Ve,{label:"Telefone",placeholder:"Ex: +55 11 99999-9999",...S("telefone")}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Preenchido automaticamente apos conectar o WhatsApp"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-medium text-slate-700",children:"Configuracoes"}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:E("autoRead"),onChange:I=>O("autoRead",I.target.checked),className:"w-4 h-4 rounded border-slate-300 text-green-500 focus:ring-green-500"}),r.jsx("span",{className:"text-sm text-slate-700",children:"Marcar mensagens como lidas automaticamente"})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:R,onChange:I=>O("autoResponse",I.target.checked),className:"w-4 h-4 rounded border-slate-300 text-green-500 focus:ring-green-500"}),r.jsx("span",{className:"text-sm text-slate-700",children:"Resposta automatica de boas-vindas"})]}),R&&r.jsx(on,{label:"Mensagem de boas-vindas",placeholder:"Ex: Ola! Obrigado por entrar em contato. Em breve retornaremos...",rows:3,...S("mensagemBoasVindas")})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100",children:[r.jsx(ke,{type:"button",variant:"secondary",onClick:te,disabled:Z,children:"Cancelar"}),r.jsx(ke,{type:"submit",isLoading:Z,leftIcon:o?r.jsx(Jn,{className:"w-4 h-4"}):r.jsx(Vi,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:o?"Salvar":"Criar e Conectar"})]})]}),q=()=>r.jsxs("div",{className:"flex flex-col items-center py-4",children:[r.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-slate-200 mb-6",children:r.jsx("div",{className:"w-64 h-64 flex items-center justify-center bg-slate-50 rounded-xl overflow-hidden",children:F.isPending?r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(or,{size:"lg"}),r.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Gerando QR Code..."})]}):h?h.startsWith("data:image")?r.jsx("img",{src:h,alt:"QR Code",className:"w-full h-full object-contain"}):r.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-400 p-4",children:[r.jsx(Vi,{className:"w-16 h-16 mb-2"}),r.jsx("p",{className:"text-xs text-center font-mono break-all",children:h})]}):r.jsxs("div",{className:"flex flex-col items-center text-slate-400",children:[r.jsx(Vi,{className:"w-16 h-16"}),r.jsx("p",{className:"mt-2 text-sm",children:"QR Code indisponivel"})]})})}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Escaneie o QR Code"}),r.jsxs("p",{className:"text-slate-500 text-sm max-w-xs",children:["Abra o WhatsApp no seu celular, va em ",r.jsx("strong",{children:"Dispositivos conectados"})," e escaneie o codigo acima."]})]}),j&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 mb-4",children:[r.jsx(or,{size:"sm"}),r.jsx("span",{children:"Aguardando conexao..."})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ke,{variant:"secondary",onClick:Y,leftIcon:r.jsx(Wl,{className:"w-4 h-4"}),disabled:F.isPending,children:"Novo QR Code"}),r.jsx(ke,{variant:"secondary",onClick:te,children:"Fechar"})]})]}),U=()=>r.jsxs("div",{className:"flex flex-col items-center py-8",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:r.jsx(va,{className:"w-10 h-10 text-green-500"})}),r.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"WhatsApp Conectado!"}),r.jsxs("p",{className:"text-slate-500 text-center mb-6",children:["A instancia ",r.jsx("strong",{children:f?.nome})," esta conectada e pronta para uso."]}),r.jsx(ke,{onClick:te,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:"Concluir"})]}),A=()=>{if(o)return"Editar Instancia";switch(c){case"form":return"Nova Instancia de WhatsApp";case"qrcode":return`Conectar WhatsApp - ${f?.nome||""}`;case"connected":return"Conexao Estabelecida";default:return"WhatsApp"}};return r.jsxs(ss,{isOpen:e,onClose:te,title:A(),size:"md",children:[c==="form"&&ee(),c==="qrcode"&&q(),c==="connected"&&U()]})},X_=({isOpen:e,onClose:t,instancia:s})=>{const n=Lt(),o=qt(S=>S.gabinete),[c,u]=g.useState(null),[f,m]=g.useState("loading"),[h,x]=g.useState(null),v=g.useCallback(async()=>{if(!(!s||!o)){m("loading"),x(null),u(null);try{if(Qa.connect(s.id),(await qs.conectar(s.id)).status==="connected")m("connected"),he.success("WhatsApp ja esta conectado!");else{m("awaiting_qr");const N=await qs.obterQRCode(s.id).catch(()=>null);N?.qrCode&&u(N.qrCode)}}catch(S){console.error("Erro ao conectar:",S),x(S.message||"Erro ao iniciar conexao"),m("error")}}},[s,o]);g.useEffect(()=>{if(!e||!s)return;const S=Qa.on("qr",P=>{console.log("QR Code recebido:",P),(P.qrCode||P.qrcode)&&(u(P.qrCode||P.qrcode),m("awaiting_qr"))}),N=Qa.on("authenticated",()=>{console.log("Autenticado!"),m("connecting"),u(null),he.success("Codigo escaneado! Conectando...")}),T=Qa.on("ready",()=>{console.log("Pronto!"),m("connected"),n.invalidateQueries({queryKey:["whatsapp-instancias"]}),he.success("WhatsApp conectado com sucesso!")}),E=Qa.on("disconnected",P=>{console.log("Desconectado:",P),m("error"),x(P?.reason||"Desconectado"),u(null)}),O=Qa.on("auth_failure",P=>{console.log("Falha na autenticacao:",P),m("error"),x(P?.message||"Falha na autenticacao"),u(null),he.error("Falha na autenticacao")}),k=Qa.on("status",P=>{console.log("Status recebido:",P),P.connected?m("connected"):P.qrCode&&(u(P.qrCode),m("awaiting_qr"))}),R=Qa.on("error",P=>{console.error("Erro no socket:",P),x(P?.message||"Erro de conexao"),m("error")});return()=>{S(),N(),T(),E(),O(),k(),R()}},[e,s,n]),g.useEffect(()=>(e&&s&&(s.status==="conectado"?(m("connected"),u(null)):v()),()=>{e||Qa.disconnect()}),[e,s?.id,v]);const y=()=>{Qa.disconnect(),u(null),m("loading"),x(null),t()},j=()=>{v()},w=()=>f==="loading"?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(or,{size:"lg"}),r.jsx("p",{className:"mt-4 text-slate-500",children:"Iniciando conexao..."})]}):f==="error"?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-red-100 flex items-center justify-center mb-4",children:r.jsx(hh,{className:"w-10 h-10 text-red-500"})}),r.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Erro na Conexao"}),r.jsx("p",{className:"text-slate-500 text-center mb-4",children:h||"Ocorreu um erro ao tentar conectar."}),r.jsx(ke,{variant:"primary",onClick:j,leftIcon:r.jsx(Wl,{className:"w-4 h-4"}),children:"Tentar Novamente"})]}):f==="connecting"?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:r.jsx(Aa,{className:"w-10 h-10 text-green-500 animate-spin"})}),r.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Conectando..."}),r.jsx("p",{className:"text-slate-500 text-center",children:"Aguarde enquanto estabelecemos a conexao com o WhatsApp."})]}):f==="connected"?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:r.jsx(va,{className:"w-10 h-10 text-green-500"})}),r.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"WhatsApp Conectado!"}),r.jsx("p",{className:"text-slate-500 text-center",children:"Sua instancia esta conectada e pronta para uso."})]}):r.jsxs("div",{className:"flex flex-col items-center py-4",children:[r.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-slate-200 mb-6",children:r.jsx("div",{className:"w-64 h-64 flex items-center justify-center bg-slate-50 rounded-xl overflow-hidden",children:c?r.jsx("img",{src:c.startsWith("data:")?c:`data:image/png;base64,${c}`,alt:"QR Code",className:"w-full h-full object-contain"}):r.jsxs("div",{className:"flex flex-col items-center text-slate-400",children:[r.jsx(Aa,{className:"w-10 h-10 animate-spin mb-2"}),r.jsx("p",{className:"text-sm",children:"Gerando QR Code..."})]})})}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Escaneie o QR Code"}),r.jsxs("p",{className:"text-slate-500 text-sm max-w-xs",children:["Abra o WhatsApp no seu celular, va em ",r.jsx("strong",{children:"Dispositivos conectados"})," e escaneie o codigo acima."]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 mb-4",children:[r.jsx(or,{size:"sm"}),r.jsx("span",{children:"Aguardando leitura do QR Code..."})]}),r.jsx(ke,{variant:"secondary",onClick:j,leftIcon:r.jsx(Wl,{className:"w-4 h-4"}),children:"Gerar novo QR Code"})]});return r.jsxs(ss,{isOpen:e,onClose:y,title:`Conectar WhatsApp - ${s?.nome||""}`,size:"md",children:[w(),r.jsx("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100 mt-4",children:r.jsx(ke,{variant:"secondary",onClick:y,children:"Fechar"})})]})},J_=({isOpen:e,onClose:t,instancia:s})=>{const[n,o]=g.useState(""),[c,u]=g.useState("Ola! Esta e uma mensagem de teste do GPVx."),[f,m]=g.useState([]),[h,x]=g.useState(null),v=Ze({mutationFn:()=>{if(!s)throw new Error("Instancia nao selecionada");return x(null),qs.enviarMensagem(s.id,{telefone:n,mensagem:c})},onSuccess:()=>{m(N=>[{telefone:n,success:!0,timestamp:new Date().toLocaleTimeString("pt-BR")},...N.slice(0,4)]),x(null),he.success("Mensagem enviada com sucesso!"),o("")},onError:N=>{const T=N.message||N.response?.data?.detail||N.response?.data?.error||"Erro ao enviar mensagem";m(E=>[{telefone:n,success:!1,timestamp:new Date().toLocaleTimeString("pt-BR"),error:T},...E.slice(0,4)]),x(T),he.error(T)}}),y=()=>{o(""),u("Ola! Esta e uma mensagem de teste do GPVx."),m([]),x(null),t()},j=N=>{if(N.preventDefault(),!n.trim()){he.error("Informe o numero de telefone");return}if(!c.trim()){he.error("Informe a mensagem");return}v.mutate()},w=N=>{const T=N.replace(/\D/g,"");return T.length<=2?T:T.length<=7?`(${T.slice(0,2)}) ${T.slice(2)}`:T.length<=11?`(${T.slice(0,2)}) ${T.slice(2,7)}-${T.slice(7)}`:`(${T.slice(0,2)}) ${T.slice(2,7)}-${T.slice(7,11)}`},S=N=>{o(w(N.target.value))};return r.jsx(ss,{isOpen:e,onClose:y,title:`Testar Envio - ${s?.nome||""}`,size:"md",children:r.jsxs("form",{onSubmit:j,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-3",children:[r.jsx(Ds,{className:"w-4 h-4"}),r.jsx("span",{children:"Numero do WhatsApp"})]}),r.jsx(Ve,{placeholder:"(11) 99999-9999",value:n,onChange:S,maxLength:16}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Digite o numero com DDD (sem o +55)"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-3",children:[r.jsx(pn,{className:"w-4 h-4"}),r.jsx("span",{children:"Mensagem"})]}),r.jsx(on,{placeholder:"Digite a mensagem de teste...",value:c,onChange:N=>u(N.target.value),rows:4})]}),h&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hh,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-red-800",children:"Erro ao enviar mensagem"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:h})]})]})}),f.length>0&&r.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(pn,{className:"w-5 h-5 text-slate-600"}),r.jsx("span",{className:"font-medium text-slate-800",children:"Historico de Envios"})]}),r.jsx("ul",{className:"space-y-2",children:f.map((N,T)=>r.jsxs("li",{className:`text-sm flex items-start gap-2 p-2 rounded-lg ${N.success?"bg-green-50":"bg-red-50"}`,children:[N.success?r.jsx(va,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5"}):r.jsx(ed,{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:N.success?"text-green-700":"text-red-700",children:N.telefone}),r.jsxs("span",{className:"text-slate-400 text-xs",children:["(",N.timestamp,")"]})]}),N.error&&r.jsx("p",{className:"text-red-600 text-xs mt-1 truncate",title:N.error,children:N.error})]})]},T))})]}),r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:r.jsxs("p",{className:"text-sm text-amber-800",children:[r.jsx("strong",{children:"Ateno:"}),' Esta  uma funcionalidade de teste. A mensagem ser enviada para o nmero informado atravs da instncia "',s?.nome,'".']})}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100",children:[r.jsx(ke,{type:"button",variant:"secondary",onClick:y,disabled:v.isPending,children:"Fechar"}),r.jsx(ke,{type:"submit",isLoading:v.isPending,leftIcon:r.jsx(ph,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:"Enviar Mensagem"})]})]})})},e4=6048e5,lB=864e5,t4=6e4,s4=36e5,SN=Symbol.for("constructDateFrom");function ta(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&SN in e?e[SN](t):e instanceof Date?new e.constructor(t):new Date(t)}function $n(e,t){return ta(t||e,e)}function cB(e,t,s){const n=$n(e,s?.in);return isNaN(t)?ta(e,NaN):(n.setDate(n.getDate()+t),n)}let uB={};function up(){return uB}function Xu(e,t){const s=up(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,o=$n(e,t?.in),c=o.getDay(),u=(c<n?7:0)+c-n;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function rh(e,t){return Xu(e,{...t,weekStartsOn:1})}function n4(e,t){const s=$n(e,t?.in),n=s.getFullYear(),o=ta(s,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const c=rh(o),u=ta(s,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);const f=rh(u);return s.getTime()>=c.getTime()?n+1:s.getTime()>=f.getTime()?n:n-1}function NN(e){const t=$n(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function a4(e,...t){const s=ta.bind(null,t.find(n=>typeof n=="object"));return t.map(s)}function ih(e,t){const s=$n(e,t?.in);return s.setHours(0,0,0,0),s}function dB(e,t,s){const[n,o]=a4(s?.in,e,t),c=ih(n),u=ih(o),f=+c-NN(c),m=+u-NN(u);return Math.round((f-m)/lB)}function fB(e,t){const s=n4(e,t),n=ta(e,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),rh(n)}function r4(e){return ta(e,Date.now())}function i4(e,t,s){const[n,o]=a4(s?.in,e,t);return+ih(n)==+ih(o)}function mB(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function hB(e){return!(!mB(e)&&typeof e!="number"||isNaN(+$n(e)))}function pB(e,t){const s=$n(e,t?.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const gB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xB=(e,t,s)=>{let n;const o=gB[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function Zl(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const bB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jB={date:Zl({formats:bB,defaultWidth:"full"}),time:Zl({formats:vB,defaultWidth:"full"}),dateTime:Zl({formats:yB,defaultWidth:"full"})},wB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},SB=(e,t,s,n)=>wB[e];function Wa(e){return(t,s)=>{const n=s?.context?String(s.context):"standalone";let o;if(n==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,f=s?.width?String(s.width):u;o=e.formattingValues[f]||e.formattingValues[u]}else{const u=e.defaultWidth,f=s?.width?String(s.width):e.defaultWidth;o=e.values[f]||e.values[u]}const c=e.argumentCallback?e.argumentCallback(t):t;return o[c]}}const NB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},CB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},EB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_B={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},TB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},OB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kB=(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},AB={ordinalNumber:kB,era:Wa({values:NB,defaultWidth:"wide"}),quarter:Wa({values:CB,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wa({values:EB,defaultWidth:"wide"}),day:Wa({values:_B,defaultWidth:"wide"}),dayPeriod:Wa({values:TB,defaultWidth:"wide",formattingValues:OB,defaultFormattingWidth:"wide"})};function Xa(e){return(t,s={})=>{const n=s.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],c=t.match(o);if(!c)return null;const u=c[0],f=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(f)?RB(f,v=>v.test(u)):MB(f,v=>v.test(u));let h;h=e.valueCallback?e.valueCallback(m):m,h=s.valueCallback?s.valueCallback(h):h;const x=t.slice(u.length);return{value:h,rest:x}}}function MB(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function RB(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function o4(e){return(t,s={})=>{const n=t.match(e.matchPattern);if(!n)return null;const o=n[0],c=t.match(e.parsePattern);if(!c)return null;let u=e.valueCallback?e.valueCallback(c[0]):c[0];u=s.valueCallback?s.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}const DB=/^(\d+)(th|st|nd|rd)?/i,zB=/\d+/i,$B={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PB={any:[/^b/i,/^(a|c)/i]},IB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},FB={any:[/1/i,/2/i,/3/i,/4/i]},LB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},UB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},BB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},VB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},HB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},GB={ordinalNumber:o4({matchPattern:DB,parsePattern:zB,valueCallback:e=>parseInt(e,10)}),era:Xa({matchPatterns:$B,defaultMatchWidth:"wide",parsePatterns:PB,defaultParseWidth:"any"}),quarter:Xa({matchPatterns:IB,defaultMatchWidth:"wide",parsePatterns:FB,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xa({matchPatterns:LB,defaultMatchWidth:"wide",parsePatterns:qB,defaultParseWidth:"any"}),day:Xa({matchPatterns:UB,defaultMatchWidth:"wide",parsePatterns:BB,defaultParseWidth:"any"}),dayPeriod:Xa({matchPatterns:VB,defaultMatchWidth:"any",parsePatterns:HB,defaultParseWidth:"any"})},QB={code:"en-US",formatDistance:xB,formatLong:jB,formatRelative:SB,localize:AB,match:GB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ZB(e,t){const s=$n(e,t?.in);return dB(s,pB(s))+1}function KB(e,t){const s=$n(e,t?.in),n=+rh(s)-+fB(s);return Math.round(n/e4)+1}function l4(e,t){const s=$n(e,t?.in),n=s.getFullYear(),o=up(),c=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=ta(t?.in||e,0);u.setFullYear(n+1,0,c),u.setHours(0,0,0,0);const f=Xu(u,t),m=ta(t?.in||e,0);m.setFullYear(n,0,c),m.setHours(0,0,0,0);const h=Xu(m,t);return+s>=+f?n+1:+s>=+h?n:n-1}function YB(e,t){const s=up(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=l4(e,t),c=ta(t?.in||e,0);return c.setFullYear(o,0,n),c.setHours(0,0,0,0),Xu(c,t)}function WB(e,t){const s=$n(e,t?.in),n=+Xu(s,t)-+YB(s,t);return Math.round(n/e4)+1}function At(e,t){const s=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return s+n}const Ri={y(e,t){const s=e.getFullYear(),n=s>0?s:1-s;return At(t==="yy"?n%100:n,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):At(s+1,2)},d(e,t){return At(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];default:return s==="am"?"a.m.":"p.m."}},h(e,t){return At(e.getHours()%12||12,t.length)},H(e,t){return At(e.getHours(),t.length)},m(e,t){return At(e.getMinutes(),t.length)},s(e,t){return At(e.getSeconds(),t.length)},S(e,t){const s=t.length,n=e.getMilliseconds(),o=Math.trunc(n*Math.pow(10,s-3));return At(o,t.length)}},Pl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CN={G:function(e,t,s){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});default:return s.era(n,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const n=e.getFullYear(),o=n>0?n:1-n;return s.ordinalNumber(o,{unit:"year"})}return Ri.y(e,t)},Y:function(e,t,s,n){const o=l4(e,n),c=o>0?o:1-o;if(t==="YY"){const u=c%100;return At(u,2)}return t==="Yo"?s.ordinalNumber(c,{unit:"year"}):At(c,t.length)},R:function(e,t){const s=n4(e);return At(s,t.length)},u:function(e,t){const s=e.getFullYear();return At(s,t.length)},Q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return At(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return At(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,s){const n=e.getMonth();switch(t){case"M":case"MM":return Ri.M(e,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,s){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return At(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,s,n){const o=WB(e,n);return t==="wo"?s.ordinalNumber(o,{unit:"week"}):At(o,t.length)},I:function(e,t,s){const n=KB(e);return t==="Io"?s.ordinalNumber(n,{unit:"week"}):At(n,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Ri.d(e,t)},D:function(e,t,s){const n=ZB(e);return t==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):At(n,t.length)},E:function(e,t,s){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,s,n){const o=e.getDay(),c=(o-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(c);case"ee":return At(c,2);case"eo":return s.ordinalNumber(c,{unit:"day"});case"eee":return s.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"});default:return s.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,s,n){const o=e.getDay(),c=(o-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(c);case"cc":return At(c,t.length);case"co":return s.ordinalNumber(c,{unit:"day"});case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"});default:return s.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,s){const n=e.getDay(),o=n===0?7:n;switch(t){case"i":return String(o);case"ii":return At(o,t.length);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,s){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,s){const n=e.getHours();let o;switch(n===12?o=Pl.noon:n===0?o=Pl.midnight:o=n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,s){const n=e.getHours();let o;switch(n>=17?o=Pl.evening:n>=12?o=Pl.afternoon:n>=4?o=Pl.morning:o=Pl.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return Ri.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Ri.H(e,t)},K:function(e,t,s){const n=e.getHours()%12;return t==="Ko"?s.ordinalNumber(n,{unit:"hour"}):At(n,t.length)},k:function(e,t,s){let n=e.getHours();return n===0&&(n=24),t==="ko"?s.ordinalNumber(n,{unit:"hour"}):At(n,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ri.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Ri.s(e,t)},S:function(e,t){return Ri.S(e,t)},X:function(e,t,s){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return _N(n);case"XXXX":case"XX":return _o(n);default:return _o(n,":")}},x:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"x":return _N(n);case"xxxx":case"xx":return _o(n);default:return _o(n,":")}},O:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+EN(n,":");default:return"GMT"+_o(n,":")}},z:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+EN(n,":");default:return"GMT"+_o(n,":")}},t:function(e,t,s){const n=Math.trunc(+e/1e3);return At(n,t.length)},T:function(e,t,s){return At(+e,t.length)}};function EN(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),o=Math.trunc(n/60),c=n%60;return c===0?s+String(o):s+String(o)+t+At(c,2)}function _N(e,t){return e%60===0?(e>0?"-":"+")+At(Math.abs(e)/60,2):_o(e,t)}function _o(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),o=At(Math.trunc(n/60),2),c=At(n%60,2);return s+o+t+c}const TN=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},c4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},XB=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],n=s[1],o=s[2];if(!o)return TN(e,t);let c;switch(n){case"P":c=t.dateTime({width:"short"});break;case"PP":c=t.dateTime({width:"medium"});break;case"PPP":c=t.dateTime({width:"long"});break;default:c=t.dateTime({width:"full"});break}return c.replace("{{date}}",TN(n,t)).replace("{{time}}",c4(o,t))},JB={p:c4,P:XB},eV=/^D+$/,tV=/^Y+$/,sV=["D","DD","YY","YYYY"];function nV(e){return eV.test(e)}function aV(e){return tV.test(e)}function rV(e,t,s){const n=iV(e,t,s);if(console.warn(n),sV.includes(e))throw new RangeError(n)}function iV(e,t,s){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cV=/^'([^]*?)'?$/,uV=/''/g,dV=/[a-zA-Z]/;function Ys(e,t,s){const n=up(),o=s?.locale??n.locale??QB,c=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,u=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,f=$n(e,s?.in);if(!hB(f))throw new RangeError("Invalid time value");let m=t.match(lV).map(x=>{const v=x[0];if(v==="p"||v==="P"){const y=JB[v];return y(x,o.formatLong)}return x}).join("").match(oV).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const v=x[0];if(v==="'")return{isToken:!1,value:fV(x)};if(CN[v])return{isToken:!0,value:x};if(v.match(dV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:x}});o.localize.preprocessor&&(m=o.localize.preprocessor(f,m));const h={firstWeekContainsDate:c,weekStartsOn:u,locale:o};return m.map(x=>{if(!x.isToken)return x.value;const v=x.value;(!s?.useAdditionalWeekYearTokens&&aV(v)||!s?.useAdditionalDayOfYearTokens&&nV(v))&&rV(v,t,String(e));const y=CN[v[0]];return y(f,v,o.localize,h)}).join("")}function fV(e){const t=e.match(cV);return t?t[1].replace(uV,"'"):e}function u4(e,t){return i4(ta(e,e),r4(e))}function mV(e,t,s){return cB(e,-1,s)}function d4(e,t){return i4(ta(e,e),mV(r4(e)))}function dp(e,t){const s=()=>ta(t?.in,NaN),o=xV(e);let c;if(o.date){const h=bV(o.date,2);c=vV(h.restDateString,h.year)}if(!c||isNaN(+c))return s();const u=+c;let f=0,m;if(o.time&&(f=yV(o.time),isNaN(f)))return s();if(o.timezone){if(m=jV(o.timezone),isNaN(m))return s()}else{const h=new Date(u+f),x=$n(0,t?.in);return x.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),x.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),x}return $n(u+f+m,t?.in)}const fm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},hV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,pV=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,gV=/^([+-])(\d{2})(?::?(\d{2}))?$/;function xV(e){const t={},s=e.split(fm.dateTimeDelimiter);let n;if(s.length>2)return t;if(/:/.test(s[0])?n=s[0]:(t.date=s[0],n=s[1],fm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(fm.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const o=fm.timezone.exec(n);o?(t.time=n.replace(o[1],""),t.timezone=o[1]):t.time=n}return t}function bV(e,t){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(s);if(!n)return{year:NaN,restDateString:""};const o=n[1]?parseInt(n[1]):null,c=n[2]?parseInt(n[2]):null;return{year:c===null?o:c*100,restDateString:e.slice((n[1]||n[2]).length)}}function vV(e,t){if(t===null)return new Date(NaN);const s=e.match(hV);if(!s)return new Date(NaN);const n=!!s[4],o=Cu(s[1]),c=Cu(s[2])-1,u=Cu(s[3]),f=Cu(s[4]),m=Cu(s[5])-1;if(n)return EV(t,f,m)?wV(t,f,m):new Date(NaN);{const h=new Date(0);return!NV(t,c,u)||!CV(t,o)?new Date(NaN):(h.setUTCFullYear(t,c,Math.max(o,u)),h)}}function Cu(e){return e?parseInt(e):1}function yV(e){const t=e.match(pV);if(!t)return NaN;const s=K0(t[1]),n=K0(t[2]),o=K0(t[3]);return _V(s,n,o)?s*s4+n*t4+o*1e3:NaN}function K0(e){return e&&parseFloat(e.replace(",","."))||0}function jV(e){if(e==="Z")return 0;const t=e.match(gV);if(!t)return 0;const s=t[1]==="+"?-1:1,n=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return TV(n,o)?s*(n*s4+o*t4):NaN}function wV(e,t,s){const n=new Date(0);n.setUTCFullYear(e,0,4);const o=n.getUTCDay()||7,c=(t-1)*7+s+1-o;return n.setUTCDate(n.getUTCDate()+c),n}const SV=[31,null,31,30,31,30,31,31,30,31,30,31];function f4(e){return e%400===0||e%4===0&&e%100!==0}function NV(e,t,s){return t>=0&&t<=11&&s>=1&&s<=(SV[t]||(f4(e)?29:28))}function CV(e,t){return t>=1&&t<=(f4(e)?366:365)}function EV(e,t,s){return t>=1&&t<=53&&s>=0&&s<=6}function _V(e,t,s){return e===24?t===0&&s===0:s>=0&&s<60&&t>=0&&t<60&&e>=0&&e<25}function TV(e,t){return t>=0&&t<=59}const OV={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},kV=(e,t,s)=>{let n;const o=OV[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",String(t)),s?.addSuffix?s.comparison&&s.comparison>0?"em "+n:"h "+n:n},AV={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},MV={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},RV={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DV={date:Zl({formats:AV,defaultWidth:"full"}),time:Zl({formats:MV,defaultWidth:"full"}),dateTime:Zl({formats:RV,defaultWidth:"full"})},zV={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},$V=(e,t,s,n)=>{const o=zV[e];return typeof o=="function"?o(t):o},PV={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},IV={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},FV={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},LV={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},qV={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},UV={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},BV=(e,t)=>{const s=Number(e);return t?.unit==="week"?s+"":s+""},VV={ordinalNumber:BV,era:Wa({values:PV,defaultWidth:"wide"}),quarter:Wa({values:IV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wa({values:FV,defaultWidth:"wide"}),day:Wa({values:LV,defaultWidth:"wide"}),dayPeriod:Wa({values:qV,defaultWidth:"wide",formattingValues:UV,defaultFormattingWidth:"wide"})},HV=/^(\d+)[o]?/i,GV=/\d+/i,QV={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},ZV={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},KV={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},YV={any:[/1/i,/2/i,/3/i,/4/i]},WV={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},XV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},JV={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},eH={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},tH={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},sH={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},nH={ordinalNumber:o4({matchPattern:HV,parsePattern:GV,valueCallback:e=>parseInt(e,10)}),era:Xa({matchPatterns:QV,defaultMatchWidth:"wide",parsePatterns:ZV,defaultParseWidth:"any"}),quarter:Xa({matchPatterns:KV,defaultMatchWidth:"wide",parsePatterns:YV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xa({matchPatterns:WV,defaultMatchWidth:"wide",parsePatterns:XV,defaultParseWidth:"any"}),day:Xa({matchPatterns:JV,defaultMatchWidth:"wide",parsePatterns:eH,defaultParseWidth:"any"}),dayPeriod:Xa({matchPatterns:tH,defaultMatchWidth:"any",parsePatterns:sH,defaultParseWidth:"any"})},_d={code:"pt-BR",formatDistance:kV,formatLong:DV,formatRelative:$V,localize:VV,match:nH,options:{weekStartsOn:0,firstWeekContainsDate:1}},Zx=e=>{if(!e)return"";const t=e.replace(/\D/g,"");if(t.length<10)return e;if(t.startsWith("55")&&t.length>=12){const s=t.substring(2,4),n=t.substring(4);if(n.length===9)return`(${s}) ${n.substring(0,5)}-${n.substring(5)}`;if(n.length===8)return`(${s}) ${n.substring(0,4)}-${n.substring(4)}`}return e},aH=e=>{try{const t=dp(e);return Ys(t,"HH:mm")}catch{return""}},rH=e=>{try{const t=dp(e);return u4(t)?"Hoje":d4(t)?"Ontem":Ys(t,"dd 'de' MMMM 'de' yyyy",{locale:_d})}catch{return""}},iH=e=>{try{const t=dp(e);return Ys(t,"yyyy-MM-dd")}catch{return""}},oH=e=>{if(!e)return"";try{const t=dp(e);return u4(t)?Ys(t,"HH:mm"):d4(t)?"Ontem":Ys(t,"dd/MM",{locale:_d})}catch{return""}},lH=({conversa:e,isSelected:t,onClick:s})=>r.jsxs("button",{onClick:s,className:je("w-full p-3 flex items-start gap-3 text-left transition-colors border-b border-slate-100",t?"bg-primary-50 border-l-2 border-l-primary-500":"hover:bg-slate-50"),children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white flex-shrink-0",children:e.pessoaNome?r.jsx("span",{className:"text-sm font-medium",children:e.pessoaNome.charAt(0).toUpperCase()}):r.jsx(Rt,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("p",{className:"font-medium text-slate-900 truncate",children:e.pessoaNome||Zx(e.telefone)}),r.jsx("span",{className:"text-xs text-slate-400 flex-shrink-0",children:oH(e.ultimaData)})]}),e.pessoaNome&&r.jsx("p",{className:"text-xs text-slate-500",children:Zx(e.telefone)}),r.jsx("p",{className:"text-sm text-slate-500 truncate mt-0.5",children:e.ultimaMensagem}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsxs(ts,{variant:"default",className:"text-xs py-0 px-1.5",children:[e.totalMensagens," msg"]}),r.jsxs("span",{className:"text-xs text-green-600",children:[e.mensagensEnviadas," env"]}),r.jsxs("span",{className:"text-xs text-blue-600",children:[e.mensagensRecebidas," rec"]})]})]})]}),cH=({date:e})=>r.jsx("div",{className:"flex items-center justify-center my-3",children:r.jsx("div",{className:"bg-white/90 px-3 py-1 rounded-full shadow-sm",children:r.jsx("span",{className:"text-xs font-medium text-slate-600",children:rH(e)})})}),uH=({mensagem:e})=>{const t=e.fromMe;return r.jsx("div",{className:je("flex mb-2",t?"justify-end":"justify-start"),children:r.jsxs("div",{className:je("max-w-[75%] rounded-lg px-3 py-2 shadow-sm",t?"bg-green-100 text-slate-900 rounded-br-none":"bg-white text-slate-900 rounded-bl-none border border-slate-200"),children:[r.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.conteudo||"[Mensagem sem conteudo]"}),r.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1",children:[r.jsx("span",{className:"text-[10px] text-slate-400",children:aH(e.timestamp)}),t&&r.jsx("span",{className:"text-[10px] text-slate-400",children:e.status==="lida"||e.status==="entregue"?"":""})]})]})})},m4=({isOpen:e,onClose:t,instancia:s})=>{const n=Lt(),[o,c]=g.useState(null),[u,f]=g.useState(!1),[m,h]=g.useState(""),[x,v]=g.useState(""),[y,j]=g.useState(void 0),w=g.useRef(null);g.useEffect(()=>{e&&(c(null),f(!1),h(""),v(""),j(void 0))},[e,s?.id]);const S=ze({queryKey:["whatsapp-conversas",s?.id],queryFn:()=>s?qs.listarConversas(s.id):Promise.resolve([]),enabled:e&&!!s,staleTime:0,gcTime:0,refetchOnMount:"always"}),N=S.data??[],T=S.isLoading,{data:E,isLoading:O,isFetching:k}=ze({queryKey:["whatsapp-mensagens",s?.id,u?"all":o?.remoteJid,x,y],queryFn:async()=>{if(!s||!o&&!u)return{items:[],total:0,page:1,pageSize:100,totalPages:1};const Y=u?void 0:o?.remoteJid;console.log("[DEBUG] Buscando mensagens - instanciaId:",s.id,"remoteJid:",Y);const Z=await qs.listarMensagens(s.id,{page:1,pageSize:100,remoteJid:Y,search:x||void 0,fromMe:y});return console.log("[DEBUG] Mensagens retornadas:",Z),Z},enabled:e&&!!s&&(!!o||u),staleTime:0,gcTime:0,refetchOnMount:"always"}),R=g.useMemo(()=>{if(!E?.items)return[];const Y=[...E.items].sort((q,U)=>new Date(q.timestamp).getTime()-new Date(U.timestamp).getTime()),Z=[];let ee="";return Y.forEach(q=>{const U=iH(q.timestamp);U!==ee&&(Z.push({type:"date",date:q.timestamp}),ee=U),Z.push({type:"message",message:q})}),Z},[E?.items]);g.useEffect(()=>{E?.items.length&&w.current?.scrollIntoView({behavior:"smooth"})},[E?.items]);const P=g.useMemo(()=>N.filter(Y=>{if(!m)return!0;const Z=m.toLowerCase();return Y.telefone.includes(Z)||Y.pessoaNome?.toLowerCase().includes(Z)||Y.ultimaMensagem?.toLowerCase().includes(Z)}),[N,m]),z=()=>{c(null),f(!1),v("")},F=()=>{c(null),f(!0),v("")},te=()=>{n.invalidateQueries({queryKey:["whatsapp-conversas"]}),n.invalidateQueries({queryKey:["whatsapp-mensagens"]})},H=Y=>{console.log("[DEBUG] Selecionando conversa:",Y),console.log("[DEBUG] remote_jid:",Y.remoteJid),c(Y),f(!1)};return s?r.jsx(ss,{isOpen:e,onClose:t,size:"xl",noPadding:!0,hideCloseButton:!0,children:r.jsxs("div",{className:"flex flex-col h-[80vh] max-h-[700px]",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-t-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[(o||u)&&r.jsx("button",{onClick:z,className:"p-1 rounded-lg hover:bg-white/20 transition-colors",title:"Voltar para lista de conversas",children:r.jsx(I2,{className:"w-5 h-5"})}),r.jsx(pn,{className:"w-6 h-6"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:u?`Todas as Mensagens - ${s.nome}`:o?o.pessoaNome||Zx(o.telefone):`Historico - ${s.nome}`}),(o||u)&&r.jsx("p",{className:"text-sm text-green-100",children:u?`${E?.total||0} mensagem(ns) total`:`${o?.totalMensagens||0} mensagens`})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:te,className:"p-2 rounded-lg hover:bg-white/20 transition-colors",title:"Atualizar dados",children:r.jsx(Wl,{className:`w-5 h-5 ${S.isFetching||k?"animate-spin":""}`})}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/20 transition-colors",title:"Fechar",children:r.jsx(Ht,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"flex-1 flex overflow-hidden",children:!o&&!u?r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsx("div",{className:"p-3 border-b border-slate-200 bg-slate-50",children:r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),r.jsx("input",{type:"text",placeholder:"Buscar conversas...",value:m,onChange:Y=>h(Y.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:T?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(Aa,{className:"w-8 h-8 animate-spin text-green-500"})}):P.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 p-4",children:[r.jsx(Pm,{className:"w-12 h-12 mb-3"}),r.jsx("p",{className:"text-sm font-medium",children:"Nenhuma conversa encontrada"}),N.length===0?r.jsx("p",{className:"text-xs mt-2 text-center",children:"As mensagens enviadas e recebidas aparecerao aqui"}):r.jsx("p",{className:"text-xs mt-2 text-center",children:"Tente buscar por outro termo"})]}):P.map(Y=>r.jsx(lH,{conversa:Y,isSelected:!1,onClick:()=>H(Y)},Y.remoteJid))}),r.jsxs("div",{className:"p-3 border-t border-slate-200 bg-slate-50",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-xs text-slate-500",children:[N.length," conversa(s)"]}),r.jsx("button",{onClick:F,className:"px-3 py-1.5 text-xs bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium",title:"Ver todas as mensagens sem filtrar por conversa",children:"Ver Todas as Mensagens"})]}),N.length>0&&r.jsx("p",{className:"text-xs text-slate-400 italic mt-2 text-center",children:'Clique em uma conversa ou em "Ver Todas" para visualizar as mensagens'})]})]}):r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsxs("div",{className:"p-2 border-b border-slate-200 bg-slate-50 flex items-center gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),r.jsx("input",{type:"text",placeholder:"Buscar nas mensagens...",value:x,onChange:Y=>v(Y.target.value),className:"w-full pl-9 pr-4 py-1.5 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>j(void 0),className:je("px-2 py-1 text-xs rounded-lg transition-colors",y===void 0?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:"Todas"}),r.jsx("button",{onClick:()=>j(!0),className:je("px-2 py-1 text-xs rounded-lg transition-colors",y===!0?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:"Enviadas"}),r.jsx("button",{onClick:()=>j(!1),className:je("px-2 py-1 text-xs rounded-lg transition-colors",y===!1?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:"Recebidas"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-[#e5ddd5] bg-opacity-50",children:O?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(Aa,{className:"w-8 h-8 animate-spin text-green-500"})}):E?.items.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[r.jsx(Pm,{className:"w-12 h-12 mb-2"}),r.jsx("p",{className:"text-sm",children:"Nenhuma mensagem encontrada"})]}):r.jsxs(r.Fragment,{children:[R.map((Y,Z)=>Y.type==="date"&&Y.date?r.jsx(cH,{date:Y.date},`date-${Z}`):Y.message?r.jsx(uH,{mensagem:Y.message},Y.message.id):null),r.jsx("div",{ref:w})]})}),r.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-xs text-slate-500",children:[E?.items?.length||0," de ",E?.total||0," mensagem(ns)"]}),k&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Aa,{className:"w-4 h-4 animate-spin text-green-500 mr-2"}),r.jsx("span",{className:"text-xs text-slate-500",children:"Carregando..."})]}),r.jsx("span",{className:"text-xs text-slate-400 italic",children:"Role para ver todas as mensagens"})]})})]})})]})}):null},h4=({isOpen:e,onClose:t,pessoa:s,defaultMessage:n=""})=>{const o=Lt(),[c,u]=g.useState(""),[f,m]=g.useState(n),[h,x]=g.useState(null),v=ze({queryKey:["whatsapp-instancias"],queryFn:()=>qs.listar(),enabled:e,staleTime:3e4}),y=(v.data||[]).filter(O=>O.status==="conectado"&&O.ativo),j=ze({queryKey:["whatsapp-historico-pessoa",s.id],queryFn:()=>qs.listarMensagensPorPessoa(s.id,{pageSize:5}),enabled:e&&!!s.id,staleTime:0});g.useEffect(()=>{y.length>0&&!c&&u(y[0].id)},[y,c]),g.useEffect(()=>{e&&(m(n),x(null))},[e,n]);const w=Ze({mutationFn:()=>{const O=s.whatsapp||s.celular||s.telefone;if(!O)throw new Error("Pessoa sem telefone cadastrado");if(!c)throw new Error("Selecione uma sessao de WhatsApp");return qs.enviarMensagem(c,{telefone:O,mensagem:f,pessoaId:s.id})},onSuccess:()=>{x({success:!0,timestamp:new Date().toLocaleTimeString("pt-BR")}),he.success("Mensagem enviada com sucesso!"),o.invalidateQueries({queryKey:["whatsapp-historico-pessoa",s.id]})},onError:O=>{const k=O.message||O.response?.data?.detail||"Erro ao enviar mensagem";x({success:!1,timestamp:new Date().toLocaleTimeString("pt-BR"),error:k}),he.error(k)}}),S=()=>{m(""),x(null),u(""),t()},N=O=>{if(O.preventDefault(),!f.trim()){he.error("Digite uma mensagem");return}w.mutate()},T=s.whatsapp||s.celular||s.telefone||"Nao informado",E=O=>{try{const k=new Date(O);return Ys(k,"dd/MM/yyyy 'as' HH:mm",{locale:_d})}catch{return O}};return r.jsx(ss,{isOpen:e,onClose:S,title:"Enviar WhatsApp",size:"lg",children:r.jsxs("form",{onSubmit:N,className:"space-y-5",children:[r.jsx("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:r.jsx(Rt,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:s.nome}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-500",children:[r.jsx(Ds,{className:"w-3 h-3"}),r.jsx("span",{children:T})]})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Enviar pela sessao:"}),v.isLoading?r.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[r.jsx(Aa,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:"Carregando sessoes..."})]}):y.length===0?r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-amber-800",children:["Nenhuma sessao de WhatsApp conectada.",r.jsx("br",{}),"Acesse a pagina WhatsApp para conectar uma sessao."]})}):r.jsx("select",{value:c,onChange:O=>u(O.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",children:y.map(O=>r.jsxs("option",{value:O.id,children:[O.nome," ",O.telefone?`(${O.telefone})`:""]},O.id))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(pn,{className:"w-4 h-4"}),r.jsx("span",{children:"Mensagem"})]}),r.jsx(on,{placeholder:"Digite sua mensagem...",value:f,onChange:O=>m(O.target.value),rows:4})]}),j.data&&j.data.items.length>0&&r.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Io,{className:"w-4 h-4 text-slate-500"}),r.jsxs("span",{className:"font-medium text-slate-700 text-sm",children:["Ultimas mensagens enviadas para ",s.nome.split(" ")[0]]})]}),r.jsx("ul",{className:"space-y-2",children:j.data.items.map(O=>r.jsxs("li",{className:"bg-white rounded-lg p-3 border border-slate-100",children:[r.jsx("p",{className:"text-sm text-slate-700 line-clamp-2",children:O.conteudo}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:E(O.timestamp)})]},O.id))})]}),h&&r.jsx("div",{className:`rounded-xl p-4 ${h.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[h.success?r.jsx(va,{className:"w-5 h-5 text-green-600 flex-shrink-0"}):r.jsx(ed,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("span",{className:`font-medium ${h.success?"text-green-800":"text-red-800"}`,children:h.success?"Mensagem enviada!":"Erro ao enviar"}),r.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["(",h.timestamp,")"]}),h.error&&r.jsx("p",{className:"text-sm text-red-700 mt-1",children:h.error})]})]})}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100",children:[r.jsx(ke,{type:"button",variant:"secondary",onClick:S,disabled:w.isPending,children:"Fechar"}),r.jsx(ke,{type:"submit",isLoading:w.isPending,disabled:y.length===0||!c,leftIcon:r.jsx(ph,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:"Enviar Mensagem"})]})]})})},dH=e=>{if(!e)return"";const t=e.replace(/\D/g,"");if(t.length<10)return e;if(t.startsWith("55")&&t.length>=12){const s=t.substring(2,4),n=t.substring(4);if(n.length===9)return`+55 (${s}) ${n.substring(0,5)}-${n.substring(5)}`;if(n.length===8)return`+55 (${s}) ${n.substring(0,4)}-${n.substring(4)}`}if(t.length===11){const s=t.substring(0,2),n=t.substring(2);return`+55 (${s}) ${n.substring(0,5)}-${n.substring(5)}`}else if(t.length===10){const s=t.substring(0,2),n=t.substring(2);return`+55 (${s}) ${n.substring(0,4)}-${n.substring(4)}`}return e},fH=[10,25,50,100],mH=10,hH=[{key:"ativo",label:"Status",type:"boolean"}],pH={conectado:{label:"Conectado",variant:"success"},aguardando_qrcode:{label:"Aguardando QR Code",variant:"warning"},conectando:{label:"Conectando...",variant:"warning"},desconectado:{label:"Desconectado",variant:"default"},connected:{label:"Conectado",variant:"success"},initializing:{label:"Conectando...",variant:"warning"},awaiting_qr:{label:"Aguardando QR Code",variant:"warning"},authenticated:{label:"Conectando...",variant:"warning"},disconnected:{label:"Desconectado",variant:"default"},auth_failure:{label:"Erro de Autenticacao",variant:"error"}},Y0=e=>({id:e.id,gabineteId:e.gabineteId||"",nome:e.nome,telefone:e.telefone,status:e.status,ativo:e.ativo,createdAt:e.createdAt}),gH=({session:e,onViewHistory:t,onSendTest:s,onConnect:n,onDisconnect:o,onEdit:c,onDelete:u})=>{const f=e.status,m=f==="conectado"||f==="connected",h=["conectando","aguardando_qrcode","initializing","awaiting_qr","authenticated"].includes(f);return r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-lg text-purple-500 hover:text-purple-600 hover:bg-purple-50 transition-colors",title:"Historico de Mensagens",children:r.jsx(U2,{className:"w-4 h-4"})}),m&&r.jsx("button",{onClick:()=>s(e),className:"p-2 rounded-lg text-blue-500 hover:text-blue-600 hover:bg-blue-50 transition-colors",title:"Testar Envio",children:r.jsx(ph,{className:"w-4 h-4"})}),m?r.jsx("button",{onClick:()=>o(e),className:"p-2 rounded-lg text-red-500 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Desconectar WhatsApp",children:r.jsx(V2,{className:"w-4 h-4"})}):r.jsx("button",{onClick:()=>n(e),className:je("p-2 rounded-lg transition-colors",h?"text-amber-500 hover:text-amber-600 hover:bg-amber-50":"text-green-500 hover:text-green-600 hover:bg-green-50"),title:h?"Ver QR Code":"Conectar WhatsApp",children:h?r.jsx(Vi,{className:"w-4 h-4"}):r.jsx(H2,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>c(e),className:"p-2 rounded-lg text-slate-500 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Editar",children:r.jsx(Ia,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>u(e),className:"p-2 rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Excluir Sessao",children:r.jsx(gh,{className:"w-4 h-4"})})]})},xH=()=>{const e=Lt(),[t,s]=g.useState(""),[n,o]=g.useState({}),[c,u]=g.useState(1),[f,m]=g.useState(mH),[h,x]=g.useState("gabineteNome"),[v,y]=g.useState("asc"),[j,w]=g.useState(!1),[S,N]=g.useState(null),[T,E]=g.useState(!1),[O,k]=g.useState(null),[R,P]=g.useState(!1),[z,F]=g.useState(null),[te,H]=g.useState(!1),[Y,Z]=g.useState(null),[ee,q]=g.useState(!1),[U,A]=g.useState(null),[I,$]=g.useState(!1),[K,V]=g.useState(null),{data:_=[],isLoading:L,refetch:G}=ze({queryKey:["admin-whatsapp-sessions"],queryFn:()=>Mt.listarSessoesWhatsApp()}),ne=Ze({mutationFn:async re=>Mt.desconectarSessaoWhatsApp(re),onSuccess:re=>{e.invalidateQueries({queryKey:["admin-whatsapp-sessions"]}),re.nodeError?(he.success(re.message,{duration:5e3}),he.error(`Aviso: ${re.nodeError}`,{duration:5e3})):he.success(re.message)},onError:re=>{const Me=re?.response?.data?.detail||"Erro ao desconectar WhatsApp";he.error(Me),e.invalidateQueries({queryKey:["admin-whatsapp-sessions"]})}}),D=Ze({mutationFn:async re=>Mt.deletarSessaoWhatsApp(re),onSuccess:re=>{e.invalidateQueries({queryKey:["admin-whatsapp-sessions"]}),re.nodeError?(he.success(re.message,{duration:5e3}),he.error(`Aviso: ${re.nodeError}`,{duration:5e3})):he.success(re.message)},onError:re=>{const Me=re?.response?.data?.detail||"Erro ao excluir sessao";he.error(Me)}}),Q=g.useMemo(()=>{let re=[..._];if(t){const Me=t.toLowerCase();re=re.filter(yt=>yt.nome.toLowerCase().includes(Me)||(yt.gabineteNome?.toLowerCase().includes(Me)??!1)||yt.telefone?.toLowerCase().includes(Me))}return n.ativo!==void 0&&(re=re.filter(Me=>Me.ativo===n.ativo)),re.sort((Me,yt)=>{const Se=Me[h]||"",Xe=yt[h]||"",_t=String(Se).localeCompare(String(Xe));return v==="asc"?_t:-_t}),re},[_,t,n,h,v]),W=g.useMemo(()=>{const re=(c-1)*f;return Q.slice(re,re+f)},[Q,c,f]),we=Math.ceil(Q.length/f),ue=g.useCallback(re=>{x(Me=>Me===re?(y(yt=>yt==="asc"?"desc":"asc"),re):(y("asc"),re))},[]),ve=g.useCallback(re=>{s(re),u(1)},[]),$e=g.useCallback(re=>{o(re),u(1)},[]),St=g.useCallback(re=>{u(re)},[]),vt=g.useCallback(re=>{m(re),u(1)},[]),Ut=()=>{N(null),w(!0)},ps=re=>{N(re),w(!0)},ft=()=>{w(!1),N(null)},os=re=>{k(re),E(!0)},Ct=()=>{E(!1),k(null),e.invalidateQueries({queryKey:["admin-whatsapp-sessions"]})},gs=re=>{F(re),P(!0)},Vs=()=>{P(!1),F(null)},J=re=>{Z(re),H(!0)},ie=()=>{H(!1),Z(null)},pe=re=>{A(re),q(!0)},_e=()=>{U&&ne.mutate(U.id,{onSuccess:()=>{q(!1),A(null)}})},Te=()=>{q(!1),A(null)},Ce=re=>{V(re),$(!0)},De=()=>{K&&D.mutate(K.id,{onSuccess:()=>{$(!1),V(null)}})},We=()=>{$(!1),V(null)},Ee=g.useCallback(()=>{G(),he.success("Atualizando lista de sessoes...")},[G]),qe=[{key:"nome",header:"Nome",sortable:!0,render:re=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white",children:r.jsx(pn,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:re.nome}),re.telefone&&r.jsx("p",{className:"text-xs text-slate-500",children:dH(re.telefone)})]})]})},{key:"gabineteNome",header:"Gabinete",sortable:!0,render:re=>r.jsx("div",{className:"flex items-center gap-2",children:re.gabineteNome?r.jsxs(r.Fragment,{children:[re.isSubgabinete?r.jsx(sr,{className:"w-4 h-4 text-violet-500"}):r.jsx(ds,{className:"w-4 h-4 text-primary-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:re.isSubgabinete?"Subgabinete":"Gabinete"}),r.jsx("p",{className:"font-medium text-slate-700",children:re.gabineteNome}),re.isSubgabinete&&re.gabinetePrincipalNome&&r.jsxs("p",{className:"text-xs text-slate-400",children:["Gab: ",re.gabinetePrincipalNome]})]})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pn,{className:"w-4 h-4 text-slate-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:"Sem vinculo"}),r.jsx("p",{className:"font-medium text-slate-500 italic",children:"Sessao geral"})]})]})})},{key:"status",header:"Conexao",width:"160px",align:"center",render:re=>{const Me=pH[re.status]||{label:re.status,variant:"default"};return r.jsx(ts,{variant:Me.variant,children:Me.label})}},{key:"ativo",header:"Status",width:"120px",align:"center",render:re=>r.jsx(ts,{variant:re.ativo?"success":"default",children:re.ativo?"Ativo":"Inativo"})}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pn,{className:"w-6 h-6 text-green-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Sessoes WhatsApp"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Gerenciar sessoes de WhatsApp de todos os gabinetes"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ke,{leftIcon:r.jsx(Wl,{className:"w-4 h-4"}),onClick:Ee,isLoading:L,variant:"outline",children:"Atualizar"}),r.jsx(ke,{leftIcon:r.jsx(fs,{className:"w-4 h-4"}),onClick:Ut,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:"Nova Sessao"})]})]}),r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(pr,{placeholder:"Buscar por nome, gabinete, telefone...",value:t,onSearch:ve,filters:hH,activeFilters:n,onFilterChange:$e}),r.jsxs("p",{className:"text-sm text-slate-500",children:[Q.length," sessao(oes) encontrada(s)"]})]})}),r.jsx(Kt,{columns:qe,data:W,keyExtractor:re=>re.id,isLoading:L,emptyMessage:"Nenhuma sessao de WhatsApp",emptyDescription:"Nao existem sessoes de WhatsApp cadastradas",emptyIcon:r.jsx(pn,{className:"w-12 h-12 text-slate-300"}),sortBy:h,sortDir:v,onSort:ue,rowClassName:re=>re.ativo?"":"bg-slate-50 opacity-75",actions:re=>r.jsx(gH,{session:re,onViewHistory:J,onSendTest:gs,onConnect:os,onDisconnect:pe,onEdit:ps,onDelete:Ce})}),Q.length>0&&r.jsx(Bs,{currentPage:c,totalPages:we,totalItems:Q.length,pageSize:f,onPageChange:St,onPageSizeChange:vt,pageSizeOptions:fH}),r.jsx(Jr,{isOpen:ee,onClose:Te,onConfirm:_e,title:"Desconectar WhatsApp",message:r.jsxs(r.Fragment,{children:["Tem certeza que deseja desconectar o WhatsApp da sessao"," ",r.jsxs("strong",{className:"text-slate-900",children:['"',U?.nome,'"']}),U?.gabineteNome&&r.jsxs(r.Fragment,{children:[" ","do gabinete ",r.jsxs("strong",{className:"text-slate-900",children:['"',U.gabineteNome,'"']})]}),"?",r.jsx("span",{className:"text-sm text-slate-400 mt-2 block",children:"O gabinete precisara escanear o QR Code novamente para reconectar."})]}),confirmText:"Sim, Desconectar",cancelText:"Cancelar",variant:"warning",isLoading:ne.isPending}),r.jsx(Jr,{isOpen:I,onClose:We,onConfirm:De,title:"Excluir Sessao WhatsApp",message:r.jsxs(r.Fragment,{children:["Tem certeza que deseja ",r.jsx("strong",{className:"text-red-600",children:"excluir"})," a sessao"," ",r.jsxs("strong",{className:"text-slate-900",children:['"',K?.nome,'"']}),K?.gabineteNome&&r.jsxs(r.Fragment,{children:[" ","do gabinete ",r.jsxs("strong",{className:"text-slate-900",children:['"',K.gabineteNome,'"']})]}),"?",r.jsx("span",{className:"text-sm text-red-400 mt-2 block",children:"Esta acao ira remover a sessao do banco de dados e limpar os arquivos de autenticacao do servidor WhatsApp. Esta acao nao pode ser desfeita."})]}),confirmText:"Sim, Excluir",cancelText:"Cancelar",variant:"danger",isLoading:D.isPending}),r.jsx(X_,{isOpen:T,onClose:Ct,instancia:O?Y0(O):null}),r.jsx(J_,{isOpen:R,onClose:Vs,instancia:z?Y0(z):null}),r.jsx(m4,{isOpen:te,onClose:ie,instancia:Y?Y0(Y):null}),r.jsx(Bq,{isOpen:j,onClose:ft,session:S})]})};function p4(e){return{id:e.id,nome:e.nome,cor:e.cor||"#6B7280",descricao:e.descricao}}function ON(e){return{id:e.id,nome:e.nome,genero:e.genero,cpf:e.cpf,celular:e.celular,whatsapp:e.whatsapp,email:e.email,estadoId:e.estado_id,estadoNome:e.estado_nome,estadoSigla:e.estado_sigla,municipioId:e.municipio_id,municipioNome:e.municipio_nome,setorId:e.setor_id,setorNome:e.setor_nome,bairro:e.bairro,totalDemandas:e.total_demandas||0,ativo:e.ativo,tags:(e.tags||[]).map(p4)}}function W0(e){return{id:e.id,gabineteId:e.gabinete_id,subgabineteId:e.subgabinete_id,nome:e.nome,genero:e.genero,whatsapp:e.whatsapp,estadoId:e.estado_id,municipioId:e.municipio_id,setorId:e.setor_id,nomeSocial:e.nome_social,cpf:e.cpf,rg:e.rg,dataNascimento:e.data_nascimento,profissao:e.profissao,escolaridade:e.escolaridade,cep:e.cep,logradouro:e.logradouro,numero:e.numero,complemento:e.complemento,bairro:e.bairro,email:e.email,telefone:e.telefone,celular:e.celular,instagram:e.instagram,facebook:e.facebook,observacoes:e.observacoes,liderancaId:e.lideranca_id,liderancaNome:e.lideranca_nome,aceitaWhatsapp:e.aceita_whatsapp??!0,aceitaSms:e.aceita_sms??!0,aceitaEmail:e.aceita_email??!0,totalDemandas:e.total_demandas||0,ativo:e.ativo??!0,tags:(e.tags||[]).map(p4)}}function kN(e){const t={};return e.nome!==void 0&&(t.nome=e.nome),e.whatsapp!==void 0&&(t.whatsapp=e.whatsapp),e.estadoId!==void 0&&(t.estado_id=e.estadoId),e.municipioId!==void 0&&(t.municipio_id=e.municipioId),e.setorId!==void 0&&(t.setor_id=e.setorId),e.genero!==void 0&&(t.genero=e.genero),e.nomeSocial!==void 0&&(t.nome_social=e.nomeSocial||null),e.cpf!==void 0&&(t.cpf=e.cpf||null),e.rg!==void 0&&(t.rg=e.rg||null),e.dataNascimento!==void 0&&(t.data_nascimento=e.dataNascimento||null),e.profissao!==void 0&&(t.profissao=e.profissao||null),e.escolaridade!==void 0&&(t.escolaridade=e.escolaridade||null),e.cep!==void 0&&(t.cep=e.cep||null),e.logradouro!==void 0&&(t.logradouro=e.logradouro||null),e.numero!==void 0&&(t.numero=e.numero||null),e.complemento!==void 0&&(t.complemento=e.complemento||null),e.bairro!==void 0&&(t.bairro=e.bairro||null),e.email!==void 0&&(t.email=e.email||null),e.telefone!==void 0&&(t.telefone=e.telefone||null),e.celular!==void 0&&(t.celular=e.celular||null),e.instagram!==void 0&&(t.instagram=e.instagram||null),e.facebook!==void 0&&(t.facebook=e.facebook||null),e.observacoes!==void 0&&(t.observacoes=e.observacoes||null),e.liderancaId!==void 0&&(t.lideranca_id=e.liderancaId||null),e.aceitaWhatsapp!==void 0&&(t.aceita_whatsapp=e.aceitaWhatsapp),e.aceitaSms!==void 0&&(t.aceita_sms=e.aceitaSms),e.aceitaEmail!==void 0&&(t.aceita_email=e.aceitaEmail),"ativo"in e&&e.ativo!==void 0&&(t.ativo=e.ativo),e.tagIds!==void 0&&(t.tag_ids=e.tagIds),t}const nn={async verificarWhatsApp(e,t){const s=new URLSearchParams;s.append("whatsapp",e),t&&s.append("excluir_id",t);const{data:n}=await xe.get(`/pessoas/verificar-whatsapp?${s.toString()}`);return n},async listar(e={}){const t=new URLSearchParams;e.page&&t.append("page",String(e.page)),e.perPage&&t.append("per_page",String(e.perPage)),e.search&&t.append("search",e.search),e.bairro&&t.append("bairro",e.bairro),e.municipioId&&t.append("municipio_id",e.municipioId),e.estadoId&&t.append("estado_id",e.estadoId),e.setorId&&t.append("setor_id",e.setorId),e.liderancaId&&t.append("lideranca_id",e.liderancaId),e.ativo!==void 0&&t.append("ativo",String(e.ativo));const s=t.toString(),{data:n}=await xe.get(`/pessoas${s?`?${s}`:""}`);return{items:n.items.map(ON),total:n.total,page:n.page,perPage:n.per_page,pages:n.pages}},async obter(e){const{data:t}=await xe.get(`/pessoas/${e}`);return W0(t)},async criar(e){const{data:t}=await xe.post("/pessoas",kN(e));return W0(t)},async atualizar(e,t){const{data:s}=await xe.put(`/pessoas/${e}`,kN(t));return W0(s)},async excluir(e){await xe.delete(`/pessoas/${e}`)},async ativar(e){return this.atualizar(e,{ativo:!0})},async desativar(e){return this.atualizar(e,{ativo:!1})},async buscarLiderancas(){const{data:e}=await xe.get("/pessoas",{params:{per_page:100}});return e.items.map(ON)},async listarSimples(e){const t=new URLSearchParams;t.append("per_page","100"),e&&t.append("search",e);const s=t.toString(),{data:n}=await xe.get(`/pessoas${s?`?${s}`:""}`);return n.items.map(o=>({id:o.id,nome:o.nome}))}},bH=e=>({id:e.id,sigla:e.sigla,nome:e.nome}),vH=e=>({id:e.id,nome:e.nome,estadoId:e.estado_id,estadoSigla:e.estado_sigla}),yH=e=>({id:e.id,nome:e.nome}),AN=e=>({id:e.id,municipioId:e.municipio_id,nome:e.nome,descricao:e.descricao,ativo:e.ativo}),Ka={async listarEstados(e){const t=new URLSearchParams;return e&&t.append("search",e),(await xe.get(`/auxiliar/estados?${t}`)).data.map(bH)},async listarMunicipios(e,t,s=50){const n=new URLSearchParams;return e&&n.append("estado_id",String(e)),t&&n.append("search",t),n.append("limit",s.toString()),(await xe.get(`/auxiliar/municipios?${n}`)).data.map(vH)},async listarSetores(e,t){const s=new URLSearchParams;return e&&s.append("municipio_id",e),t&&s.append("search",t),(await xe.get(`/auxiliar/setores?${s}`)).data.map(yH)},async criarSetor(e,t){const s=await xe.post("/auxiliar/setores",{nome:t.nome,descricao:t.descricao,municipio_id:e});return AN(s.data)},async atualizarSetor(e,t){const s=await xe.put(`/auxiliar/setores/${e}`,t);return AN(s.data)},async excluirSetor(e){await xe.delete(`/auxiliar/setores/${e}`)}};function jH(e){return{id:e.id,nome:e.nome,slug:e.slug,descricao:e.descricao,cor:e.cor||"#6B7280",icone:e.icone,categoriaId:e.categoria_id,categoriaNome:e.categoria_nome,ativo:e.ativo}}function X0(e){return{id:e.id,gabineteId:e.gabinete_id,nome:e.nome,slug:e.slug,descricao:e.descricao,cor:e.cor||"#6B7280",icone:e.icone,categoriaId:e.categoria_id,categoria:e.categoria?Tm(e.categoria):void 0,ativo:e.ativo,createdAt:e.created_at,updatedAt:e.updated_at}}function Tm(e){return{id:e.id,gabineteId:e.gabinete_id,nome:e.nome,descricao:e.descricao,cor:e.cor||"#6B7280",icone:e.icone,ordem:e.ordem||0,ativo:e.ativo,createdAt:e.created_at,updatedAt:e.updated_at}}function MN(e){const t={};return e.nome!==void 0&&(t.nome=e.nome),e.descricao!==void 0&&(t.descricao=e.descricao||null),e.cor!==void 0&&(t.cor=e.cor||"#6B7280"),e.icone!==void 0&&(t.icone=e.icone||null),e.categoriaId!==void 0&&(t.categoria_id=e.categoriaId||null),"ativo"in e&&e.ativo!==void 0&&(t.ativo=e.ativo),t}function RN(e){const t={};return e.nome!==void 0&&(t.nome=e.nome),e.descricao!==void 0&&(t.descricao=e.descricao||null),e.cor!==void 0&&(t.cor=e.cor||"#6B7280"),e.icone!==void 0&&(t.icone=e.icone||null),e.ordem!==void 0&&(t.ordem=e.ordem),"ativo"in e&&e.ativo!==void 0&&(t.ativo=e.ativo),t}const ka={async listar(e={}){const t=new URLSearchParams;e.page&&t.append("page",String(e.page)),e.perPage&&t.append("per_page",String(e.perPage)),e.search&&t.append("search",e.search),e.categoriaId&&t.append("categoria_id",e.categoriaId),e.ativo!==void 0&&t.append("ativo",String(e.ativo));const s=t.toString(),{data:n}=await xe.get(`/tags${s?`?${s}`:""}`);return{items:n.items.map(jH),total:n.total,page:n.page,perPage:n.per_page,pages:n.pages}},async obter(e){const{data:t}=await xe.get(`/tags/${e}`);return X0(t)},async criar(e){const{data:t}=await xe.post("/tags",MN(e));return X0(t)},async atualizar(e,t){const{data:s}=await xe.put(`/tags/${e}`,MN(t));return X0(s)},async excluir(e){await xe.delete(`/tags/${e}`)},async ativar(e){return this.atualizar(e,{ativo:!0})},async desativar(e){return this.atualizar(e,{ativo:!1})},async listarCategorias(){const{data:e}=await xe.get("/tags/categorias/");return e.map(Tm)},async criarCategoria(e){const{data:t}=await xe.post("/tags/categorias/",RN(e));return Tm(t)},async atualizarCategoria(e,t){const{data:s}=await xe.put(`/tags/categorias/${e}`,RN(t));return Tm(s)},async excluirCategoria(e){await xe.delete(`/tags/categorias/${e}`)}};function mm(e){return{id:e.id,gabinete_id:e.gabinete_id,pessoa_id:e.pessoa_id,compromisso_id:e.compromisso_id,titulo:e.titulo,descricao:e.descricao,data_documento:e.data_documento,tipo_documento:e.tipo_documento,observacoes:e.observacoes,arquivo_nome:e.arquivo_nome,arquivo_url:e.arquivo_url,arquivo_tipo:e.arquivo_tipo,arquivo_tamanho:e.arquivo_tamanho,ativo:e.ativo,created_at:e.created_at,updated_at:e.updated_at,criado_por:e.criado_por,pessoa_nome:e.pessoa_nome,compromisso_titulo:e.compromisso_titulo}}function hm(e){return{id:e.id,gabinete_id:e.gabinete_id,titulo:e.titulo,descricao:e.descricao,data_inicio:e.data_inicio,data_fim:e.data_fim,hora_inicio:e.hora_inicio,hora_fim:e.hora_fim,local:e.local,pessoa_id:e.pessoa_id,responsavel_id:e.responsavel_id,concluido:e.concluido,observacoes:e.observacoes,ativo:e.ativo,created_at:e.created_at,updated_at:e.updated_at,pessoa_nome:e.pessoa_nome}}const Fi={async listar(e={}){const t=new URLSearchParams;e.page&&t.append("page",String(e.page)),e.perPage&&t.append("per_page",String(e.perPage)),e.search&&t.append("search",e.search),e.pessoaId&&t.append("pessoa_id",e.pessoaId),e.compromissoId&&t.append("compromisso_id",e.compromissoId),e.tipoDocumento&&t.append("tipo_documento",e.tipoDocumento),e.dataInicio&&t.append("data_inicio",e.dataInicio),e.dataFim&&t.append("data_fim",e.dataFim);const s=t.toString(),{data:n}=await xe.get(`/documentos${s?`?${s}`:""}`);return{items:n.items.map(mm),total:n.total,page:n.page,per_page:n.per_page,pages:n.pages}},async obter(e){const{data:t}=await xe.get(`/documentos/${e}`);return mm(t)},async criar(e){const{data:t}=await xe.post("/documentos",e);return mm(t)},async atualizar(e,t){const{data:s}=await xe.put(`/documentos/${e}`,t);return mm(s)},async excluir(e){await xe.delete(`/documentos/${e}`)}},oh={async listar(e={}){const t=new URLSearchParams;e.page&&t.append("page",String(e.page)),e.perPage&&t.append("per_page",String(e.perPage)),e.search&&t.append("search",e.search),e.pessoaId&&t.append("pessoa_id",e.pessoaId),e.dataInicio&&t.append("data_inicio",e.dataInicio),e.dataFim&&t.append("data_fim",e.dataFim),e.concluido!==void 0&&t.append("concluido",String(e.concluido));const s=t.toString(),{data:n}=await xe.get(`/documentos/compromissos/listar${s?`?${s}`:""}`);return{items:n.items.map(hm),total:n.total,page:n.page,per_page:n.per_page,pages:n.pages}},async listarSimples(e,t){const s=new URLSearchParams;e&&s.append("search",e),t&&s.append("pessoa_id",t);const n=s.toString(),{data:o}=await xe.get(`/documentos/compromissos/simples${n?`?${n}`:""}`);return o.map(c=>({id:c.id,titulo:c.titulo,data_inicio:c.data_inicio,hora_inicio:c.hora_inicio}))},async obter(e){const{data:t}=await xe.get(`/documentos/compromissos/${e}`);return hm(t)},async criar(e){const{data:t}=await xe.post("/documentos/compromissos",e);return hm(t)},async atualizar(e,t){const{data:s}=await xe.put(`/documentos/compromissos/${e}`,t);return hm(s)},async excluir(e){await xe.delete(`/documentos/compromissos/${e}`)}};function wH(e){return{id:e.id,numeroProtocolo:e.numero_protocolo,titulo:e.titulo,status:e.status,prioridade:e.prioridade,nomeSolicitante:e.nome_solicitante,pessoaId:e.pessoa_id,pessoaNome:e.pessoa_nome,categoriaId:e.categoria_id,categoriaNome:e.categoria_nome,categoriaCor:e.categoria_cor,dataAbertura:e.data_abertura,dataPrazo:e.data_prazo,diasAberto:e.dias_aberto||0}}function J0(e){return{id:e.id,gabineteId:e.gabinete_id,numeroProtocolo:e.numero_protocolo,titulo:e.titulo,descricao:e.descricao,status:e.status,prioridade:e.prioridade,categoriaId:e.categoria_id,pessoaId:e.pessoa_id,nomeSolicitante:e.nome_solicitante,contatoSolicitante:e.contato_solicitante,dataAbertura:e.data_abertura,dataPrazo:e.data_prazo,dataConclusao:e.data_conclusao,orgaoDestino:e.orgao_destino,numeroOficio:e.numero_oficio,dataEncaminhamento:e.data_encaminhamento,parecer:e.parecer}}function pm(e){return{id:e.id,gabineteId:e.gabinete_id,nome:e.nome,descricao:e.descricao,cor:e.cor||"#6B7280",icone:e.icone,slaDias:e.sla_dias||30,ordem:e.ordem||0,ativo:e.ativo??!0}}function DN(e){const t={};return"titulo"in e&&e.titulo!==void 0&&(t.titulo=e.titulo),"descricao"in e&&e.descricao!==void 0&&(t.descricao=e.descricao),"categoriaId"in e&&(t.categoria_id=e.categoriaId||null),"status"in e&&e.status!==void 0&&(t.status=e.status),"prioridade"in e&&e.prioridade!==void 0&&(t.prioridade=e.prioridade),"pessoaId"in e&&(t.pessoa_id=e.pessoaId||null),"nomeSolicitante"in e&&(t.nome_solicitante=e.nomeSolicitante||null),"contatoSolicitante"in e&&(t.contato_solicitante=e.contatoSolicitante||null),"cep"in e&&(t.cep=e.cep||null),"logradouro"in e&&(t.logradouro=e.logradouro||null),"bairro"in e&&(t.bairro=e.bairro||null),"cidadeId"in e&&(t.cidade_id=e.cidadeId||null),"orgaoDestino"in e&&(t.orgao_destino=e.orgaoDestino||null),"dataPrazo"in e&&(t.data_prazo=e.dataPrazo||null),"responsavelId"in e&&(t.responsavel_id=e.responsavelId||null),"numeroOficio"in e&&(t.numero_oficio=e.numeroOficio||null),"dataEncaminhamento"in e&&(t.data_encaminhamento=e.dataEncaminhamento||null),"parecer"in e&&(t.parecer=e.parecer||null),t}function zN(e){return{nome:e.nome,descricao:e.descricao||null,cor:e.cor||"#6B7280",icone:e.icone||null,sla_dias:e.slaDias||30}}const Xi={async listar(e={}){const t=new URLSearchParams;e.page&&t.append("page",String(e.page)),e.perPage&&t.append("per_page",String(e.perPage)),e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.prioridade&&t.append("prioridade",e.prioridade),e.categoriaId&&t.append("categoria_id",e.categoriaId),e.pessoaId&&t.append("pessoa_id",e.pessoaId),e.dataInicio&&t.append("data_inicio",e.dataInicio),e.dataFim&&t.append("data_fim",e.dataFim),e.atrasadas&&t.append("atrasadas","true");const s=t.toString(),{data:n}=await xe.get(`/demandas${s?`?${s}`:""}`);return{items:n.items.map(wH),total:n.total,page:n.page,perPage:n.per_page,pages:n.pages}},async obter(e){const{data:t}=await xe.get(`/demandas/${e}`);return J0(t)},async criar(e){const{data:t}=await xe.post("/demandas",DN(e));return J0(t)},async atualizar(e,t){const{data:s}=await xe.put(`/demandas/${e}`,DN(t));return J0(s)},async cancelar(e){await xe.delete(`/demandas/${e}`)}},sc={async listar(e=!0){const{data:t}=await xe.get(`/categorias?ativo=${e}`);return t.map(pm)},async obter(e){const{data:t}=await xe.get(`/categorias/${e}`);return pm(t)},async criar(e){const{data:t}=await xe.post("/categorias",zN(e));return pm(t)},async atualizar(e,t){const{data:s}=await xe.put(`/categorias/${e}`,zN(t));return pm(s)},async excluir(e){await xe.delete(`/categorias/${e}`)}},SH=["#EF4444","#F97316","#F59E0B","#EAB308","#84CC16","#22C55E","#14B8A6","#06B6D4","#0EA5E9","#3B82F6","#6366F1","#8B5CF6","#A855F7","#D946EF","#EC4899","#6B7280"],sv=({isOpen:e,onClose:t,categoria:s})=>{const n=Lt(),o=!!s,[c,u]=g.useState("#6B7280"),{register:f,handleSubmit:m,reset:h,setValue:x,formState:{errors:v}}=sa({defaultValues:{nome:"",descricao:"",cor:"#6B7280",slaDias:30}});g.useEffect(()=>{s?(h({nome:s.nome,descricao:s.descricao||"",cor:s.cor,slaDias:s.slaDias}),u(s.cor)):(h({nome:"",descricao:"",cor:"#6B7280",slaDias:30}),u("#6B7280"))},[s,h,e]);const y=Ze({mutationFn:E=>sc.criar(E),onSuccess:()=>{n.invalidateQueries({queryKey:["categorias"]}),he.success("Tipo de demanda criado com sucesso!"),w()},onError:E=>{const O=E.response?.data?.detail||"Erro ao criar tipo de demanda";he.error(O)}}),j=Ze({mutationFn:E=>sc.atualizar(s.id,E),onSuccess:()=>{n.invalidateQueries({queryKey:["categorias"]}),he.success("Tipo de demanda atualizado com sucesso!"),w()},onError:E=>{const O=E.response?.data?.detail||"Erro ao atualizar tipo de demanda";he.error(O)}}),w=()=>{h(),u("#6B7280"),t()},S=E=>{u(E),x("cor",E)},N=E=>{const O={nome:E.nome,descricao:E.descricao||void 0,cor:c,slaDias:E.slaDias};o?j.mutate(O):y.mutate(O)},T=y.isPending||j.isPending;return r.jsx(ss,{isOpen:e,onClose:w,title:o?"Editar Tipo de Demanda":"Novo Tipo de Demanda",size:"md",children:r.jsxs("form",{onSubmit:m(N),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(Ns,{className:"w-4 h-4"}),r.jsx("span",{children:"Nome do Tipo *"})]}),r.jsx(Ve,{placeholder:"Ex: Infraestrutura, Saude, Educacao...",...f("nome",{required:"Campo obrigatorio",maxLength:{value:100,message:"Maximo 100 caracteres"}}),error:v.nome?.message})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(Ns,{className:"w-4 h-4"}),r.jsx("span",{children:"Descricao"})]}),r.jsx(on,{placeholder:"Descreva brevemente este tipo de demanda...",rows:3,...f("descricao")})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(cb,{className:"w-4 h-4"}),r.jsx("span",{children:"Cor"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:SH.map(E=>r.jsx("button",{type:"button",onClick:()=>S(E),className:`w-8 h-8 rounded-lg transition-all ${c===E?"ring-2 ring-offset-2 ring-primary-500 scale-110":"hover:scale-105"}`,style:{backgroundColor:E},title:E},E))}),r.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg border-2 border-slate-200",style:{backgroundColor:c}}),r.jsx(Ve,{type:"text",value:c,onChange:E=>S(E.target.value),placeholder:"#000000",className:"w-28"})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(Io,{className:"w-4 h-4"}),r.jsx("span",{children:"Prazo Padrao (dias)"})]}),r.jsx(Ve,{type:"number",min:1,max:365,...f("slaDias",{valueAsNumber:!0,min:{value:1,message:"Minimo 1 dia"},max:{value:365,message:"Maximo 365 dias"}}),error:v.slaDias?.message}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Prazo padrao para conclusao deste tipo de demanda"})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100",children:[r.jsx(ke,{type:"button",variant:"secondary",onClick:w,disabled:T,children:"Cancelar"}),r.jsx(ke,{type:"submit",isLoading:T,leftIcon:r.jsx(Jn,{className:"w-4 h-4"}),children:o?"Salvar":"Criar Tipo"})]})]})})};var Li=(e=>(e.MASCULINO="masculino",e.FEMININO="feminino",e.OUTRO="outro",e.NAO_INFORMADO="nao_informado",e))(Li||{});function Om(e){if(!e)return"";const s=e.replace(/\D/g,"").slice(0,11);return s.length<=2?`(${s}`:s.length<=7?`(${s.slice(0,2)}) ${s.slice(2)}`:`(${s.slice(0,2)}) ${s.slice(2,7)}-${s.slice(7)}`}function NH(e){if(!e)return"";const s=e.replace(/\D/g,"").slice(0,11);return s.length<=3?s:s.length<=6?`${s.slice(0,3)}.${s.slice(3)}`:s.length<=9?`${s.slice(0,3)}.${s.slice(3,6)}.${s.slice(6)}`:`${s.slice(0,3)}.${s.slice(3,6)}.${s.slice(6,9)}-${s.slice(9)}`}function CH(e){if(!e)return"";const s=e.replace(/\D/g,"").slice(0,8);return s.length<=5?s:`${s.slice(0,5)}-${s.slice(5)}`}function Kx(e){return e.replace(/\D/g,"")}function EH(e){if(!e)return"";const s=e.replace(/\D/g,"").slice(0,8);return s.length<=2?s:s.length<=4?`${s.slice(0,2)}/${s.slice(2)}`:`${s.slice(0,2)}/${s.slice(2,4)}/${s.slice(4)}`}function _H(e){if(!e)return"";const t=e.replace(/\D/g,"");if(t.length!==8)return"";const s=t.slice(0,2),n=t.slice(2,4),o=t.slice(4,8),c=parseInt(s,10),u=parseInt(n,10),f=parseInt(o,10);return c<1||c>31||u<1||u>12||f<1900||f>2100?"":`${o}-${n}-${s}`}function TH(e){if(!e)return"";if(e.includes("/"))return e;const t=e.split("-");if(t.length!==3)return"";const[s,n,o]=t;return!s||!n||!o||s.length!==4||n.length!==2||o.length!==2?"":`${o}/${n}/${s}`}async function OH(e){const t=Kx(e);if(t.length!==8)return null;try{const n=await(await fetch(`https://viacep.com.br/ws/${t}/json/`)).json();return n.erro?null:n}catch(s){return console.error("Erro ao buscar CEP:",s),null}}const kH=[{value:Li.NAO_INFORMADO,label:"Nao Informado"},{value:Li.MASCULINO,label:"Masculino"},{value:Li.FEMININO,label:"Feminino"},{value:Li.OUTRO,label:"Outro"}],AH=({isOpen:e,onClose:t,pessoa:s,onEditPessoa:n})=>{const o=Lt(),c=!!s,[u,f]=g.useState("dados"),[m,h]=g.useState(""),[x,v]=g.useState(!1),[y,j]=g.useState(!1),w=g.useRef(""),S=g.useRef(""),[N,T]=g.useState(!1),[E,O]=g.useState(null),[k,R]=g.useState(""),[P,z]=g.useState(!1),F=8,[te,H]=g.useState(""),[Y,Z]=g.useState(!1),[ee,q]=g.useState(null),U=g.useRef(null),[A,I]=g.useState(null),[$,K]=g.useState(!1),V=g.useRef(null),[_,L]=g.useState(!1),[G,ne]=g.useState(null),[D,Q]=g.useState({titulo:"",descricao:"",data_documento:Ys(new Date,"yyyy-MM-dd"),tipo_documento:"",observacoes:"",compromisso_id:"",arquivo_nome:"",arquivo_url:""}),[W,we]=g.useState(!1),[ue,ve]=g.useState(""),[$e,St]=g.useState(Ys(new Date,"yyyy-MM-dd")),vt=[{value:"",label:"Selecione um tipo..."},{value:"contrato",label:"Contrato"},{value:"oficio",label:"Oficio"},{value:"requerimento",label:"Requerimento"},{value:"declaracao",label:"Declaracao"},{value:"certidao",label:"Certidao"},{value:"comprovante",label:"Comprovante"},{value:"outros",label:"Outros"}],[Ut,ps]=g.useState(!1),[ft,os]=g.useState({titulo:"",descricao:"",dataPrazo:"",prioridade:"normal",categoriaId:""}),[Ct,gs]=g.useState({titulo:!1,descricao:!1,categoriaId:!1,prioridade:!1,dataPrazo:!1}),[Vs,J]=g.useState(!1),[ie,pe]=g.useState(""),[_e,Te]=g.useState(!1),[Ce,De]=g.useState(null),We=g.useRef(null),Ee=[{value:"baixa",label:"Baixa",cor:"text-slate-500"},{value:"normal",label:"Normal",cor:"text-blue-500"},{value:"alta",label:"Alta",cor:"text-amber-500"},{value:"urgente",label:"Urgente",cor:"text-orange-500"},{value:"critica",label:"Critica",cor:"text-red-500"}],{register:qe,handleSubmit:re,reset:Me,watch:yt,setValue:Se,control:Xe,formState:{errors:_t}}=sa({defaultValues:{nome:"",whatsapp:"",estadoId:"",municipioId:"",setorId:"",genero:Li.NAO_INFORMADO,aceitaWhatsapp:!0,aceitaSms:!0,aceitaEmail:!0}}),Ps=yt("estadoId"),Hs=yt("municipioId"),{data:tt,isLoading:Go}=ze({queryKey:["pessoa",s?.id],queryFn:()=>nn.obter(s.id),enabled:e&&c&&!!s?.id,staleTime:0,gcTime:0}),{data:Qo}=ze({queryKey:["pessoas-lideranca",te],queryFn:()=>nn.listar({search:te,perPage:10,ativo:!0}),enabled:e&&te.length>=2}),ii=Qo?.items||[],{data:xr,isLoading:Zo}=ze({queryKey:["tags-ativas"],queryFn:()=>ka.listar({ativo:!0,perPage:100}),enabled:e}),br=xr?.items||[],[ja,vr]=g.useState([]),{data:jc,isLoading:oo,refetch:wc}=ze({queryKey:["documentos-pessoa",s?.id],queryFn:()=>Fi.listar({pessoaId:s.id,perPage:100}),enabled:e&&c&&!!s?.id}),Ko=jc?.items||[],{data:Td,refetch:Od}=ze({queryKey:["compromissos-pessoa",s?.id],queryFn:()=>oh.listarSimples(void 0,s.id),enabled:e&&c&&!!s?.id}),Sc=Td||[],{data:Nc,isLoading:kd,refetch:Ad}=ze({queryKey:["demandas-pessoa",s?.id],queryFn:()=>Xi.listar({pessoaId:s.id,perPage:100}),enabled:e&&c&&!!s?.id}),na=Nc?.items||[],{data:_s}=ze({queryKey:["categorias-demanda"],queryFn:()=>sc.listar(!0),enabled:e&&c}),Is=_s||[],{data:yr=[],isLoading:Cc}=ze({queryKey:["estados"],queryFn:()=>Ka.listarEstados(),enabled:e}),{data:fp=[],isLoading:mp}=ze({queryKey:["municipios",Ps],queryFn:()=>Ka.listarMunicipios(Ps?Number(Ps):void 0,void 0,1e3),enabled:e&&!!Ps}),{data:Yo=[],isLoading:lo}=ze({queryKey:["setores",Hs],queryFn:()=>Ka.listarSetores(Hs),enabled:e&&!!Hs});g.useEffect(()=>{const B=Ue=>{U.current&&!U.current.contains(Ue.target)&&Z(!1),We.current&&!We.current.contains(Ue.target)&&Te(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]),g.useEffect(()=>{e&&!c&&(Me({nome:"",whatsapp:"",estadoId:"",municipioId:"",setorId:"",genero:Li.NAO_INFORMADO,aceitaWhatsapp:!0,aceitaSms:!0,aceitaEmail:!0}),vr([]),f("dados"),w.current="",S.current="",H(""),q(null))},[e,c,Me]),g.useEffect(()=>{e&&c&&tt&&(w.current=tt.estadoId?String(tt.estadoId):"",S.current=tt.municipioId||"",Me({nome:tt.nome,whatsapp:tt.whatsapp||"",estadoId:tt.estadoId?String(tt.estadoId):"",municipioId:tt.municipioId||"",setorId:tt.setorId||"",genero:tt.genero||Li.NAO_INFORMADO,nomeSocial:tt.nomeSocial||"",cpf:tt.cpf||"",rg:tt.rg||"",dataNascimento:TH(tt.dataNascimento||""),profissao:tt.profissao||"",email:tt.email||"",telefone:tt.telefone||"",celular:tt.celular||"",instagram:tt.instagram||"",facebook:tt.facebook||"",cep:tt.cep||"",logradouro:tt.logradouro||"",numero:tt.numero||"",complemento:tt.complemento||"",bairro:tt.bairro||"",observacoes:tt.observacoes||"",liderancaId:tt.liderancaId||"",aceitaWhatsapp:tt.aceitaWhatsapp,aceitaSms:tt.aceitaSms,aceitaEmail:tt.aceitaEmail}),vr(tt.tags?.map(B=>B.id)||[]),tt.liderancaId&&tt.liderancaNome?(q({id:tt.liderancaId,nome:tt.liderancaNome}),H(tt.liderancaNome)):(q(null),H("")),f("dados"))},[e,c,tt,Me]),g.useEffect(()=>{w.current&&w.current!==Ps&&(Se("municipioId",""),Se("setorId","")),w.current=Ps},[Ps,Se]),g.useEffect(()=>{S.current&&S.current!==Hs&&Se("setorId",""),S.current=Hs},[Hs,Se]);const Wo=Ze({mutationFn:B=>Ka.criarSetor(Hs,{nome:B}),onSuccess:B=>{o.invalidateQueries({queryKey:["setores"]}),Se("setorId",B.id),h(""),v(!1),he.success("Setor criado com sucesso!")},onError:B=>{const Ue=B.response?.data?.detail||"Erro ao criar setor";he.error(Ue)}}),jr=Ze({mutationFn:B=>nn.criar(B),onSuccess:async B=>{await o.invalidateQueries({queryKey:["pessoas"],refetchType:"all"}),await o.invalidateQueries({queryKey:["gabinete-dashboard"]}),he.success("Pessoa cadastrada com sucesso!"),O(B.id),T(!0)},onError:B=>{const Ue=B.response?.data?.detail||"Erro ao cadastrar pessoa";he.error(Ue)}}),wr=Ze({mutationFn:B=>nn.atualizar(s.id,B),onSuccess:async()=>{await o.invalidateQueries({queryKey:["pessoas"],refetchType:"all"}),await o.invalidateQueries({queryKey:["pessoa",s?.id]}),await o.invalidateQueries({queryKey:["gabinete-dashboard"]}),he.success("Pessoa atualizada com sucesso!"),O(s.id),T(!0)},onError:B=>{const Ue=B.response?.data?.detail||"Erro ao atualizar pessoa";he.error(Ue)}}),Sr=Ze({mutationFn:B=>nn.atualizar(E,{tagIds:B}),onSuccess:async()=>{await o.invalidateQueries({queryKey:["pessoas"],refetchType:"all"}),ja.length>0&&he.success("Tags vinculadas com sucesso!"),qa()},onError:B=>{const Ue=B.response?.data?.detail||"Erro ao vincular tags";he.error(Ue)}}),Nr=Ze({mutationFn:B=>Fi.criar(B),onSuccess:()=>{he.success("Documento cadastrado com sucesso!"),wc(),aa()},onError:B=>{const Ue=B.response?.data?.detail||"Erro ao cadastrar documento";he.error(Ue)}}),ls=Ze({mutationFn:({id:B,data:Ue})=>Fi.atualizar(B,Ue),onSuccess:()=>{he.success("Documento atualizado com sucesso!"),wc(),aa()},onError:B=>{const Ue=B.response?.data?.detail||"Erro ao atualizar documento";he.error(Ue)}}),Md=Ze({mutationFn:B=>Fi.excluir(B),onSuccess:()=>{he.success("Documento excluido com sucesso!"),wc()},onError:B=>{const Ue=B.response?.data?.detail||"Erro ao excluir documento";he.error(Ue)}}),Ec=Ze({mutationFn:B=>oh.criar(B),onSuccess:B=>{he.success("Compromisso criado com sucesso!"),Q({...D,compromisso_id:B.id}),we(!1),ve(""),Od()},onError:B=>{const Ue=B.response?.data?.detail||"Erro ao criar compromisso";he.error(Ue)}}),La=Ze({mutationFn:B=>Xi.criar(B),onSuccess:()=>{he.success("Demanda criada com sucesso!"),Ad(),Xo()},onError:B=>{const Ue=B.response?.data?.detail||"Erro ao criar demanda";he.error(Ue)}}),aa=()=>{L(!1),ne(null),Q({titulo:"",descricao:"",data_documento:Ys(new Date,"yyyy-MM-dd"),tipo_documento:"",observacoes:"",compromisso_id:"",arquivo_nome:"",arquivo_url:""}),we(!1),ve("")},Xo=()=>{ps(!1),os({titulo:"",descricao:"",dataPrazo:"",prioridade:"normal",categoriaId:""}),gs({titulo:!1,descricao:!1,categoriaId:!1,prioridade:!1,dataPrazo:!1}),pe(""),De(null),Te(!1)},Rd=()=>{const B={titulo:!ft.titulo.trim(),descricao:!ft.descricao.trim(),categoriaId:!ft.categoriaId,prioridade:!ft.prioridade,dataPrazo:!ft.dataPrazo};gs(B),!Object.values(B).some(Ue=>Ue)&&La.mutate({titulo:ft.titulo.trim(),descricao:ft.descricao.trim(),prioridade:ft.prioridade,categoriaId:ft.categoriaId,dataPrazo:ft.dataPrazo,pessoaId:s.id})},qa=()=>{Me(),f("dados"),v(!1),h(""),vr([]),T(!1),O(null),R(""),z(!1),H(""),q(null),Z(!1),I(null),K(!1),V.current&&clearTimeout(V.current),aa(),Xo(),w.current="",S.current="",t()},hp=()=>{if(!D.titulo.trim()){he.error("Titulo do documento e obrigatorio");return}if(!D.data_documento){he.error("Data do documento e obrigatoria");return}const B={titulo:D.titulo.trim(),descricao:D.descricao.trim()||void 0,data_documento:D.data_documento,tipo_documento:D.tipo_documento||void 0,observacoes:D.observacoes.trim()||void 0,compromisso_id:D.compromisso_id||void 0,arquivo_nome:D.arquivo_nome||void 0,arquivo_url:D.arquivo_url||void 0};G?ls.mutate({id:G.id,data:B}):Nr.mutate({...B,pessoa_id:s.id})},Jo=()=>{if(!ue.trim()){he.error("Titulo do compromisso e obrigatorio");return}Ec.mutate({titulo:ue.trim(),data_inicio:$e,pessoa_id:s?.id})},el=B=>{ne(B),Q({titulo:B.titulo,descricao:B.descricao||"",data_documento:B.data_documento,tipo_documento:B.tipo_documento||"",observacoes:B.observacoes||"",compromisso_id:B.compromisso_id||"",arquivo_nome:B.arquivo_nome||"",arquivo_url:B.arquivo_url||""}),L(!0)},wa=B=>{confirm(`Tem certeza que deseja excluir o documento "${B.titulo}"?`)&&Md.mutate(B.id)},vn=()=>{Sr.mutate(ja)},Dd=()=>{qa()},pp=g.useCallback(async B=>{if(V.current&&clearTimeout(V.current),Kx(B).length<10){I(null);return}V.current=setTimeout(async()=>{K(!0);try{const Yt=await nn.verificarWhatsApp(B,c?s?.id:void 0);I(Yt)}catch(Yt){console.error("Erro ao verificar WhatsApp:",Yt),I(null)}finally{K(!1)}},500)},[c,s?.id]),_c=async B=>{const Ue=CH(B);Se("cep",Ue);const Yt=Kx(Ue);if(Yt.length===8){j(!0);try{const Fs=await OH(Yt);if(!Fs){he.error("CEP nao encontrado");return}Se("logradouro",Fs.logradouro||""),Se("complemento",Fs.complemento||""),Se("bairro",Fs.bairro||"");const cn=yr.find(Cr=>Cr.sigla===Fs.uf);if(cn){Se("estadoId",String(cn.id));const ra=(await Ka.listarMunicipios(cn.id,void 0,1e4)).find(tl=>tl.nome.toLowerCase()===Fs.localidade.toLowerCase());if(ra){Se("municipioId",ra.id);const Pd=(await Ka.listarSetores(ra.id)).find(sl=>sl.nome.toLowerCase()===Fs.bairro.toLowerCase());Pd?(Se("setorId",Pd.id),he.success("Endereco preenchido automaticamente!")):Fs.bairro?(h(Fs.bairro),v(!0),he.success("Endereco preenchido! Setor/Bairro nao encontrado, criando novo..."),o.invalidateQueries({queryKey:["setores",ra.id]})):he.success("Endereco preenchido automaticamente!")}else he.success("Endereco parcialmente preenchido. Municipio nao encontrado.")}else he.success("Endereco parcialmente preenchido. Estado nao encontrado.")}catch(Fs){console.error("Erro ao buscar CEP:",Fs),he.error("Erro ao buscar CEP")}finally{j(!1)}}},zd=B=>{const Ue={nome:B.nome,whatsapp:B.whatsapp,estadoId:Number(B.estadoId),municipioId:B.municipioId,setorId:B.setorId,genero:B.genero,nomeSocial:B.nomeSocial||void 0,cpf:B.cpf||void 0,rg:B.rg||void 0,dataNascimento:_H(B.dataNascimento||"")||void 0,profissao:B.profissao||void 0,email:B.email||void 0,telefone:B.telefone||void 0,celular:B.celular||void 0,instagram:B.instagram||void 0,facebook:B.facebook||void 0,cep:B.cep||void 0,logradouro:B.logradouro||void 0,numero:B.numero||void 0,complemento:B.complemento||void 0,bairro:B.bairro||void 0,observacoes:B.observacoes||void 0,liderancaId:B.liderancaId||void 0,aceitaWhatsapp:B.aceitaWhatsapp,aceitaSms:B.aceitaSms,aceitaEmail:B.aceitaEmail};c?wr.mutate(Ue):jr.mutate(Ue)},oi=jr.isPending||wr.isPending||Sr.isPending,gp=[{id:"dados",label:"Dados Pessoais",icon:Rt},{id:"contato",label:"Contato",icon:Ds},{id:"endereco",label:"Endereco",icon:Kn},{id:"outros",label:"Outros",icon:rn},...c?[{id:"documentos",label:"Documentos",icon:yw}]:[],...c?[{id:"demandas",label:"Demandas",icon:kn}]:[]],yn=yr.map(B=>({value:String(B.id),label:`${B.sigla} - ${B.nome}`})),Tc=fp.map(B=>({value:B.id,label:B.nome})),$d=Yo.map(B=>({value:B.id,label:B.nome})),Oc=B=>{q({id:B.id,nome:B.nome}),H(B.nome),Se("liderancaId",B.id),Z(!1)},li=()=>{q(null),H(""),Se("liderancaId","")};return c&&Go?r.jsx(ss,{isOpen:e,onClose:qa,title:"Editar Pessoa",size:"lg",children:r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin w-8 h-8 border-3 border-primary-500 border-t-transparent rounded-full mb-4"}),r.jsx("p",{className:"text-slate-500",children:"Carregando dados..."})]})}):N?r.jsx(ss,{isOpen:e,onClose:qa,title:"Vincular Tags",size:"md",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center mx-auto mb-4",children:r.jsx(Ns,{className:"w-8 h-8 text-primary-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Deseja vincular tags a este cadastro?"}),r.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Selecione as tags para categorizar esta pessoa"})]}),Zo?r.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-500 text-sm py-8",children:[r.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-primary-500 border-t-transparent rounded-full"}),"Carregando tags..."]}):br.length===0?r.jsx("div",{className:"text-sm text-slate-500 bg-slate-50 rounded-lg p-6 text-center",children:"Nenhuma tag cadastrada. Cadastre tags no menu Tags."}):r.jsxs("div",{className:"space-y-4",children:[ja.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-primary-50 rounded-lg border border-primary-100",children:ja.map(B=>{const Ue=br.find(Yt=>Yt.id===B);return Ue?r.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium text-white shadow-sm",style:{backgroundColor:Ue.cor},children:[Ue.nome,r.jsx("button",{type:"button",onClick:()=>vr(Yt=>Yt.filter(Fs=>Fs!==Ue.id)),className:"hover:bg-white/20 rounded-full p-0.5 transition-colors",children:r.jsx(Ht,{className:"w-3.5 h-3.5"})})]},Ue.id):null})}),r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),r.jsx("input",{type:"text",placeholder:"Buscar tags...",value:k,onChange:B=>{R(B.target.value),z(!0)},className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),k&&r.jsx("button",{type:"button",onClick:()=>R(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:r.jsx(Ht,{className:"w-4 h-4"})})]}),(()=>{const B=br.filter(cn=>cn.nome.toLowerCase().includes(k.toLowerCase())),Ue=P||k?B:B.slice(0,F),Yt=!k&&B.length>F,Fs=B.length-F;return r.jsxs(r.Fragment,{children:[B.length===0?r.jsxs("div",{className:"text-sm text-slate-500 bg-slate-50 rounded-lg p-4 text-center",children:['Nenhuma tag encontrada para "',k,'"']}):r.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto p-1",children:Ue.map(cn=>{const Cr=ja.includes(cn.id);return r.jsxs("button",{type:"button",onClick:()=>{vr(Cr?ra=>ra.filter(tl=>tl!==cn.id):ra=>[...ra,cn.id])},className:`flex items-center gap-2 px-3 py-2.5 rounded-lg border-2 transition-all text-left ${Cr?"border-primary-500 bg-primary-50":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:[r.jsx("span",{className:"w-5 h-5 rounded-full flex-shrink-0 flex items-center justify-center",style:{backgroundColor:cn.cor},children:r.jsx(Ns,{className:"w-3 h-3 text-white"})}),r.jsx("span",{className:"text-sm font-medium text-slate-700 truncate flex-1",children:cn.nome}),Cr&&r.jsx("span",{className:"text-primary-500",children:r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},cn.id)})}),Yt&&r.jsx("button",{type:"button",onClick:()=>z(!P),className:"w-full py-2 text-sm font-medium text-primary-600 hover:text-primary-700 hover:bg-primary-50 rounded-lg transition-colors",children:P?"Mostrar menos":`Ver mais ${Fs} tag${Fs>1?"s":""}`})]})})()]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100",children:[r.jsx(ke,{type:"button",variant:"ghost",onClick:Dd,disabled:oi,children:ja.length===0?"Nao vincular tags":"Cancelar"}),r.jsx(ke,{type:"button",onClick:vn,isLoading:Sr.isPending,children:ja.length>0?`Salvar ${ja.length} tag${ja.length>1?"s":""}`:"Concluir sem tags"})]})]})}):r.jsxs(ss,{isOpen:e,onClose:qa,title:c?"Editar Pessoa":"Nova Pessoa",size:"lg",children:[r.jsx("div",{className:"flex flex-wrap border-b border-slate-200 mb-6 -mx-6 px-6 gap-1",children:gp.map(B=>r.jsxs("button",{type:"button",onClick:()=>f(B.id),className:`flex items-center gap-1.5 px-3 py-2 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${u===B.id?"border-primary-500 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[r.jsx(B.icon,{className:"w-4 h-4"}),B.label]},B.id))}),r.jsxs("form",{onSubmit:re(zd),className:"space-y-6",children:[u==="dados"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsx(Ve,{label:"Nome Completo *",placeholder:"Nome da pessoa",...qe("nome",{required:"Nome e obrigatorio",maxLength:{value:200,message:"Maximo 200 caracteres"}}),error:_t.nome?.message})}),r.jsx(Vn,{name:"whatsapp",control:Xe,rules:{required:"WhatsApp e obrigatorio",minLength:{value:15,message:"WhatsApp incompleto"}},render:({field:B})=>r.jsxs("div",{children:[r.jsx(Ve,{label:"WhatsApp *",placeholder:"(00) 00000-0000",leftIcon:r.jsx(Pm,{className:"w-4 h-4"}),value:B.value,onChange:Ue=>{const Yt=Om(Ue.target.value);B.onChange(Yt),pp(Yt)},error:_t.whatsapp?.message,className:A?.existe?"border-red-500 focus:ring-red-500":"",rightIcon:$?r.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-primary-500 border-t-transparent rounded-full"}):void 0}),A?.existe&&A.pessoa&&r.jsx("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-red-700",children:["Este WhatsApp ja esta cadastrado para"," ",r.jsx("button",{type:"button",onClick:()=>{n&&A.pessoa&&(qa(),n(A.pessoa.id))},className:"font-semibold text-red-800 underline hover:text-red-900",children:A.pessoa.nome})]})})]})}),r.jsx(Vn,{name:"genero",control:Xe,rules:{required:"Genero e obrigatorio"},render:({field:B})=>r.jsx(ec,{label:"Genero *",options:kH,value:B.value,onChange:B.onChange,error:_t.genero?.message})}),r.jsx(Vn,{name:"estadoId",control:Xe,rules:{required:"Estado e obrigatorio"},render:({field:B})=>r.jsx(Rs,{label:"Estado *",options:yn,value:B.value,onChange:B.onChange,placeholder:"Buscar estado...",loading:Cc,error:_t.estadoId?.message})}),r.jsx(Vn,{name:"municipioId",control:Xe,rules:{required:"Municipio e obrigatorio"},render:({field:B})=>r.jsx(Rs,{label:"Municipio *",options:Tc,value:B.value,onChange:B.onChange,placeholder:Ps?"Buscar municipio...":"Selecione o estado primeiro",disabled:!Ps,loading:mp,error:_t.municipioId?.message})}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx("div",{className:"flex-1",children:r.jsx(Vn,{name:"setorId",control:Xe,rules:{required:"Setor e obrigatorio"},render:({field:B})=>r.jsx(Rs,{label:"Setor/Bairro *",options:$d,value:B.value,onChange:B.onChange,placeholder:Hs?"Buscar setor/bairro...":"Selecione o municipio primeiro",disabled:!Hs,loading:lo,error:_t.setorId?.message})})}),Hs&&r.jsx(ke,{type:"button",variant:"secondary",size:"sm",onClick:()=>v(!x),title:"Adicionar novo setor",children:r.jsx(fs,{className:"w-4 h-4"})})]}),x&&Hs&&r.jsxs("div",{className:"mt-2 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ve,{placeholder:"Digite o nome do setor/bairro",value:m,onChange:B=>h(B.target.value)}),r.jsx(ke,{type:"button",size:"sm",onClick:()=>m&&Wo.mutate(m),isLoading:Wo.isPending,disabled:!m.trim(),children:"Criar"})]}),m.length>=2&&Yo.filter(B=>B.nome.toLowerCase().includes(m.toLowerCase())).length>0&&r.jsxs("div",{className:"p-2 bg-amber-50 border border-amber-200 rounded-lg",children:[r.jsx("p",{className:"text-xs text-amber-700 font-medium mb-1",children:"Setores semelhantes ja cadastrados:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:Yo.filter(B=>B.nome.toLowerCase().includes(m.toLowerCase())).slice(0,5).map(B=>r.jsx("button",{type:"button",onClick:()=>{Se("setorId",B.id),h(""),v(!1)},className:"text-xs px-2 py-1 bg-white border border-amber-300 rounded hover:bg-amber-100 transition-colors",children:B.nome},B.id))})]})]})]}),r.jsx(Ve,{label:"Nome Social",placeholder:"Nome social (se houver)",...qe("nomeSocial")}),r.jsx(Vn,{name:"cpf",control:Xe,render:({field:B})=>r.jsx(Ve,{label:"CPF",placeholder:"000.000.000-00",value:B.value||"",onChange:Ue=>B.onChange(NH(Ue.target.value))})}),r.jsx(Ve,{label:"RG",placeholder:"Numero do RG",...qe("rg")}),r.jsx(Vn,{name:"dataNascimento",control:Xe,render:({field:B})=>r.jsx(Ve,{label:"Data de Nascimento",placeholder:"DD/MM/AAAA",leftIcon:r.jsx(xn,{className:"w-4 h-4"}),value:B.value||"",onChange:Ue=>B.onChange(EH(Ue.target.value)),maxLength:10})}),r.jsx(Ve,{label:"Profissao",placeholder:"Profissao",...qe("profissao")}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vw,{className:"w-4 h-4"}),r.jsx("span",{children:"Lideranca"})]})}),r.jsxs("div",{className:"relative",ref:U,children:[r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),r.jsx("input",{type:"text",placeholder:"Buscar lideranca...",value:te,onChange:B=>{H(B.target.value),Z(!0),B.target.value||(q(null),Se("liderancaId",""))},onFocus:()=>Z(!0),className:"w-full pl-10 pr-10 py-2.5 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),ee&&r.jsx("button",{type:"button",onClick:li,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:r.jsx(Ht,{className:"w-4 h-4"})})]}),Y&&te.length>=2&&ii.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-xl shadow-lg border border-slate-100 max-h-48 overflow-auto",children:ii.map(B=>r.jsxs("button",{type:"button",onClick:()=>Oc(B),className:"w-full px-4 py-3 text-left hover:bg-primary-50 flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 flex items-center justify-center text-amber-600 font-medium",children:B.nome.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:B.nome}),r.jsx("p",{className:"text-xs text-slate-500",children:B.municipioNome||B.whatsapp||"-"})]})]},B.id))}),Y&&te.length>=2&&ii.length===0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-xl shadow-lg border border-slate-100 p-4 text-center text-slate-500 text-sm",children:"Nenhuma pessoa encontrada"}),!ee&&te.length<2&&r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Digite pelo menos 2 caracteres para buscar"})]}),ee&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 p-2 bg-amber-50 rounded-lg",children:[r.jsx(vw,{className:"w-4 h-4 text-amber-600"}),r.jsx("span",{className:"text-sm text-amber-700 font-medium",children:ee.nome})]}),r.jsx("input",{type:"hidden",...qe("liderancaId")})]})]})}),u==="contato"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Vn,{name:"telefone",control:Xe,render:({field:B})=>r.jsx(Ve,{label:"Telefone",placeholder:"(00) 0000-0000",leftIcon:r.jsx(Ds,{className:"w-4 h-4"}),value:B.value||"",onChange:Ue=>B.onChange(Om(Ue.target.value))})}),r.jsx(Vn,{name:"celular",control:Xe,render:({field:B})=>r.jsx(Ve,{label:"Celular",placeholder:"(00) 00000-0000",leftIcon:r.jsx(Ds,{className:"w-4 h-4"}),value:B.value||"",onChange:Ue=>B.onChange(Om(Ue.target.value))})}),r.jsx(Ve,{label:"E-mail",type:"email",placeholder:"email@exemplo.com",leftIcon:r.jsx(Rn,{className:"w-4 h-4"}),...qe("email")}),r.jsx(Ve,{label:"Instagram",placeholder:"@usuario",leftIcon:r.jsx(aM,{className:"w-4 h-4"}),...qe("instagram")}),r.jsx(Ve,{label:"Facebook",placeholder:"usuario.facebook",leftIcon:r.jsx(V3,{className:"w-4 h-4"}),...qe("facebook")})]}),r.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[r.jsx("p",{className:"text-sm font-medium text-slate-700 mb-3",children:"Preferencias de Comunicacao"}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-primary-600 focus:ring-primary-500",...qe("aceitaWhatsapp")}),r.jsx("span",{className:"text-sm text-slate-600",children:"WhatsApp"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-primary-600 focus:ring-primary-500",...qe("aceitaSms")}),r.jsx("span",{className:"text-sm text-slate-600",children:"SMS"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-primary-600 focus:ring-primary-500",...qe("aceitaEmail")}),r.jsx("span",{className:"text-sm text-slate-600",children:"E-mail"})]})]})]})]}),u==="endereco"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Vn,{name:"cep",control:Xe,render:({field:B})=>r.jsx(Ve,{label:"CEP",placeholder:"00000-000",value:B.value||"",onChange:Ue=>_c(Ue.target.value),disabled:y,rightIcon:y?r.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-primary-500 border-t-transparent rounded-full"}):void 0})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(Ve,{label:"Logradouro",placeholder:"Rua, Avenida, etc.",...qe("logradouro")})}),r.jsx(Ve,{label:"Numero",placeholder:"123",...qe("numero")}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(Ve,{label:"Complemento",placeholder:"Apto, Bloco, etc.",...qe("complemento")})}),r.jsx("div",{className:"md:col-span-3",children:r.jsx(Ve,{label:"Bairro",placeholder:"Bairro",...qe("bairro")})})]})}),u==="outros"&&r.jsx("div",{className:"space-y-4",children:r.jsx(on,{label:"Observacoes",placeholder:"Observacoes, anotacoes, informacoes adicionais...",rows:6,...qe("observacoes")})}),u==="documentos"&&c&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm text-slate-500",children:[Ko.length," documento(s) vinculado(s)"]}),r.jsx(ke,{type:"button",size:"sm",leftIcon:r.jsx(fs,{className:"w-4 h-4"}),onClick:()=>{aa(),L(!0)},children:"Novo Documento"})]}),_&&r.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg space-y-4",children:[r.jsx("h4",{className:"font-medium text-slate-900",children:G?"Editar Documento":"Novo Documento"}),r.jsx(Ve,{label:"Titulo *",placeholder:"Digite o titulo do documento...",leftIcon:r.jsx(rn,{className:"w-4 h-4"}),value:D.titulo,onChange:B=>Q({...D,titulo:B.target.value})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Ve,{label:"Data do Documento *",type:"date",leftIcon:r.jsx(xn,{className:"w-4 h-4"}),value:D.data_documento,onChange:B=>Q({...D,data_documento:B.target.value})}),r.jsx(Rs,{label:"Tipo de Documento",value:D.tipo_documento,onChange:B=>Q({...D,tipo_documento:B}),options:vt,placeholder:"Selecione um tipo..."})]}),r.jsx(on,{label:"Descricao",placeholder:"Descreva o documento...",rows:2,value:D.descricao,onChange:B=>Q({...D,descricao:B.target.value})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Compromisso Vinculado"}),r.jsxs("button",{type:"button",onClick:()=>we(!0),className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[r.jsx(fs,{className:"w-3 h-3"}),"Novo Compromisso"]})]}),r.jsx(Rs,{value:D.compromisso_id,onChange:B=>Q({...D,compromisso_id:B}),options:[{value:"",label:"Nenhum compromisso"},...Sc.map(B=>({value:B.id,label:`${B.titulo} (${Ys(new Date(B.data_inicio),"dd/MM/yyyy")})`}))],placeholder:"Selecione um compromisso..."})]}),W&&r.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-200 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h5",{className:"font-medium text-slate-900",children:"Novo Compromisso"}),r.jsx("button",{type:"button",onClick:()=>we(!1),className:"text-slate-400 hover:text-slate-600",children:r.jsx(Ht,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Ve,{label:"Titulo *",value:ue,onChange:B=>ve(B.target.value),placeholder:"Titulo do compromisso..."}),r.jsx(Ve,{label:"Data *",type:"date",value:$e,onChange:B=>St(B.target.value)})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ke,{type:"button",size:"sm",onClick:Jo,isLoading:Ec.isPending,children:"Criar Compromisso"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Arquivo Digital"}),r.jsxs("div",{className:"border-2 border-dashed border-slate-200 rounded-xl p-6 text-center hover:border-primary-300 transition-colors cursor-pointer relative",children:[r.jsx(K2,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Arraste um arquivo ou clique para selecionar"}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"PDF, DOC, DOCX, JPG, PNG (max. 10MB)"}),r.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:B=>{const Ue=B.target.files?.[0];Ue&&(Q({...D,arquivo_nome:Ue.name}),he.success(`Arquivo "${Ue.name}" selecionado`))}})]}),D.arquivo_nome&&r.jsxs("div",{className:"flex items-center justify-between p-2 bg-white border border-slate-200 rounded-lg",children:[r.jsxs("span",{className:"text-sm text-slate-600",children:["Arquivo: ",r.jsx("span",{className:"font-medium",children:D.arquivo_nome})]}),r.jsx("button",{type:"button",onClick:()=>Q({...D,arquivo_nome:"",arquivo_url:""}),className:"text-red-500 hover:text-red-600",children:r.jsx(Ht,{className:"w-4 h-4"})})]})]}),r.jsx(on,{label:"Observacoes",placeholder:"Observacoes adicionais...",rows:2,value:D.observacoes,onChange:B=>Q({...D,observacoes:B.target.value})}),r.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-slate-200",children:[r.jsx(ke,{type:"button",variant:"secondary",size:"sm",onClick:aa,children:"Cancelar"}),r.jsx(ke,{type:"button",size:"sm",leftIcon:r.jsx(Jn,{className:"w-4 h-4"}),onClick:hp,isLoading:Nr.isPending||ls.isPending,children:G?"Salvar Alteracoes":"Cadastrar Documento"})]})]}),oo?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full"})}):Ko.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(yw,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),r.jsx("p",{className:"text-slate-500",children:"Nenhum documento cadastrado"}),r.jsx("p",{className:"text-sm text-slate-400",children:'Clique em "Novo Documento" para adicionar'})]}):r.jsx("div",{className:"space-y-2",children:Ko.map(B=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg hover:border-slate-300 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-primary-50 rounded-lg flex items-center justify-center",children:r.jsx(rn,{className:"w-5 h-5 text-primary-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:B.titulo}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[B.tipo_documento&&r.jsx("span",{className:"px-2 py-0.5 bg-slate-100 rounded",children:B.tipo_documento}),r.jsx("span",{children:new Date(B.data_documento).toLocaleDateString("pt-BR")})]})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[B.arquivo_url&&r.jsx("a",{href:B.arquivo_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg text-slate-500 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Visualizar arquivo",children:r.jsx(td,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:()=>el(B),className:"p-2 rounded-lg text-slate-500 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Editar",children:r.jsx(Ia,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:()=>wa(B),className:"p-2 rounded-lg text-slate-500 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Excluir",children:r.jsx(gh,{className:"w-4 h-4"})})]})]},B.id))})]}),u==="demandas"&&c&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm text-slate-500",children:[na.length," demanda(s) vinculada(s)"]}),r.jsx(ke,{type:"button",size:"sm",leftIcon:r.jsx(fs,{className:"w-4 h-4"}),onClick:()=>{Xo(),ps(!0)},children:"Nova Demanda"})]}),Ut&&r.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg space-y-4",children:[r.jsxs("h4",{className:"font-medium text-slate-900 flex items-center gap-2",children:[r.jsx(kn,{className:"w-4 h-4"}),"Nova Demanda"]}),r.jsx("div",{children:r.jsx(Ve,{label:"Titulo da Demanda *",placeholder:"Descreva brevemente a demanda...",leftIcon:r.jsx(rn,{className:"w-4 h-4"}),value:ft.titulo,onChange:B=>{os({...ft,titulo:B.target.value}),Ct.titulo&&gs({...Ct,titulo:!1})},error:Ct.titulo?"Campo obrigatorio":void 0})}),r.jsx("div",{children:r.jsx(on,{label:"Descricao *",placeholder:"Descreva detalhadamente a demanda...",rows:4,value:ft.descricao,onChange:B=>{os({...ft,descricao:B.target.value}),Ct.descricao&&gs({...Ct,descricao:!1})},error:Ct.descricao?"Campo obrigatorio":void 0})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium text-sm",children:[r.jsx(Ns,{className:"w-4 h-4"}),r.jsx("span",{children:"Tipo de Demanda *"})]}),r.jsxs("button",{type:"button",onClick:()=>J(!0),className:"text-xs text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[r.jsx(fs,{className:"w-3 h-3"}),"Novo Tipo"]})]}),r.jsxs("div",{className:"relative",ref:We,children:[r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),r.jsx("input",{type:"text",placeholder:"Buscar tipo de demanda...",value:ie,onChange:B=>{pe(B.target.value),Te(!0),Ct.categoriaId&&gs({...Ct,categoriaId:!1}),B.target.value||(De(null),os({...ft,categoriaId:""}))},onFocus:()=>Te(!0),className:`w-full pl-10 pr-4 py-2.5 rounded-xl border focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm ${Ct.categoriaId?"border-red-500":"border-slate-200"}`})]}),_e&&Is.filter(B=>B.nome.toLowerCase().includes(ie.toLowerCase())).length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-xl shadow-lg border border-slate-100 max-h-48 overflow-auto",children:Is.filter(B=>B.nome.toLowerCase().includes(ie.toLowerCase())).map(B=>r.jsxs("button",{type:"button",onClick:()=>{De(B),pe(B.nome),os({...ft,categoriaId:B.id}),Te(!1)},className:"w-full px-4 py-3 text-left hover:bg-primary-50 flex items-center gap-3",children:[r.jsx("span",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:B.cor}}),r.jsx("span",{className:"font-medium text-slate-900 text-sm",children:B.nome})]},B.id))}),_e&&ie&&Is.filter(B=>B.nome.toLowerCase().includes(ie.toLowerCase())).length===0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-xl shadow-lg border border-slate-100 p-4 text-center text-slate-500 text-sm",children:"Nenhum tipo encontrado"})]}),Ce&&r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ce.cor}}),r.jsx("span",{className:"text-sm text-slate-600",children:Ce.nome}),r.jsx("button",{type:"button",onClick:()=>{De(null),pe(""),os({...ft,categoriaId:""})},className:"text-xs text-slate-400 hover:text-red-500 ml-auto",children:"Limpar"})]}),Ct.categoriaId&&r.jsx("p",{className:"mt-1 text-xs text-red-500",children:"Campo obrigatorio"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium text-sm mb-2",children:[r.jsx(hh,{className:"w-4 h-4"}),r.jsx("span",{children:"Prioridade *"})]}),r.jsx("select",{value:ft.prioridade,onChange:B=>{os({...ft,prioridade:B.target.value}),Ct.prioridade&&gs({...Ct,prioridade:!1})},className:`w-full px-4 py-2.5 rounded-xl border focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm ${Ct.prioridade?"border-red-500":"border-slate-200"}`,children:Ee.map(B=>r.jsx("option",{value:B.value,children:B.label},B.value))}),Ct.prioridade&&r.jsx("p",{className:"mt-1 text-xs text-red-500",children:"Campo obrigatorio"})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium text-sm mb-2",children:[r.jsx(xn,{className:"w-4 h-4"}),r.jsx("span",{children:"Prazo *"})]}),r.jsx(Ve,{type:"date",value:ft.dataPrazo,onChange:B=>{os({...ft,dataPrazo:B.target.value}),Ct.dataPrazo&&gs({...Ct,dataPrazo:!1})},error:Ct.dataPrazo?"Campo obrigatorio":void 0})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-slate-200",children:[r.jsx(ke,{type:"button",variant:"secondary",size:"sm",onClick:Xo,children:"Cancelar"}),r.jsx(ke,{type:"button",size:"sm",leftIcon:r.jsx(Jn,{className:"w-4 h-4"}),onClick:Rd,isLoading:La.isPending,children:"Criar Demanda"})]})]}),kd?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full"})}):na.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(kn,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),r.jsx("p",{className:"text-slate-500",children:"Nenhuma demanda cadastrada"}),r.jsx("p",{className:"text-sm text-slate-400",children:'Clique em "Nova Demanda" para adicionar'})]}):r.jsx("div",{className:"space-y-2",children:na.map(B=>{const Ue=Ee.find(Yt=>Yt.value===B.prioridade);return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg hover:border-slate-300 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:B.categoriaCor?`${B.categoriaCor}20`:"#f1f5f9"},children:r.jsx(kn,{className:"w-5 h-5",style:{color:B.categoriaCor||"#64748b"}})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-medium text-slate-900",children:B.titulo}),r.jsx("span",{className:`text-xs font-medium ${Ue?.cor||"text-slate-500"}`,children:Ue?.label||B.prioridade})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx("span",{className:"px-2 py-0.5 bg-slate-100 rounded",children:B.numeroProtocolo}),B.categoriaNome&&r.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:B.categoriaCor?`${B.categoriaCor}20`:"#f1f5f9",color:B.categoriaCor||"#64748b"},children:B.categoriaNome}),r.jsx("span",{children:new Date(B.dataAbertura).toLocaleDateString("pt-BR")}),B.dataPrazo&&r.jsxs("span",{className:"text-amber-600",children:["Prazo: ",new Date(B.dataPrazo).toLocaleDateString("pt-BR")]})]})]})]}),r.jsx("div",{className:"flex items-center gap-1",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${B.status==="aberta"?"bg-blue-100 text-blue-700":B.status==="em_andamento"?"bg-amber-100 text-amber-700":B.status==="aguardando"?"bg-purple-100 text-purple-700":B.status==="concluida"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"}`,children:B.status==="aberta"?"Aberta":B.status==="em_andamento"?"Em Andamento":B.status==="aguardando"?"Aguardando":B.status==="concluida"?"Concluida":"Cancelada"})})]},B.id)})})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100",children:[r.jsx(ke,{type:"button",variant:"secondary",onClick:qa,disabled:oi,children:"Cancelar"}),r.jsx(ke,{type:"submit",isLoading:oi,leftIcon:r.jsx(Jn,{className:"w-4 h-4"}),children:c?"Salvar":"Cadastrar"})]})]}),r.jsx(sv,{isOpen:Vs,onClose:()=>J(!1)})]})},MH=[10,25,50,100],RH=20,DH=[{key:"ativo",label:"Status",type:"boolean"}],zH=({className:e})=>r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:e,children:r.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),$H=({pessoa:e,onEdit:t,onToggleStatus:s,onDelete:n,onAddTag:o,onWhatsAppClick:c})=>{const u=e.whatsapp||e.celular;return r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("button",{onClick:()=>o(e),className:"p-2 rounded-lg text-purple-500 hover:text-purple-600 hover:bg-purple-50 transition-colors relative",title:"Gerenciar Tags",children:[r.jsx(Ns,{className:"w-4 h-4"}),r.jsx(fs,{className:"w-2.5 h-2.5 absolute -top-0.5 -right-0.5 bg-purple-500 text-white rounded-full"})]}),u&&r.jsx("button",{onClick:()=>c(e),className:"p-2 rounded-lg text-[#25D366] hover:text-[#128C7E] hover:bg-green-50 transition-colors",title:"Enviar WhatsApp",children:r.jsx(zH,{className:"w-5 h-5"})}),e.celular&&r.jsx("a",{href:`tel:${e.celular}`,className:"p-2 rounded-lg text-slate-500 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Ligar",children:r.jsx(Ds,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-lg text-slate-500 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Editar",children:r.jsx(Ia,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>s(e),className:je("p-2 rounded-lg transition-colors",e.ativo?"text-amber-500 hover:text-amber-600 hover:bg-amber-50":"text-green-500 hover:text-green-600 hover:bg-green-50"),title:e.ativo?"Desativar":"Ativar",children:e.ativo?r.jsx(to,{className:"w-4 h-4"}):r.jsx(so,{className:"w-4 h-4"})})]})},PH=()=>{const e=Lt(),{gabinete:t}=qt(),[s,n]=g.useState(""),[o,c]=g.useState({}),[u,f]=g.useState(1),[m,h]=g.useState(RH),[x,v]=g.useState("nome"),[y,j]=g.useState("asc"),[w,S]=g.useState(!1),[N,T]=g.useState(null),[E,O]=g.useState(!1),[k,R]=g.useState(null),[P,z]=g.useState([]),[F,te]=g.useState(""),[H,Y]=g.useState(!1),Z=8,[ee,q]=g.useState(!1),[U,A]=g.useState(null),[I,$]=g.useState(!1),[K,V]=g.useState(null),{data:_,isLoading:L}=ze({queryKey:["pessoas",t?.id,u,m,s,o],queryFn:()=>nn.listar({page:u,perPage:m,search:s||void 0,ativo:o.ativo}),enabled:!!t?.id}),G=_?.items||[],ne=_?.total||0,D=_?.pages||1,{data:Q,isLoading:W}=ze({queryKey:["tags-ativas"],queryFn:()=>ka.listar({ativo:!0,perPage:100}),enabled:E}),we=Q?.items||[],ue=Ze({mutationFn:async re=>re.ativo?nn.desativar(re.id):nn.ativar(re.id),onSuccess:(re,Me)=>{e.invalidateQueries({queryKey:["pessoas"]}),e.invalidateQueries({queryKey:["gabinete-dashboard"]}),he.success(Me.ativo?`"${Me.nome}" desativado`:`"${Me.nome}" ativado`)},onError:()=>{he.error("Erro ao alterar status")}}),ve=Ze({mutationFn:re=>nn.excluir(re),onSuccess:()=>{e.invalidateQueries({queryKey:["pessoas"]}),e.invalidateQueries({queryKey:["gabinete-dashboard"]}),he.success("Pessoa removida com sucesso")},onError:()=>{he.error("Erro ao remover pessoa")}}),$e=Ze({mutationFn:({pessoaId:re,tagIds:Me})=>nn.atualizar(re,{tagIds:Me}),onSuccess:()=>{e.invalidateQueries({queryKey:["pessoas"]}),e.invalidateQueries({queryKey:["gabinete-dashboard"]}),he.success("Tags atualizadas com sucesso!"),Ce()},onError:()=>{he.error("Erro ao atualizar tags")}}),St=g.useCallback(re=>{n(re),f(1)},[]),vt=g.useCallback(re=>{c(re),f(1)},[]),Ut=g.useCallback(re=>{f(re)},[]),ps=g.useCallback(re=>{h(re),f(1)},[]),ft=g.useCallback(re=>{v(Me=>Me===re?(j(yt=>yt==="asc"?"desc":"asc"),re):(j("asc"),re))},[]),os=()=>{T(null),S(!0)},Ct=re=>{T(re),S(!0)},gs=()=>{S(!1),T(null)},Vs=g.useCallback(async re=>{try{const Me=await nn.obter(re),yt={id:Me.id,nome:Me.nome,genero:Me.genero,cpf:Me.cpf,celular:Me.celular,whatsapp:Me.whatsapp,email:Me.email,estadoId:Me.estadoId,municipioId:Me.municipioId,setorId:Me.setorId,bairro:Me.bairro,totalDemandas:Me.totalDemandas,ativo:Me.ativo,tags:Me.tags};T(yt),S(!0)}catch{he.error("Erro ao carregar dados da pessoa")}},[]),J=re=>{confirm(`Tem certeza que deseja remover "${re.nome}"?`)&&ve.mutate(re.id)},ie=re=>{A(re),q(!0)},pe=()=>{U&&ue.mutate(U,{onSuccess:()=>{q(!1),A(null)}})},_e=()=>{q(!1),A(null)},Te=re=>{R(re),z(re.tags?.map(Me=>Me.id)||[]),te(""),Y(!1),O(!0)},Ce=()=>{O(!1),R(null),z([]),te(""),Y(!1)},De=()=>{k&&$e.mutate({pessoaId:k.id,tagIds:P})},We=g.useCallback(re=>{V(re),$(!0)},[]),Ee=()=>{$(!1),V(null)},qe=[{key:"nome",header:"Nome",sortable:!0,render:re=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white font-bold bg-gradient-to-br from-primary-400 to-emerald-500",children:re.nome.charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:re.nome}),re.cpf&&r.jsx("p",{className:"text-xs text-slate-500",children:re.cpf})]})]})},{key:"tags",header:"Tags",width:"120px",align:"center",render:re=>re.tags&&re.tags.length>0?r.jsx("div",{className:"flex items-center justify-center gap-1.5",children:re.tags.map(Me=>r.jsxs("div",{className:"group relative",children:[r.jsx("div",{className:"w-6 h-6 rounded-full shadow-sm cursor-default transition-transform hover:scale-125 ring-2 ring-white flex items-center justify-center",style:{backgroundColor:Me.cor},children:r.jsx(Ns,{className:"w-3 h-3 text-white"})}),r.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-slate-800 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 min-w-max",children:[r.jsx("p",{className:"text-sm font-medium text-white",children:Me.nome}),Me.descricao&&r.jsx("p",{className:"text-xs text-slate-300 mt-0.5",children:Me.descricao}),r.jsx("span",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-slate-800"})]})]},Me.id))}):r.jsx("span",{className:"text-slate-400 text-sm",children:"-"})},{key:"contato",header:"Contato",render:re=>r.jsxs("div",{className:"space-y-1",children:[re.celular&&r.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-600",children:[r.jsx(Ds,{className:"w-3 h-3"}),re.celular]}),re.email&&r.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-500",children:[r.jsx(Rn,{className:"w-3 h-3"}),r.jsx("span",{className:"truncate max-w-[180px]",children:re.email})]})]})},{key:"localizacao",header:"Localizacao",render:re=>re.municipioNome||re.estadoSigla||re.setorNome?r.jsxs("div",{className:"space-y-1",children:[re.municipioNome&&r.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-600",children:[r.jsx(Kn,{className:"w-3 h-3"}),re.municipioNome,re.estadoSigla&&` - ${re.estadoSigla}`]}),re.setorNome&&r.jsxs("div",{className:"text-xs text-slate-500",children:["Setor: ",re.setorNome]})]}):r.jsx("span",{className:"text-slate-400 text-sm",children:"-"})},{key:"ativo",header:"Status",width:"100px",align:"center",render:re=>r.jsx(ts,{variant:re.ativo?"success":"default",children:re.ativo?"Ativo":"Inativo"})}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(es,{className:"w-6 h-6 text-primary-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Pessoas"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Gerencie as pessoas cadastradas no gabinete"})]}),r.jsx(ke,{leftIcon:r.jsx(fs,{className:"w-4 h-4"}),onClick:os,children:"Nova Pessoa"})]}),r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(pr,{placeholder:"Buscar por nome, CPF, celular, email...",value:s,onSearch:St,filters:DH,activeFilters:o,onFilterChange:vt}),r.jsxs("p",{className:"text-sm text-slate-500",children:[ne," pessoa(s) encontrada(s)"]})]})}),r.jsx(Kt,{columns:qe,data:G,keyExtractor:re=>re.id,isLoading:L,emptyMessage:"Nenhuma pessoa encontrada",emptyDescription:"Cadastre uma nova pessoa para comecar",emptyIcon:r.jsx(es,{className:"w-12 h-12 text-slate-300"}),sortBy:x,sortDir:y,onSort:ft,rowClassName:re=>re.ativo?"":"bg-slate-50 opacity-75",actions:re=>r.jsx($H,{pessoa:re,onEdit:Ct,onToggleStatus:ie,onDelete:J,onAddTag:Te,onWhatsAppClick:We})}),ne>0&&r.jsx(Bs,{currentPage:u,totalPages:D,totalItems:ne,pageSize:m,onPageChange:Ut,onPageSizeChange:ps,pageSizeOptions:MH}),r.jsx(AH,{isOpen:w,onClose:gs,pessoa:N,onEditPessoa:Vs}),r.jsx(Jr,{isOpen:ee,onClose:_e,onConfirm:pe,title:U?.ativo?"Desativar Pessoa":"Ativar Pessoa",message:r.jsxs(r.Fragment,{children:["Tem certeza que deseja ",U?.ativo?"desativar":"ativar"," ",r.jsxs("strong",{className:"text-slate-900",children:['"',U?.nome,'"']}),"?",U?.ativo&&r.jsx("span",{className:"text-sm text-slate-400 mt-2 block",children:"A pessoa nao aparecera mais nas listagens ativas."})]}),confirmText:U?.ativo?"Sim, Desativar":"Sim, Ativar",cancelText:"Cancelar",variant:U?.ativo?"warning":"success",isLoading:ue.isPending}),r.jsx(ss,{isOpen:E,onClose:Ce,title:`Tags - ${k?.nome||""}`,size:"md",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-100 flex items-center justify-center mx-auto mb-4",children:r.jsx(Ns,{className:"w-8 h-8 text-purple-600"})}),r.jsx("p",{className:"text-sm text-slate-500",children:"Selecione as tags para categorizar esta pessoa"})]}),W?r.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-500 text-sm py-8",children:[r.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-purple-500 border-t-transparent rounded-full"}),"Carregando tags..."]}):we.length===0?r.jsx("div",{className:"text-sm text-slate-500 bg-slate-50 rounded-lg p-6 text-center",children:"Nenhuma tag cadastrada. Cadastre tags no menu Tags."}):r.jsxs("div",{className:"space-y-4",children:[P.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-purple-50 rounded-lg border border-purple-100",children:P.map(re=>{const Me=we.find(yt=>yt.id===re);return Me?r.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium text-white shadow-sm",style:{backgroundColor:Me.cor},children:[Me.nome,r.jsx("button",{type:"button",onClick:()=>z(yt=>yt.filter(Se=>Se!==Me.id)),className:"hover:bg-white/20 rounded-full p-0.5 transition-colors",children:r.jsx(Ht,{className:"w-3.5 h-3.5"})})]},Me.id):null})}),r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),r.jsx("input",{type:"text",placeholder:"Buscar tags...",value:F,onChange:re=>{te(re.target.value),Y(!0)},className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),F&&r.jsx("button",{type:"button",onClick:()=>te(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:r.jsx(Ht,{className:"w-4 h-4"})})]}),(()=>{const re=we.filter(Xe=>Xe.nome.toLowerCase().includes(F.toLowerCase())),Me=H||F?re:re.slice(0,Z),yt=!F&&re.length>Z,Se=re.length-Z;return r.jsxs(r.Fragment,{children:[re.length===0?r.jsxs("div",{className:"text-sm text-slate-500 bg-slate-50 rounded-lg p-4 text-center",children:['Nenhuma tag encontrada para "',F,'"']}):r.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto p-1",children:Me.map(Xe=>{const _t=P.includes(Xe.id);return r.jsxs("button",{type:"button",onClick:()=>{z(_t?Ps=>Ps.filter(Hs=>Hs!==Xe.id):Ps=>[...Ps,Xe.id])},className:`flex items-center gap-2 px-3 py-2.5 rounded-lg border-2 transition-all text-left ${_t?"border-purple-500 bg-purple-50":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:[r.jsx("span",{className:"w-5 h-5 rounded-full flex-shrink-0 flex items-center justify-center",style:{backgroundColor:Xe.cor},children:r.jsx(Ns,{className:"w-3 h-3 text-white"})}),r.jsx("span",{className:"text-sm font-medium text-slate-700 truncate flex-1",children:Xe.nome}),_t&&r.jsx("span",{className:"text-purple-500",children:r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},Xe.id)})}),yt&&r.jsx("button",{type:"button",onClick:()=>Y(!H),className:"w-full py-2 text-sm font-medium text-purple-600 hover:text-purple-700 hover:bg-purple-50 rounded-lg transition-colors",children:H?"Mostrar menos":`Ver mais ${Se} tag${Se>1?"s":""}`})]})})()]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100",children:[r.jsx(ke,{type:"button",variant:"secondary",onClick:Ce,disabled:$e.isPending,children:"Cancelar"}),r.jsx(ke,{type:"button",onClick:De,isLoading:$e.isPending,className:"bg-purple-600 hover:bg-purple-700",children:"Salvar Tags"})]})]})}),K&&r.jsx(h4,{isOpen:I,onClose:Ee,pessoa:{id:K.id,nome:K.nome,whatsapp:K.whatsapp,celular:K.celular}})]})},IH=[{value:"#6B7280",label:"Cinza"},{value:"#3B82F6",label:"Azul"},{value:"#22C55E",label:"Verde"},{value:"#F59E0B",label:"Amarelo"},{value:"#EF4444",label:"Vermelho"},{value:"#8B5CF6",label:"Roxo"},{value:"#EC4899",label:"Rosa"},{value:"#14B8A6",label:"Teal"},{value:"#F97316",label:"Laranja"},{value:"#06B6D4",label:"Ciano"}],FH=({isOpen:e,onClose:t,tag:s})=>{const n=Lt(),o=!!s,{register:c,handleSubmit:u,reset:f,control:m,watch:h,formState:{errors:x}}=sa({defaultValues:{nome:"",descricao:"",cor:"#6B7280",icone:"",categoriaId:""}}),v=h("cor"),{data:y}=ze({queryKey:["tag",s?.id],queryFn:()=>ka.obter(s.id),enabled:e&&o&&!!s?.id}),{data:j=[]}=ze({queryKey:["tagCategorias"],queryFn:()=>ka.listarCategorias(),enabled:e});g.useEffect(()=>{y?f({nome:y.nome,descricao:y.descricao||"",cor:y.cor||"#6B7280",icone:y.icone||"",categoriaId:y.categoriaId||""}):o||f({nome:"",descricao:"",cor:"#6B7280",icone:"",categoriaId:""})},[y,o,f,e]);const w=Ze({mutationFn:k=>ka.criar(k),onSuccess:async()=>{await n.invalidateQueries({queryKey:["tags"],refetchType:"all"}),he.success("Tag criada com sucesso!"),N()},onError:k=>{const R=k.response?.data?.detail||"Erro ao criar tag";he.error(R)}}),S=Ze({mutationFn:k=>ka.atualizar(s.id,k),onSuccess:async()=>{await n.invalidateQueries({queryKey:["tags"],refetchType:"all"}),await n.invalidateQueries({queryKey:["tag",s?.id]}),he.success("Tag atualizada com sucesso!"),N()},onError:k=>{const R=k.response?.data?.detail||"Erro ao atualizar tag";he.error(R)}}),N=()=>{f(),t()},T=k=>{const R={nome:k.nome,descricao:k.descricao||void 0,cor:k.cor,icone:k.icone||void 0,categoriaId:k.categoriaId||void 0};o?S.mutate(R):w.mutate(R)},E=w.isPending||S.isPending,O=[{value:"",label:"Sem categoria"},...j.map(k=>({value:k.id,label:k.nome}))];return r.jsx(ss,{isOpen:e,onClose:N,title:o?"Editar Tag":"Nova Tag",size:"md",children:r.jsxs("form",{onSubmit:u(T),className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-center p-4 bg-slate-50 rounded-xl",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium text-white",style:{backgroundColor:v},children:[r.jsx(Ns,{className:"w-3.5 h-3.5"}),h("nome")||"Nome da Tag"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ve,{label:"Nome *",placeholder:"Nome da tag",...c("nome",{required:"Campo obrigatorio",maxLength:{value:100,message:"Maximo 100 caracteres"}}),error:x.nome?.message}),r.jsx(on,{label:"Descricao",placeholder:"Descricao da tag (opcional)",rows:3,...c("descricao")}),r.jsx(Vn,{name:"categoriaId",control:m,render:({field:k})=>r.jsx(ec,{label:"Categoria",options:O,value:k.value||"",onChange:k.onChange})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Cor"}),r.jsx(Vn,{name:"cor",control:m,render:({field:k})=>r.jsx("div",{className:"flex flex-wrap gap-2",children:IH.map(R=>r.jsx("button",{type:"button",onClick:()=>k.onChange(R.value),className:`w-8 h-8 rounded-lg transition-all ${k.value===R.value?"ring-2 ring-offset-2 ring-slate-400 scale-110":"hover:scale-105"}`,style:{backgroundColor:R.value},title:R.label},R.value))})})]}),r.jsx(Ve,{label:"Cor personalizada",placeholder:"#6B7280",leftIcon:r.jsx(cb,{className:"w-4 h-4"}),...c("cor")})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100",children:[r.jsx(ke,{type:"button",variant:"secondary",onClick:N,disabled:E,children:"Cancelar"}),r.jsx(ke,{type:"submit",isLoading:E,leftIcon:r.jsx(Jn,{className:"w-4 h-4"}),children:o?"Salvar":"Criar Tag"})]})]})})},LH=[10,25,50,100],qH=20,UH=[{key:"ativo",label:"Status",type:"boolean"}],BH=({tag:e,onEdit:t,onToggleStatus:s})=>r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-lg text-slate-500 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Editar",children:r.jsx(Ia,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>s(e),className:je("p-2 rounded-lg transition-colors",e.ativo?"text-amber-500 hover:text-amber-600 hover:bg-amber-50":"text-green-500 hover:text-green-600 hover:bg-green-50"),title:e.ativo?"Desativar":"Ativar",children:e.ativo?r.jsx(to,{className:"w-4 h-4"}):r.jsx(so,{className:"w-4 h-4"})})]}),VH=()=>{const e=Lt(),{gabinete:t}=qt(),[s,n]=g.useState(""),[o,c]=g.useState({}),[u,f]=g.useState(1),[m,h]=g.useState(qH),[x,v]=g.useState("nome"),[y,j]=g.useState("asc"),[w,S]=g.useState(!1),[N,T]=g.useState(null),{data:E,isLoading:O}=ze({queryKey:["tags",t?.id,u,m,s,o],queryFn:()=>ka.listar({page:u,perPage:m,search:s||void 0,ativo:o.ativo}),enabled:!!t?.id}),k=E?.items||[],R=E?.total||0,P=E?.pages||1,z=Ze({mutationFn:async I=>I.ativo?ka.desativar(I.id):ka.ativar(I.id),onSuccess:(I,$)=>{e.invalidateQueries({queryKey:["tags"]}),he.success($.ativo?`"${$.nome}" desativada`:`"${$.nome}" ativada`)},onError:()=>{he.error("Erro ao alterar status")}}),F=g.useCallback(I=>{n(I),f(1)},[]),te=g.useCallback(I=>{c(I),f(1)},[]),H=g.useCallback(I=>{f(I)},[]),Y=g.useCallback(I=>{h(I),f(1)},[]),Z=g.useCallback(I=>{v($=>$===I?(j(K=>K==="asc"?"desc":"asc"),I):(j("asc"),I))},[]),ee=()=>{T(null),S(!0)},q=I=>{T(I),S(!0)},U=()=>{S(!1),T(null)},A=[{key:"nome",header:"Tag",sortable:!0,render:I=>r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium text-white",style:{backgroundColor:I.cor},children:[r.jsx(Ns,{className:"w-3.5 h-3.5"}),I.nome]})})},{key:"descricao",header:"Descricao",render:I=>r.jsx("span",{className:"text-sm text-slate-600 line-clamp-2",children:I.descricao||"-"})},{key:"categoria",header:"Categoria",width:"180px",render:I=>I.categoriaNome?r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-slate-600",children:[r.jsx(W3,{className:"w-4 h-4 text-slate-400"}),I.categoriaNome]}):r.jsx("span",{className:"text-slate-400 text-sm",children:"-"})},{key:"cor",header:"Cor",width:"100px",align:"center",render:I=>r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-6 h-6 rounded-lg border border-slate-200",style:{backgroundColor:I.cor},title:I.cor})})},{key:"ativo",header:"Status",width:"100px",align:"center",render:I=>r.jsx(ts,{variant:I.ativo?"success":"default",children:I.ativo?"Ativa":"Inativa"})}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ns,{className:"w-6 h-6 text-primary-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Tags"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Gerencie as tags para classificar pessoas e demandas"})]}),r.jsx(ke,{leftIcon:r.jsx(fs,{className:"w-4 h-4"}),onClick:ee,children:"Nova Tag"})]}),r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(pr,{placeholder:"Buscar por nome ou descricao...",value:s,onSearch:F,filters:UH,activeFilters:o,onFilterChange:te}),r.jsxs("p",{className:"text-sm text-slate-500",children:[R," tag(s) encontrada(s)"]})]})}),r.jsx(Kt,{columns:A,data:k,keyExtractor:I=>I.id,isLoading:O,emptyMessage:"Nenhuma tag encontrada",emptyDescription:"Crie uma nova tag para comecar",emptyIcon:r.jsx(Ns,{className:"w-12 h-12 text-slate-300"}),sortBy:x,sortDir:y,onSort:Z,rowClassName:I=>I.ativo?"":"bg-slate-50 opacity-75",actions:I=>r.jsx(BH,{tag:I,onEdit:q,onToggleStatus:$=>z.mutate($)})}),R>0&&r.jsx(Bs,{currentPage:u,totalPages:P,totalItems:R,pageSize:m,onPageChange:H,onPageSizeChange:Y,pageSizeOptions:LH}),r.jsx(FH,{isOpen:w,onClose:U,tag:N})]})};function gm(e){return{id:e.id,nome:e.nome,dataNascimento:e.data_nascimento,idade:e.idade,telefone:e.telefone,celular:e.celular,whatsapp:e.whatsapp}}const ex={async listarHoje(){const{data:e}=await xe.get("/pessoas/aniversariantes");return e.map(gm)},async listarPorDia(e,t){const{data:s}=await xe.get("/pessoas/aniversariantes",{params:{mes:e,dia:t}});return s.map(gm)},async listarPorMes(e){const{data:t}=await xe.get("/pessoas/aniversariantes/mes",{params:e?{mes:e}:void 0});return t.map(gm)},async listarPorPeriodo(e,t){const{data:s}=await xe.get("/pessoas/aniversariantes/periodo",{params:{data_inicio:e,data_fim:t}});return s.map(gm)}},g4=({className:e})=>r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:e,children:r.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),HH=({aniversariante:e,onWhatsAppClick:t})=>{const s=e.whatsapp||e.celular||e.telefone;return r.jsxs("div",{className:"flex items-center gap-1",children:[s&&r.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-lg text-[#25D366] hover:text-[#128C7E] hover:bg-green-50 transition-colors",title:"Enviar WhatsApp",children:r.jsx(g4,{className:"w-5 h-5"})}),(e.celular||e.telefone)&&r.jsx("a",{href:`tel:${e.celular||e.telefone}`,className:"p-2 rounded-lg text-slate-500 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Ligar",children:r.jsx(Ds,{className:"w-4 h-4"})})]})},GH=e=>{const t=e.split("-");if(t.length===3){const n=parseInt(t[1],10),o=parseInt(t[2],10);return{dia:t[2].padStart(2,"0"),mes:t[1].padStart(2,"0"),diaNum:o,mesNum:n}}const s=new Date(e+"T00:00:00");return{dia:String(s.getDate()).padStart(2,"0"),mes:String(s.getMonth()+1).padStart(2,"0"),diaNum:s.getDate(),mesNum:s.getMonth()+1}},tx=["Janeiro","Fevereiro","Marco","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],QH=()=>{const{gabinete:e}=qt(),t=new Date,[s,n]=g.useState("hoje"),[o,c]=g.useState(t.toISOString().split("T")[0]),[u,f]=g.useState(t.toISOString().split("T")[0]),[m,h]=g.useState(t.getMonth()+1),[x,v]=g.useState(!1),[y,j]=g.useState(!1),[w,S]=g.useState(null),N=g.useCallback(z=>{S(z),j(!0)},[]),E=g.useCallback(()=>{const z=new Date;switch(s){case"hoje":const F=z.toISOString().split("T")[0];return{inicio:F,fim:F};case"semana":const te=new Date(z),H=new Date(z);return H.setDate(H.getDate()+7),{inicio:te.toISOString().split("T")[0],fim:H.toISOString().split("T")[0]};case"mes":const Y=new Date(z.getFullYear(),m-1,1),Z=new Date(z.getFullYear(),m,0);return{inicio:Y.toISOString().split("T")[0],fim:Z.toISOString().split("T")[0]};case"periodo":return{inicio:o,fim:u};default:return{inicio:z.toISOString().split("T")[0],fim:z.toISOString().split("T")[0]}}},[s,o,u,m])(),{data:O=[],isLoading:k}=ze({queryKey:["aniversariantes",e?.id,s,E.inicio,E.fim,m],queryFn:async()=>s==="hoje"?ex.listarHoje():s==="mes"?ex.listarPorMes(m):ex.listarPorPeriodo(E.inicio,E.fim),enabled:!!e?.id}),R=[{key:"nome",header:"Nome",sortable:!0,render:z=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dn,{name:z.nome,size:"md"}),r.jsx("div",{children:r.jsx("p",{className:"font-medium text-slate-900",children:z.nome})})]})},{key:"dataNascimento",header:"Data",width:"120px",align:"center",render:z=>{const{dia:F,mes:te,diaNum:H,mesNum:Y}=GH(z.dataNascimento),Z=H===t.getDate()&&Y===t.getMonth()+1;return r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(xn,{className:"w-4 h-4 text-slate-400"}),r.jsxs("span",{className:je("font-medium",Z?"text-pink-600":"text-slate-700"),children:[F,"/",te]}),Z&&r.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full bg-pink-100 text-pink-600 text-xs font-medium",children:[r.jsx(jw,{className:"w-3 h-3"}),"Hoje!"]})]})}},{key:"idade",header:"Idade",width:"100px",align:"center",render:z=>r.jsxs(ts,{variant:"default",className:"bg-slate-100 text-slate-700",children:[z.idade," anos"]})},{key:"contato",header:"Contato",render:z=>r.jsxs("div",{className:"space-y-1",children:[z.celular&&r.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-600",children:[r.jsx(Ds,{className:"w-3 h-3"}),z.celular]}),z.whatsapp&&!z.celular&&r.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-600",children:[r.jsx(g4,{className:"w-3 h-3"}),z.whatsapp]}),!z.celular&&!z.whatsapp&&z.telefone&&r.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-600",children:[r.jsx(Ds,{className:"w-3 h-3"}),z.telefone]}),!z.celular&&!z.whatsapp&&!z.telefone&&r.jsx("span",{className:"text-slate-400 text-sm",children:"-"})]})}],P=()=>{switch(s){case"hoje":return"Aniversariantes de Hoje";case"semana":return"Aniversariantes da Semana";case"mes":return`Aniversariantes de ${tx[m-1]}`;case"periodo":return"Aniversariantes do Periodo";default:return"Aniversariantes"}};return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Du,{className:"w-6 h-6 text-pink-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Aniversariantes"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:P()})]}),r.jsx(ke,{variant:"outline",leftIcon:r.jsx(fr,{className:"w-4 h-4"}),onClick:()=>v(!x),children:"Filtros"})]}),x&&r.jsx(Pe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-medium text-slate-900",children:"Filtrar por periodo"}),r.jsx("button",{onClick:()=>v(!1),className:"p-1 rounded hover:bg-slate-100",children:r.jsx(Ht,{className:"w-4 h-4 text-slate-400"})})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"hoje",label:"Hoje"},{value:"semana",label:"Proximos 7 dias"},{value:"mes",label:"Mes"},{value:"periodo",label:"Periodo personalizado"}].map(z=>r.jsx("button",{onClick:()=>n(z.value),className:je("px-4 py-2 rounded-lg text-sm font-medium transition-colors",s===z.value?"bg-pink-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"),children:z.label},z.value))}),s==="mes"&&r.jsx("div",{className:"flex flex-wrap gap-2",children:tx.map((z,F)=>r.jsx("button",{onClick:()=>h(F+1),className:je("px-3 py-1.5 rounded-lg text-sm font-medium transition-colors",m===F+1?"bg-pink-100 text-pink-700 ring-2 ring-pink-500":"bg-slate-50 text-slate-600 hover:bg-slate-100"),children:z.substring(0,3)},z))}),s==="periodo"&&r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Data inicio"}),r.jsx("input",{type:"date",value:o,onChange:z=>c(z.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Data fim"}),r.jsx("input",{type:"date",value:u,onChange:z=>f(z.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent"})]})]})]})}),r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-pink-100 flex items-center justify-center",children:r.jsx(Du,{className:"w-6 h-6 text-pink-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:O.length}),r.jsxs("p",{className:"text-sm text-slate-500",children:[O.length===1?"aniversariante":"aniversariantes",s==="hoje"&&" hoje",s==="semana"&&" nos proximos 7 dias",s==="mes"&&` em ${tx[m-1]}`]})]})]}),O.length>0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jw,{className:"w-5 h-5 text-pink-500"}),r.jsx("span",{className:"text-sm text-slate-600",children:"Envie seus parabens!"})]})]})}),r.jsx(Kt,{columns:R,data:O,keyExtractor:z=>z.id,isLoading:k,emptyMessage:"Nenhum aniversariante encontrado",emptyDescription:s==="hoje"?"Nao ha aniversariantes hoje":"Nao ha aniversariantes no periodo selecionado",emptyIcon:r.jsx(Du,{className:"w-12 h-12 text-slate-300"}),actions:z=>r.jsx(HH,{aniversariante:z,onWhatsAppClick:N})}),w&&r.jsx(h4,{isOpen:y,onClose:()=>{j(!1),S(null)},pessoa:{id:w.id,nome:w.nome,whatsapp:w.whatsapp,celular:w.celular,telefone:w.telefone},defaultMessage:`Feliz aniversario, ${w.nome.split(" ")[0]}! Desejamos muitas felicidades e sucesso! `})]})},ZH=[{value:"baixa",label:"Baixa"},{value:"normal",label:"Normal"},{value:"alta",label:"Alta"},{value:"urgente",label:"Urgente"},{value:"critica",label:"Critica"}],KH=({isOpen:e,onClose:t,demanda:s})=>{const n=Lt(),o=!!s,[c,u]=g.useState(!1),[f,m]=g.useState(""),[h,x]=g.useState(!1),[v,y]=g.useState(null),[j,w]=g.useState(""),[S,N]=g.useState(!1),[T,E]=g.useState(null),O=g.useRef(null),k=g.useRef(null);g.useEffect(()=>{const D=Q=>{O.current&&!O.current.contains(Q.target)&&x(!1),k.current&&!k.current.contains(Q.target)&&N(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const{register:R,handleSubmit:P,reset:z,setValue:F,watch:te,formState:{errors:H}}=sa({defaultValues:{titulo:"",descricao:"",categoriaId:"",prioridade:"normal",pessoaId:"",dataPrazo:""}}),Y=te("prioridade"),{data:Z=[],isLoading:ee}=ze({queryKey:["categorias"],queryFn:()=>sc.listar(),enabled:e}),{data:q}=ze({queryKey:["pessoas-search",j],queryFn:()=>nn.listar({search:j,perPage:10}),enabled:e&&j.length>=2}),U=q?.items||[],A=Z.filter(D=>D.nome.toLowerCase().includes(f.toLowerCase()));g.useEffect(()=>{if(s){if(z({titulo:s.titulo,descricao:"",categoriaId:s.categoriaId||"",prioridade:s.prioridade||"normal",pessoaId:s.pessoaId||"",dataPrazo:s.dataPrazo||""}),s.pessoaNome&&w(s.pessoaNome),s.categoriaNome){m(s.categoriaNome);const D=Z.find(Q=>Q.id===s.categoriaId);D&&y(D)}}else z({titulo:"",descricao:"",categoriaId:"",prioridade:"normal",pessoaId:"",dataPrazo:""}),w(""),E(null),m(""),y(null)},[s,z,e,Z]);const I=Ze({mutationFn:D=>Xi.criar(D),onSuccess:()=>{n.invalidateQueries({queryKey:["demandas"]}),he.success("Demanda criada com sucesso!"),K()},onError:D=>{const Q=D.response?.data?.detail||"Erro ao criar demanda";he.error(Q)}}),$=Ze({mutationFn:D=>Xi.atualizar(s.id,D),onSuccess:()=>{n.invalidateQueries({queryKey:["demandas"]}),he.success("Demanda atualizada com sucesso!"),K()},onError:D=>{const Q=D.response?.data?.detail||"Erro ao atualizar demanda";he.error(Q)}}),K=()=>{z(),w(""),E(null),N(!1),m(""),y(null),x(!1),t()},V=D=>{y(D),m(D.nome),F("categoriaId",D.id),x(!1)},_=D=>{E(D),w(D.nome),F("pessoaId",D.id,{shouldValidate:!0}),N(!1)},L=D=>{if(!D.pessoaId){he.error("Selecione uma pessoa cadastrada");return}const Q={titulo:D.titulo,descricao:D.descricao,categoriaId:D.categoriaId||void 0,prioridade:D.prioridade,pessoaId:D.pessoaId,dataPrazo:D.dataPrazo||void 0};o?$.mutate(Q):I.mutate(Q)},G=I.isPending||$.isPending,ne=[{value:"",label:"Selecione a prioridade"},...ZH];return r.jsxs(r.Fragment,{children:[r.jsx(ss,{isOpen:e,onClose:K,title:o?"Editar Demanda":"Nova Demanda",size:"lg",children:r.jsxs("form",{onSubmit:P(L),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(rn,{className:"w-4 h-4"}),r.jsx("span",{children:"Titulo da Demanda *"})]}),r.jsx(Ve,{placeholder:"Descreva brevemente a demanda",...R("titulo",{required:"Campo obrigatorio",maxLength:{value:300,message:"Maximo 300 caracteres"}}),error:H.titulo?.message})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(rn,{className:"w-4 h-4"}),r.jsx("span",{children:"Descricao *"})]}),r.jsx(on,{placeholder:"Descreva detalhadamente a demanda...",rows:4,...R("descricao",{required:"Campo obrigatorio"}),error:H.descricao?.message})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(Ns,{className:"w-4 h-4"}),r.jsx("span",{children:"Tipo de Demanda"})]}),r.jsxs("button",{type:"button",onClick:()=>u(!0),className:"text-xs text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[r.jsx(fs,{className:"w-3 h-3"}),"Novo Tipo"]})]}),r.jsxs("div",{className:"relative",ref:O,children:[r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),r.jsx("input",{type:"text",placeholder:"Buscar tipo de demanda...",value:f,onChange:D=>{m(D.target.value),x(!0),D.target.value||(y(null),F("categoriaId",""))},onFocus:()=>x(!0),disabled:ee,className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-slate-50"})]}),h&&A.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-xl shadow-lg border border-slate-100 max-h-48 overflow-auto",children:A.map(D=>r.jsxs("button",{type:"button",onClick:()=>V(D),className:"w-full px-4 py-3 text-left hover:bg-primary-50 flex items-center gap-3",children:[r.jsx("span",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:D.cor}}),r.jsx("span",{className:"font-medium text-slate-900",children:D.nome})]},D.id))}),h&&f&&A.length===0&&!ee&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-xl shadow-lg border border-slate-100 p-4 text-center text-slate-500 text-sm",children:"Nenhum tipo encontrado"})]}),v&&r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:v.cor}}),r.jsx("span",{className:"text-sm text-slate-600",children:v.nome}),r.jsx("button",{type:"button",onClick:()=>{y(null),m(""),F("categoriaId","")},className:"text-xs text-slate-400 hover:text-red-500 ml-auto",children:"Limpar"})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(sd,{className:"w-4 h-4"}),r.jsx("span",{children:"Prioridade"})]}),r.jsx(ec,{options:ne,value:Y,onChange:D=>F("prioridade",D)})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(Rt,{className:"w-4 h-4"}),r.jsx("span",{children:"Solicitante *"})]}),r.jsxs("div",{className:"relative",ref:k,children:[r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),r.jsx("input",{type:"text",placeholder:"Buscar pessoa cadastrada...",value:j,onChange:D=>{w(D.target.value),N(!0),D.target.value||(E(null),F("pessoaId",""))},onFocus:()=>N(!0),className:`w-full pl-10 pr-4 py-2.5 rounded-xl border focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent ${!T&&H.pessoaId?"border-red-300":"border-slate-200"}`})]}),S&&U.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-xl shadow-lg border border-slate-100 max-h-48 overflow-auto",children:U.map(D=>r.jsxs("button",{type:"button",onClick:()=>_(D),className:"w-full px-4 py-3 text-left hover:bg-primary-50 flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-medium",children:D.nome.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:D.nome}),r.jsx("p",{className:"text-xs text-slate-500",children:D.whatsapp||D.email||"-"})]})]},D.id))})]}),!T&&r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Digite pelo menos 2 caracteres para buscar"}),r.jsx("input",{type:"hidden",...R("pessoaId",{required:"Campo obrigatorio"})}),H.pessoaId&&!T&&r.jsx("p",{className:"mt-1 text-xs text-red-500",children:H.pessoaId.message})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(xn,{className:"w-4 h-4"}),r.jsx("span",{children:"Prazo"})]}),r.jsx(Y2,{value:te("dataPrazo"),onChange:D=>F("dataPrazo",D)})]})]}),T&&r.jsx("div",{className:"bg-primary-50 rounded-xl p-4",children:r.jsxs("p",{className:"text-sm text-primary-700",children:[r.jsx("strong",{children:"Solicitante vinculado:"})," ",T.nome,T.whatsapp&&` - ${T.whatsapp}`]})}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100",children:[r.jsx(ke,{type:"button",variant:"secondary",onClick:K,disabled:G,children:"Cancelar"}),r.jsx(ke,{type:"submit",isLoading:G,leftIcon:r.jsx(Jn,{className:"w-4 h-4"}),children:o?"Salvar":"Criar Demanda"})]})]})}),r.jsx(sv,{isOpen:c,onClose:()=>u(!1)})]})},$N={aberta:{label:"Aberta",variant:"info",icon:r.jsx(Io,{className:"w-4 h-4"})},em_andamento:{label:"Em Andamento",variant:"warning",icon:r.jsx(Aa,{className:"w-4 h-4"})},aguardando:{label:"Aguardando",variant:"default",icon:r.jsx(q2,{className:"w-4 h-4"})},concluida:{label:"Concluida",variant:"success",icon:r.jsx(va,{className:"w-4 h-4"})},cancelada:{label:"Cancelada",variant:"error",icon:r.jsx(ed,{className:"w-4 h-4"})}},PN={baixa:{label:"Baixa",color:"text-slate-500 bg-slate-100"},normal:{label:"Normal",color:"text-blue-600 bg-blue-100"},alta:{label:"Alta",color:"text-amber-600 bg-amber-100"},urgente:{label:"Urgente",color:"text-orange-600 bg-orange-100"},critica:{label:"Critica",color:"text-red-600 bg-red-100"}},YH=e=>{if(!e)return"-";const t=e.split("T")[0].split("-");return t.length===3?`${t[2]}/${t[1]}/${t[0]}`:e},WH=e=>{if(!e)return"-";const[t,s]=e.split("T"),n=t.split("-");if(n.length===3){const o=s?s.substring(0,5):"";return`${n[2]}/${n[1]}/${n[0]}${o?` ${o}`:""}`}return e},XH=({isOpen:e,onClose:t,demanda:s})=>{const{data:n,isLoading:o}=ze({queryKey:["demanda",s?.id],queryFn:()=>Xi.obter(s.id),enabled:e&&!!s?.id});if(!s)return null;const c=$N[s.status]||$N.aberta,u=PN[s.prioridade]||PN.normal;return r.jsx(ss,{isOpen:e,onClose:t,title:`Demanda #${s.numeroProtocolo}`,size:"lg",children:o?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(or,{size:"lg"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsxs(ts,{variant:c.variant,className:"gap-1.5 px-3 py-1.5",children:[c.icon,c.label]}),r.jsxs("span",{className:`px-3 py-1.5 rounded-full text-sm font-medium ${u.color}`,children:[r.jsx(sd,{className:"w-3.5 h-3.5 inline mr-1"}),u.label]}),s.categoriaNome&&r.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-slate-100 text-slate-700 text-sm",children:[r.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:s.categoriaCor||"#6B7280"}}),s.categoriaNome]})]}),r.jsx("div",{children:r.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:s.titulo})}),n?.descricao&&r.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(rn,{className:"w-4 h-4"}),r.jsx("span",{children:"Descricao"})]}),r.jsx("p",{className:"text-slate-600 whitespace-pre-wrap",children:n.descricao})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white border border-slate-100 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm mb-1",children:[r.jsx(Rt,{className:"w-4 h-4"}),r.jsx("span",{children:"Solicitante"})]}),r.jsx("p",{className:"font-medium text-slate-900",children:s.pessoaNome||s.nomeSolicitante||"-"})]}),r.jsxs("div",{className:"bg-white border border-slate-100 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm mb-1",children:[r.jsx(tM,{className:"w-4 h-4"}),r.jsx("span",{children:"Protocolo"})]}),r.jsxs("p",{className:"font-mono font-medium text-primary-600",children:["#",s.numeroProtocolo]})]}),r.jsxs("div",{className:"bg-white border border-slate-100 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm mb-1",children:[r.jsx(xn,{className:"w-4 h-4"}),r.jsx("span",{children:"Data de Abertura"})]}),r.jsx("p",{className:"font-medium text-slate-900",children:WH(s.dataAbertura)})]}),r.jsxs("div",{className:"bg-white border border-slate-100 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm mb-1",children:[r.jsx(Io,{className:"w-4 h-4"}),r.jsx("span",{children:"Prazo"})]}),r.jsx("p",{className:"font-medium text-slate-900",children:YH(s.dataPrazo)})]}),r.jsxs("div",{className:"bg-white border border-slate-100 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm mb-1",children:[r.jsx(Io,{className:"w-4 h-4"}),r.jsx("span",{children:"Dias em Aberto"})]}),r.jsxs("p",{className:`font-medium ${s.diasAberto>30?"text-red-500":"text-slate-900"}`,children:[s.diasAberto," dias"]})]}),n?.orgaoDestino&&r.jsxs("div",{className:"bg-white border border-slate-100 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm mb-1",children:[r.jsx(Ll,{className:"w-4 h-4"}),r.jsx("span",{children:"Orgao Destino"})]}),r.jsx("p",{className:"font-medium text-slate-900",children:n.orgaoDestino})]})]}),n?.parecer&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-green-700 font-medium mb-2",children:[r.jsx(va,{className:"w-4 h-4"}),r.jsx("span",{children:"Parecer"})]}),r.jsx("p",{className:"text-green-800 whitespace-pre-wrap",children:n.parecer})]}),r.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-100",children:r.jsx("button",{onClick:t,className:"px-6 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium rounded-xl transition-colors",children:"Fechar"})})]})})},JH=[10,25,50,100],eG=20,IN={aberta:{label:"Aberta",variant:"info",icon:r.jsx(Io,{className:"w-3 h-3"})},em_andamento:{label:"Em Andamento",variant:"warning",icon:r.jsx(Aa,{className:"w-3 h-3"})},aguardando:{label:"Aguardando",variant:"default",icon:r.jsx(q2,{className:"w-3 h-3"})},concluida:{label:"Concluida",variant:"success",icon:r.jsx(va,{className:"w-3 h-3"})},cancelada:{label:"Cancelada",variant:"error",icon:r.jsx(ed,{className:"w-3 h-3"})}},FN={baixa:{label:"Baixa",color:"text-slate-500"},normal:{label:"Normal",color:"text-blue-500"},alta:{label:"Alta",color:"text-amber-500"},urgente:{label:"Urgente",color:"text-orange-500"},critica:{label:"Critica",color:"text-red-500"}},tG=({demanda:e,onView:t,onEdit:s,onCancel:n})=>{const o=e.status==="cancelada",c=e.status==="concluida";return r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-lg text-slate-500 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Visualizar",children:r.jsx(td,{className:"w-4 h-4"})}),!o&&!c&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>s(e),className:"p-2 rounded-lg text-slate-500 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Editar",children:r.jsx(Ia,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>n(e),className:"p-2 rounded-lg text-slate-500 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Cancelar",children:r.jsx(ed,{className:"w-4 h-4"})})]})]})},sG=()=>{const e=Lt(),[t]=zO(),s=g.useCallback(()=>{const ue={},ve=t.get("status"),$e=t.get("prioridade"),St=t.get("atrasadas");return ve&&(ue.status=ve),$e&&(ue.prioridade=$e),St==="true"&&(ue.atrasadas=!0),ue},[t]),[n,o]=g.useState(""),[c,u]=g.useState(s),[f,m]=g.useState(1),[h,x]=g.useState(eG);g.useEffect(()=>{const ue=s();Object.keys(ue).length>0&&u(ue)},[t,s]);const[v,y]=g.useState(!1),[j,w]=g.useState(null),[S,N]=g.useState(!1),[T,E]=g.useState(null),[O,k]=g.useState(!1),[R,P]=g.useState(null),{data:z=[]}=ze({queryKey:["categorias"],queryFn:()=>sc.listar()}),F=g.useMemo(()=>[{key:"status",label:"Status",type:"select",options:[{value:"aberta",label:"Aberta"},{value:"em_andamento",label:"Em Andamento"},{value:"aguardando",label:"Aguardando"},{value:"concluida",label:"Concluida"},{value:"cancelada",label:"Cancelada"}]},{key:"prioridade",label:"Prioridade",type:"select",options:[{value:"baixa",label:"Baixa"},{value:"normal",label:"Normal"},{value:"alta",label:"Alta"},{value:"urgente",label:"Urgente"},{value:"critica",label:"Critica"}]},{key:"categoriaId",label:"Tipo",type:"select",options:z.map(ue=>({value:ue.id,label:ue.nome}))}],[z]),{data:te,isLoading:H}=ze({queryKey:["demandas",f,h,n,c],queryFn:()=>Xi.listar({page:f,perPage:h,search:n||void 0,status:c.status||void 0,prioridade:c.prioridade||void 0,categoriaId:c.categoriaId||void 0,atrasadas:c.atrasadas||void 0})}),Y=te?.items||[],Z=te?.pages||0,ee=te?.total||0,q=Ze({mutationFn:ue=>Xi.cancelar(ue.id),onSuccess:(ue,ve)=>{e.invalidateQueries({queryKey:["demandas"]}),he.success(`Demanda "${ve.numeroProtocolo}" cancelada`)},onError:()=>{he.error("Erro ao cancelar demanda")}}),U=g.useCallback(ue=>{o(ue),m(1)},[]),A=g.useCallback(ue=>{u(ue),m(1)},[]),I=g.useCallback(ue=>{m(ue)},[]),$=g.useCallback(ue=>{x(ue),m(1)},[]),K=()=>{w(null),y(!0)},V=ue=>{w(ue),y(!0)},_=ue=>{E(ue),N(!0)},L=()=>{N(!1),E(null)},G=ue=>{P(ue),k(!0)},ne=()=>{R&&q.mutate(R,{onSuccess:()=>{k(!1),P(null)}})},D=()=>{k(!1),P(null)},Q=()=>{y(!1),w(null)},W=ue=>{if(!ue)return"-";const ve=ue.split("T")[0].split("-");return ve.length===3?`${ve[2]}/${ve[1]}/${ve[0]}`:ue},we=[{key:"numeroProtocolo",header:"Protocolo",width:"120px",render:ue=>r.jsxs("span",{className:"font-mono text-sm font-medium text-primary-600",children:["#",ue.numeroProtocolo]})},{key:"titulo",header:"Demanda",render:ue=>r.jsxs("div",{className:"max-w-xs",children:[r.jsx("p",{className:"font-medium text-slate-900 truncate",title:ue.titulo,children:ue.titulo}),ue.categoriaNome&&r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[r.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:ue.categoriaCor||"#6B7280"}}),r.jsx("span",{className:"text-xs text-slate-500",children:ue.categoriaNome})]})]})},{key:"nomeSolicitante",header:"Solicitante",render:ue=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center",children:r.jsx(Rt,{className:"w-4 h-4 text-slate-400"})}),r.jsx("span",{className:"text-sm text-slate-700",children:ue.pessoaNome||ue.nomeSolicitante||"-"})]})},{key:"status",header:"Status",width:"140px",render:ue=>{const ve=IN[ue.status]||IN.aberta;return r.jsxs(ts,{variant:ve.variant,className:"gap-1",children:[ve.icon,ve.label]})}},{key:"prioridade",header:"Prioridade",width:"100px",render:ue=>{const ve=FN[ue.prioridade]||FN.normal;return r.jsxs("div",{className:je("flex items-center gap-1 text-sm font-medium",ve.color),children:[ue.prioridade==="urgente"||ue.prioridade==="critica"?r.jsx(sd,{className:"w-4 h-4"}):null,ve.label]})}},{key:"dataAbertura",header:"Abertura",width:"100px",render:ue=>r.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-600",children:[r.jsx(xn,{className:"w-4 h-4 text-slate-400"}),W(ue.dataAbertura)]})},{key:"dataPrazo",header:"Prazo",width:"100px",render:ue=>r.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-600",children:[r.jsx(xn,{className:"w-4 h-4 text-slate-400"}),W(ue.dataPrazo)]})},{key:"diasAberto",header:"Dias",width:"80px",align:"center",render:ue=>{const ve=ue.diasAberto,$e=ve>30;return r.jsxs("span",{className:je("text-sm font-medium",$e?"text-red-500":"text-slate-600"),children:[ve,"d"]})}}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kn,{className:"w-6 h-6 text-primary-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Demandas"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Gerencie as demandas do gabinete"})]}),r.jsx(ke,{leftIcon:r.jsx(fs,{className:"w-4 h-4"}),onClick:K,children:"Nova Demanda"})]}),r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(pr,{placeholder:"Buscar por protocolo, titulo, solicitante...",value:n,onSearch:U,filters:F,activeFilters:c,onFilterChange:A}),r.jsxs("p",{className:"text-sm text-slate-500",children:[ee," demanda(s) encontrada(s)"]})]})}),r.jsx(Kt,{columns:we,data:Y,keyExtractor:ue=>ue.id,isLoading:H,emptyMessage:"Nenhuma demanda encontrada",emptyDescription:"Cadastre uma nova demanda para comecar",emptyIcon:r.jsx(kn,{className:"w-12 h-12 text-slate-300"}),rowClassName:ue=>ue.status==="cancelada"?"bg-slate-50 opacity-75":"",actions:ue=>r.jsx(tG,{demanda:ue,onView:_,onEdit:V,onCancel:G})}),ee>0&&r.jsx(Bs,{currentPage:f,totalPages:Z,totalItems:ee,pageSize:h,onPageChange:I,onPageSizeChange:$,pageSizeOptions:JH}),r.jsx(KH,{isOpen:v,onClose:Q,demanda:j}),r.jsx(XH,{isOpen:S,onClose:L,demanda:T}),r.jsx(Jr,{isOpen:O,onClose:D,onConfirm:ne,title:"Cancelar Demanda",message:r.jsxs(r.Fragment,{children:["Tem certeza que deseja cancelar a demanda"," ",r.jsxs("strong",{className:"text-slate-900",children:["#",R?.numeroProtocolo]}),"?",r.jsx("br",{}),r.jsx("span",{className:"text-sm text-slate-400 mt-2 block",children:"Esta acao nao podera ser desfeita."})]}),confirmText:"Sim, Cancelar",cancelText:"Nao, Manter",variant:"danger",isLoading:q.isPending})]})};function Il(e){return{id:e.id,gabineteId:e.gabinete_id,gabineteNome:e.gabinete_nome,subgabineteId:e.subgabinete_id,subgabineteNome:e.subgabinete_nome,perfilId:e.perfil_id,perfilNome:e.perfil_nome,nome:e.nome,email:e.email,telefone:e.telefone,status:e.status,superUsuario:e.super_usuario||!1,createdAt:e.created_at}}function nG(e){return{id:e.id,gabineteId:e.gabinete_id,codigo:e.codigo,nome:e.nome,descricao:e.descricao,nivelAcesso:e.nivel_acesso,sistema:e.sistema}}function LN(e){const t={};return"nome"in e&&e.nome!==void 0&&(t.nome=e.nome),"email"in e&&e.email!==void 0&&(t.email=e.email),"senha"in e&&e.senha!==void 0&&(t.senha=e.senha),"perfilId"in e&&e.perfilId!==void 0&&(t.perfil_id=e.perfilId||null),"telefone"in e&&e.telefone!==void 0&&(t.telefone=e.telefone||null),"status"in e&&e.status!==void 0&&(t.status=e.status),"subgabineteId"in e&&(t.subgabinete_id=e.subgabineteId||null),t}const zo={async listar(){const{data:e}=await xe.get("/usuarios");return e.map(Il)},async obter(e){const{data:t}=await xe.get(`/usuarios/${e}`);return Il(t)},async criar(e){const{data:t}=await xe.post("/usuarios",LN(e));return Il(t)},async atualizar(e,t){const{data:s}=await xe.put(`/usuarios/${e}`,LN(t));return Il(s)},async excluir(e){await xe.delete(`/usuarios/${e}`)},async ativar(e){const{data:t}=await xe.post(`/usuarios/${e}/ativar`);return Il(t)},async desativar(e){const{data:t}=await xe.post(`/usuarios/${e}/desativar`);return Il(t)},async listarPerfis(){const{data:e}=await xe.get("/usuarios/perfis");return e.map(nG)}},aG=({isOpen:e,onClose:t,usuario:s})=>{const n=Lt(),o=!!s,{subgabinetes:c,usuario:u}=qt(),f=u?.isAdminGabinete&&!u?.pertenceSubgabinete&&c&&c.length>0,[m,h]=g.useState(""),{register:x,handleSubmit:v,reset:y,setValue:j,watch:w,formState:{errors:S}}=sa({defaultValues:{nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",perfilId:"",subgabineteId:""}}),N=w("perfilId"),T=w("subgabineteId"),{data:E=[],isLoading:O,error:k}=ze({queryKey:["perfis-gabinete"],queryFn:()=>zo.listarPerfis(),enabled:e});oe.useEffect(()=>{k&&(console.error("Erro ao carregar perfis:",k),he.error("Erro ao carregar perfis. Verifique suas permissoes."))},[k]);const R=ee=>{const q=Om(ee.target.value);h(q),j("telefone",q)};g.useEffect(()=>{s?(y({nome:s.nome,email:s.email,senha:"",confirmarSenha:"",telefone:s.telefone||"",perfilId:s.perfilId||"",subgabineteId:s.subgabineteId||""}),h(s.telefone||"")):(y({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",perfilId:"",subgabineteId:""}),h(""))},[s,y,e]);const P=Ze({mutationFn:ee=>zo.criar(ee),onSuccess:()=>{n.invalidateQueries({queryKey:["usuarios-gabinete"]}),he.success("Usuario criado com sucesso!"),F()},onError:ee=>{const q=ee.response?.data?.detail||"Erro ao criar usuario";he.error(q)}}),z=Ze({mutationFn:ee=>zo.atualizar(s.id,ee),onSuccess:()=>{n.invalidateQueries({queryKey:["usuarios-gabinete"]}),he.success("Usuario atualizado com sucesso!"),F()},onError:ee=>{const q=ee.response?.data?.detail||"Erro ao atualizar usuario";he.error(q)}}),F=()=>{y(),h(""),t()},te=ee=>{if(!o&&!ee.senha){he.error("Senha e obrigatoria");return}if(ee.senha&&ee.senha!==ee.confirmarSenha){he.error("As senhas nao conferem");return}const q=ee.telefone?.replace(/\D/g,"")||"";if(o){const U={nome:ee.nome,email:ee.email,perfilId:ee.perfilId||void 0,subgabineteId:ee.subgabineteId||null};ee.senha&&(U.senha=ee.senha),q&&(U.telefone=q),z.mutate(U)}else{const U={nome:ee.nome,email:ee.email,senha:ee.senha,perfilId:ee.perfilId||void 0,subgabineteId:ee.subgabineteId||void 0};q&&(U.telefone=q),P.mutate(U)}},H=P.isPending||z.isPending,Y=[{value:"",label:"Selecione um perfil"},...E.map(ee=>({value:ee.id,label:`${ee.nome}${ee.descricao?` - ${ee.descricao}`:""}`}))],Z=[{value:"",label:"Gabinete Principal (sem subgabinete)"},...c.map(ee=>({value:ee.id,label:ee.nome}))];return r.jsx(ss,{isOpen:e,onClose:F,title:o?"Editar Usuario":"Novo Usuario",size:"md",children:r.jsxs("form",{onSubmit:v(te),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(Ma,{className:"w-4 h-4"}),r.jsx("span",{children:"Perfil de Acesso *"})]}),r.jsx(ec,{options:Y,value:N,onChange:ee=>j("perfilId",ee,{shouldValidate:!0}),error:S.perfilId?.message,disabled:O}),r.jsx("input",{type:"hidden",...x("perfilId",{required:"Campo obrigatorio"})}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"O perfil define as permissoes do usuario no sistema"})]}),f&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(sr,{className:"w-4 h-4"}),r.jsx("span",{children:"Subgabinete"})]}),r.jsx(ec,{options:Z,value:T,onChange:ee=>j("subgabineteId",ee)}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Vincular usuario a um subgabinete especifico (opcional)"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(Rt,{className:"w-4 h-4"}),r.jsx("span",{children:"Nome Completo *"})]}),r.jsx(Ve,{placeholder:"Nome do usuario",...x("nome",{required:"Campo obrigatorio",maxLength:{value:200,message:"Maximo 200 caracteres"}}),error:S.nome?.message})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(Rn,{className:"w-4 h-4"}),r.jsx("span",{children:"Email *"})]}),r.jsx(Ve,{type:"email",placeholder:"email@exemplo.com",...x("email",{required:"Campo obrigatorio",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalido"}}),error:S.email?.message})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(Ds,{className:"w-4 h-4"}),r.jsx("span",{children:"Telefone"})]}),r.jsx(Ve,{placeholder:"(00) 00000-0000",value:m,onChange:R,maxLength:15})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(Yl,{className:"w-4 h-4"}),r.jsxs("span",{children:["Senha ",!o&&"*"]})]}),r.jsx(Ve,{type:"password",placeholder:o?"Deixe em branco para manter":"Minimo 6 caracteres",...x("senha",{minLength:{value:6,message:"Minimo 6 caracteres"},required:o?!1:"Campo obrigatorio"}),error:S.senha?.message})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium mb-2",children:[r.jsx(Yl,{className:"w-4 h-4"}),r.jsx("span",{children:"Confirmar Senha"})]}),r.jsx(Ve,{type:"password",placeholder:"Repita a senha",...x("confirmarSenha"),error:S.confirmarSenha?.message})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100",children:[r.jsx(ke,{type:"button",variant:"secondary",onClick:F,disabled:H,children:"Cancelar"}),r.jsx(ke,{type:"submit",isLoading:H,leftIcon:r.jsx(Jn,{className:"w-4 h-4"}),children:o?"Salvar":"Cadastrar"})]})]})})},rG=[10,25,50,100],iG=10,oG=[{key:"status",label:"Status",type:"select",options:[{value:"ativo",label:"Ativo"},{value:"inativo",label:"Inativo"},{value:"bloqueado",label:"Bloqueado"}]}],lG=({usuario:e,onEdit:t,onToggleStatus:s})=>{const n=e.status==="ativo";return r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-lg text-slate-500 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Editar",children:r.jsx(Ia,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>s(e),className:je("p-2 rounded-lg transition-colors",n?"text-amber-500 hover:text-amber-600 hover:bg-amber-50":"text-green-500 hover:text-green-600 hover:bg-green-50"),title:n?"Desativar":"Ativar",children:n?r.jsx(to,{className:"w-4 h-4"}):r.jsx(so,{className:"w-4 h-4"})})]})},cG=()=>{const e=Lt(),[t,s]=g.useState(""),[n,o]=g.useState({}),[c,u]=g.useState(1),[f,m]=g.useState(iG),[h,x]=g.useState("nome"),[v,y]=g.useState("asc"),[j,w]=g.useState(!1),[S,N]=g.useState(null),{data:T=[],isLoading:E,error:O}=ze({queryKey:["usuarios-gabinete"],queryFn:()=>zo.listar()}),k=O&&O?.response?.status===403,R=Ze({mutationFn:V=>zo.ativar(V.id),onSuccess:(V,_)=>{e.invalidateQueries({queryKey:["usuarios-gabinete"]}),he.success(`Usuario "${_.nome}" ativado`)},onError:()=>{he.error("Erro ao ativar usuario")}}),P=Ze({mutationFn:V=>zo.desativar(V.id),onSuccess:(V,_)=>{e.invalidateQueries({queryKey:["usuarios-gabinete"]}),he.success(`Usuario "${_.nome}" desativado`)},onError:()=>{he.error("Erro ao desativar usuario")}}),z=V=>{V.status==="ativo"?P.mutate(V):R.mutate(V)},F=g.useMemo(()=>{let V=[...T];if(t){const _=t.toLowerCase();V=V.filter(L=>L.nome.toLowerCase().includes(_)||L.email.toLowerCase().includes(_)||L.perfilNome?.toLowerCase().includes(_))}return n.status&&(V=V.filter(_=>_.status===n.status)),V.sort((_,L)=>{const G=_[h]||"",ne=L[h]||"",D=String(G).localeCompare(String(ne));return v==="asc"?D:-D}),V},[T,t,n,h,v]),te=g.useMemo(()=>{const V=(c-1)*f;return F.slice(V,V+f)},[F,c,f]),H=Math.ceil(F.length/f),Y=g.useCallback(V=>{x(_=>_===V?(y(L=>L==="asc"?"desc":"asc"),V):(y("asc"),V))},[]),Z=g.useCallback(V=>{s(V),u(1)},[]),ee=g.useCallback(V=>{o(V),u(1)},[]),q=g.useCallback(V=>{u(V)},[]),U=g.useCallback(V=>{m(V),u(1)},[]),A=()=>{N(null),w(!0)},I=V=>{N(V),w(!0)},$=()=>{w(!1),N(null)},K=[{key:"nome",header:"Usuario",sortable:!0,render:V=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white font-bold",children:V.nome.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:V.nome}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[r.jsx(Rn,{className:"w-3 h-3"}),V.email]})]})]})},{key:"perfilNome",header:"Perfil",render:V=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ma,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-slate-700",children:V.perfilNome||"Sem perfil"})]})},{key:"telefone",header:"Telefone",render:V=>r.jsx("div",{className:"flex items-center gap-2",children:V.telefone?r.jsxs(r.Fragment,{children:[r.jsx(Ds,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-slate-700",children:V.telefone})]}):r.jsx("span",{className:"text-slate-400 text-sm",children:"-"})})},{key:"status",header:"Status",width:"120px",align:"center",render:V=>{const _={ativo:{variant:"success",label:"Ativo"},inativo:{variant:"default",label:"Inativo"},bloqueado:{variant:"error",label:"Bloqueado"},pendente:{variant:"default",label:"Pendente"}},L=_[V.status]||_.inativo;return r.jsx(ts,{variant:L.variant,children:L.label})}}];return k?r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(es,{className:"w-6 h-6 text-primary-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Usuarios"})]}),r.jsx(Pe,{className:"p-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-4",children:r.jsx(Yl,{className:"w-8 h-8 text-red-500"})}),r.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Acesso Restrito"}),r.jsx("p",{className:"text-slate-500 max-w-md mx-auto",children:"Voce nao tem permissao para gerenciar usuarios. Esta funcionalidade e restrita a administradores do gabinete."})]})})]}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(es,{className:"w-6 h-6 text-primary-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Usuarios"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Gerencie os usuarios do seu gabinete"})]}),r.jsx(ke,{leftIcon:r.jsx(fs,{className:"w-4 h-4"}),onClick:A,children:"Novo Usuario"})]}),r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(pr,{placeholder:"Buscar por nome, email, perfil...",value:t,onSearch:Z,filters:oG,activeFilters:n,onFilterChange:ee}),r.jsxs("p",{className:"text-sm text-slate-500",children:[F.length," usuario(s) encontrado(s)"]})]})}),r.jsx(Kt,{columns:K,data:te,keyExtractor:V=>V.id,isLoading:E,emptyMessage:"Nenhum usuario encontrado",emptyDescription:"Cadastre um novo usuario para comecar",emptyIcon:r.jsx(es,{className:"w-12 h-12 text-slate-300"}),sortBy:h,sortDir:v,onSort:Y,rowClassName:V=>V.status!=="ativo"?"bg-slate-50 opacity-75":"",actions:V=>r.jsx(lG,{usuario:V,onEdit:I,onToggleStatus:z})}),F.length>0&&r.jsx(Bs,{currentPage:c,totalPages:H,totalItems:F.length,pageSize:f,onPageChange:q,onPageSizeChange:U,pageSizeOptions:rG}),r.jsx(aG,{isOpen:j,onClose:$,usuario:S})]})},uG=e=>{if(!e)return"";const t=e.replace(/\D/g,"");if(t.length<10)return e;if(t.startsWith("55")&&t.length>=12){const s=t.substring(2,4),n=t.substring(4);if(n.length===9)return`+55 (${s}) ${n.substring(0,5)}-${n.substring(5)}`;if(n.length===8)return`+55 (${s}) ${n.substring(0,4)}-${n.substring(4)}`}if(t.length===11){const s=t.substring(0,2),n=t.substring(2);return`+55 (${s}) ${n.substring(0,5)}-${n.substring(5)}`}else if(t.length===10){const s=t.substring(0,2),n=t.substring(2);return`+55 (${s}) ${n.substring(0,4)}-${n.substring(4)}`}return e},dG=[10,25,50,100],fG=10,mG=[{key:"ativo",label:"Status",type:"boolean"}],hG={conectado:{label:"Conectado",variant:"success"},aguardando_qrcode:{label:"Aguardando QR Code",variant:"warning"},conectando:{label:"Conectando...",variant:"warning"},desconectado:{label:"Desconectado",variant:"default"},connected:{label:"Conectado",variant:"success"},initializing:{label:"Conectando...",variant:"warning"},awaiting_qr:{label:"Aguardando QR Code",variant:"warning"},authenticated:{label:"Conectando...",variant:"warning"},disconnected:{label:"Desconectado",variant:"default"},auth_failure:{label:"Erro de Autenticacao",variant:"error"}},pG=({instancia:e,onEdit:t,onToggleStatus:s,onConnect:n,onDisconnect:o,onSendTest:c,onViewHistory:u})=>{const f=e.status,m=f==="conectado"||f==="connected",h=["conectando","aguardando_qrcode","initializing","awaiting_qr","authenticated"].includes(f);return r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>u(e),className:"p-2 rounded-lg text-purple-500 hover:text-purple-600 hover:bg-purple-50 transition-colors",title:"Historico de Mensagens",children:r.jsx(U2,{className:"w-4 h-4"})}),m&&r.jsx("button",{onClick:()=>c(e),className:"p-2 rounded-lg text-blue-500 hover:text-blue-600 hover:bg-blue-50 transition-colors",title:"Testar Envio",children:r.jsx(ph,{className:"w-4 h-4"})}),m?r.jsx("button",{onClick:()=>o(e),className:"p-2 rounded-lg text-red-500 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Desconectar WhatsApp",children:r.jsx(V2,{className:"w-4 h-4"})}):r.jsx("button",{onClick:()=>n(e),className:je("p-2 rounded-lg transition-colors",h?"text-amber-500 hover:text-amber-600 hover:bg-amber-50":"text-green-500 hover:text-green-600 hover:bg-green-50"),title:h?"Ver QR Code":"Conectar WhatsApp",children:h?r.jsx(Vi,{className:"w-4 h-4"}):r.jsx(H2,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-lg text-slate-500 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Editar",children:r.jsx(Ia,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>s(e),className:je("p-2 rounded-lg transition-colors",e.ativo?"text-amber-500 hover:text-amber-600 hover:bg-amber-50":"text-green-500 hover:text-green-600 hover:bg-green-50"),title:e.ativo?"Desativar":"Ativar",children:e.ativo?r.jsx(to,{className:"w-4 h-4"}):r.jsx(so,{className:"w-4 h-4"})})]})},gG=()=>{const e=Lt(),[t,s]=g.useState(""),[n,o]=g.useState({}),[c,u]=g.useState(1),[f,m]=g.useState(fG),[h,x]=g.useState("nome"),[v,y]=g.useState("asc"),[j,w]=g.useState(!1),[S,N]=g.useState(null),[T,E]=g.useState(!1),[O,k]=g.useState(null),[R,P]=g.useState(!1),[z,F]=g.useState(null),[te,H]=g.useState(!1),[Y,Z]=g.useState(null),[ee,q]=g.useState(!1),[U,A]=g.useState(null),[I,$]=g.useState(!1),[K,V]=g.useState(null),{data:_=[],isLoading:L}=ze({queryKey:["whatsapp-instancias"],queryFn:()=>qs.listar()}),G=Ze({mutationFn:async Ee=>Ee.ativo?qs.desativar(Ee.id):qs.ativar(Ee.id),onSuccess:(Ee,qe)=>{e.invalidateQueries({queryKey:["whatsapp-instancias"]}),he.success(qe.ativo?`Instancia "${qe.nome}" desativada`:`Instancia "${qe.nome}" ativada`)},onError:()=>{he.error("Erro ao alterar status da instancia")}}),ne=Ze({mutationFn:async Ee=>{const qe=await qs.desconectar(Ee);return{id:Ee,result:qe}},onSuccess:({id:Ee})=>{e.setQueryData(["whatsapp-instancias"],qe=>qe&&qe.map(re=>re.id===Ee?{...re,status:"desconectado",telefone:void 0}:re)),e.invalidateQueries({queryKey:["whatsapp-instancias"]}),he.success("WhatsApp desconectado com sucesso")},onError:Ee=>{const qe=Ee.message||"Erro ao desconectar WhatsApp";he.error(qe),e.invalidateQueries({queryKey:["whatsapp-instancias"]})}}),D=g.useMemo(()=>{let Ee=[..._];if(t){const qe=t.toLowerCase();Ee=Ee.filter(re=>re.nome.toLowerCase().includes(qe)||re.telefone?.toLowerCase().includes(qe))}return n.ativo!==void 0&&(Ee=Ee.filter(qe=>qe.ativo===n.ativo)),Ee.sort((qe,re)=>{const Me=qe[h]||"",yt=re[h]||"",Se=String(Me).localeCompare(String(yt));return v==="asc"?Se:-Se}),Ee},[_,t,n,h,v]),Q=g.useMemo(()=>{const Ee=(c-1)*f;return D.slice(Ee,Ee+f)},[D,c,f]),W=Math.ceil(D.length/f),we=g.useCallback(Ee=>{x(qe=>qe===Ee?(y(re=>re==="asc"?"desc":"asc"),Ee):(y("asc"),Ee))},[]),ue=g.useCallback(Ee=>{s(Ee),u(1)},[]),ve=g.useCallback(Ee=>{o(Ee),u(1)},[]),$e=g.useCallback(Ee=>{u(Ee)},[]),St=g.useCallback(Ee=>{m(Ee),u(1)},[]),vt=()=>{N(null),w(!0)},Ut=Ee=>{N(Ee),w(!0)},ps=()=>{w(!1),N(null)},ft=Ee=>{F(Ee),P(!0)},os=()=>{z&&G.mutate(z,{onSuccess:()=>{P(!1),F(null)}})},Ct=()=>{P(!1),F(null)},gs=Ee=>{k(Ee),E(!0)},Vs=()=>{E(!1),k(null),e.invalidateQueries({queryKey:["whatsapp-instancias"]})},J=Ee=>{Z(Ee),H(!0)},ie=()=>{Y&&ne.mutate(Y.id,{onSuccess:()=>{H(!1),Z(null)}})},pe=()=>{H(!1),Z(null)},_e=Ee=>{A(Ee),q(!0)},Te=()=>{q(!1),A(null)},Ce=Ee=>{V(Ee),$(!0)},De=()=>{$(!1),V(null)},We=[{key:"nome",header:"Nome",sortable:!0,render:Ee=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white",children:r.jsx(pn,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:Ee.nome}),Ee.telefone&&r.jsx("p",{className:"text-xs text-slate-500",children:uG(Ee.telefone)})]})]})},{key:"status",header:"Conexao",width:"160px",align:"center",render:Ee=>{const qe=hG[Ee.status]||{label:Ee.status,variant:"default"};return r.jsx(ts,{variant:qe.variant,children:qe.label})}},{key:"ativo",header:"Status",width:"120px",align:"center",render:Ee=>r.jsx(ts,{variant:Ee.ativo?"success":"default",children:Ee.ativo?"Ativo":"Inativo"})}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pn,{className:"w-6 h-6 text-green-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"WhatsApp"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Gerencie as conexoes do WhatsApp do gabinete"})]}),r.jsx(ke,{leftIcon:r.jsx(fs,{className:"w-4 h-4"}),onClick:vt,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:"Nova Instancia"})]}),r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(pr,{placeholder:"Buscar por nome, telefone...",value:t,onSearch:ue,filters:mG,activeFilters:n,onFilterChange:ve}),r.jsxs("p",{className:"text-sm text-slate-500",children:[D.length," instancia(s) encontrada(s)"]})]})}),r.jsx(Kt,{columns:We,data:Q,keyExtractor:Ee=>Ee.id,isLoading:L,emptyMessage:"Nenhuma instancia de WhatsApp",emptyDescription:"Cadastre uma nova instancia para comecar",emptyIcon:r.jsx(pn,{className:"w-12 h-12 text-slate-300"}),sortBy:h,sortDir:v,onSort:we,rowClassName:Ee=>Ee.ativo?"":"bg-slate-50 opacity-75",actions:Ee=>r.jsx(pG,{instancia:Ee,onEdit:Ut,onToggleStatus:ft,onConnect:gs,onDisconnect:J,onSendTest:_e,onViewHistory:Ce})}),D.length>0&&r.jsx(Bs,{currentPage:c,totalPages:W,totalItems:D.length,pageSize:f,onPageChange:$e,onPageSizeChange:St,pageSizeOptions:dG}),r.jsx(oB,{isOpen:j,onClose:ps,instancia:S}),r.jsx(X_,{isOpen:T,onClose:Vs,instancia:O}),r.jsx(Jr,{isOpen:R,onClose:Ct,onConfirm:os,title:z?.ativo?"Desativar Instancia":"Ativar Instancia",message:r.jsxs(r.Fragment,{children:["Tem certeza que deseja ",z?.ativo?"desativar":"ativar"," a instancia"," ",r.jsxs("strong",{className:"text-slate-900",children:['"',z?.nome,'"']}),"?",z?.ativo&&r.jsx("span",{className:"text-sm text-slate-400 mt-2 block",children:"A instancia nao estara mais disponivel para uso."})]}),confirmText:z?.ativo?"Sim, Desativar":"Sim, Ativar",cancelText:"Cancelar",variant:z?.ativo?"warning":"success",isLoading:G.isPending}),r.jsx(Jr,{isOpen:te,onClose:pe,onConfirm:ie,title:"Desconectar WhatsApp",message:r.jsxs(r.Fragment,{children:["Tem certeza que deseja desconectar o WhatsApp da instancia"," ",r.jsxs("strong",{className:"text-slate-900",children:['"',Y?.nome,'"']}),"?",r.jsx("span",{className:"text-sm text-slate-400 mt-2 block",children:"Voce precisara escanear o QR Code novamente para reconectar."})]}),confirmText:"Sim, Desconectar",cancelText:"Cancelar",variant:"danger",isLoading:ne.isPending}),r.jsx(J_,{isOpen:ee,onClose:Te,instancia:U}),r.jsx(m4,{isOpen:I,onClose:De,instancia:K})]})};function xG(e){return{id:e.id,nome:e.nome,estadoId:e.estado_id,estadoSigla:e.estado_sigla}}function bG(e){return{id:e.id,nome:e.nome,descricao:e.descricao,cor:e.cor||"#6B7280",ativo:e.ativo,totalMunicipios:e.total_municipios||0,municipiosNomes:e.municipios_nomes||[]}}function Eu(e){return{id:e.id,gabineteId:e.gabinete_id,nome:e.nome,descricao:e.descricao,cor:e.cor||"#6B7280",ativo:e.ativo,createdAt:e.created_at,updatedAt:e.updated_at,municipios:(e.municipios||[]).map(xG)}}function qN(e){const t={};return e.nome!==void 0&&(t.nome=e.nome),e.descricao!==void 0&&(t.descricao=e.descricao||null),e.cor!==void 0&&(t.cor=e.cor||"#6B7280"),e.municipioIds!==void 0&&(t.municipio_ids=e.municipioIds),"ativo"in e&&e.ativo!==void 0&&(t.ativo=e.ativo),t}const Gi={async listar(e={}){const t=new URLSearchParams;e.search&&t.append("search",e.search),e.ativo!==void 0&&t.append("ativo",String(e.ativo));const s=t.toString(),{data:n}=await xe.get(`/regioes${s?`?${s}`:""}`);return n.map(bG)},async obter(e){const{data:t}=await xe.get(`/regioes/${e}`);return Eu(t)},async criar(e){const{data:t}=await xe.post("/regioes",qN(e));return Eu(t)},async atualizar(e,t){const{data:s}=await xe.put(`/regioes/${e}`,qN(t));return Eu(s)},async excluir(e){await xe.delete(`/regioes/${e}`)},async ativar(e){const{data:t}=await xe.post(`/regioes/${e}/ativar`);return Eu(t)},async desativar(e){const{data:t}=await xe.post(`/regioes/${e}/desativar`);return Eu(t)}},vG=[{value:"#6B7280",label:"Cinza"},{value:"#3B82F6",label:"Azul"},{value:"#22C55E",label:"Verde"},{value:"#F59E0B",label:"Amarelo"},{value:"#EF4444",label:"Vermelho"},{value:"#8B5CF6",label:"Roxo"},{value:"#EC4899",label:"Rosa"},{value:"#14B8A6",label:"Teal"},{value:"#F97316",label:"Laranja"},{value:"#06B6D4",label:"Ciano"}],yG=({isOpen:e,onClose:t,regiao:s})=>{const n=Lt(),o=!!s,[c,u]=g.useState(null),[f,m]=g.useState(""),[h,x]=g.useState([]),{register:v,handleSubmit:y,reset:j,control:w,watch:S,formState:{errors:N}}=sa({defaultValues:{nome:"",descricao:"",cor:"#6B7280"}}),T=S("cor"),{data:E}=ze({queryKey:["regiao",s?.id],queryFn:()=>Gi.obter(s.id),enabled:e&&o&&!!s?.id}),{data:O=[]}=ze({queryKey:["estados"],queryFn:()=>Ka.listarEstados(),enabled:e}),{data:k=[]}=ze({queryKey:["municipios",c,f],queryFn:()=>Ka.listarMunicipios(c||void 0,f||void 0,100),enabled:e&&!!c}),R=g.useMemo(()=>{const q=new Set(h.map(U=>U.id));return k.filter(U=>!q.has(U.id))},[k,h]);g.useEffect(()=>{E?(j({nome:E.nome,descricao:E.descricao||"",cor:E.cor||"#6B7280"}),x(E.municipios.map(q=>({id:q.id,nome:q.nome,estadoId:q.estadoId,estadoSigla:q.estadoSigla})))):!o&&e&&(j({nome:"",descricao:"",cor:"#6B7280"}),x([]),u(null),m(""))},[E,o,j,e]);const P=Ze({mutationFn:q=>Gi.criar(q),onSuccess:async()=>{await n.invalidateQueries({queryKey:["regioes"],refetchType:"all"}),he.success("Regiao criada com sucesso!"),F()},onError:q=>{const U=q.response?.data?.detail||"Erro ao criar regiao";he.error(U)}}),z=Ze({mutationFn:q=>Gi.atualizar(s.id,q),onSuccess:async()=>{await n.invalidateQueries({queryKey:["regioes"],refetchType:"all"}),await n.invalidateQueries({queryKey:["regiao",s?.id]}),he.success("Regiao atualizada com sucesso!"),F()},onError:q=>{const U=q.response?.data?.detail||"Erro ao atualizar regiao";he.error(U)}}),F=()=>{j(),x([]),u(null),m(""),t()},te=q=>{const U={nome:q.nome,descricao:q.descricao||void 0,cor:q.cor,municipioIds:h.map(A=>A.id)};o?z.mutate(U):P.mutate(U)},H=q=>{x(U=>[...U,q])},Y=q=>{x(U=>U.filter(A=>A.id!==q))},Z=P.isPending||z.isPending,ee=[{value:"",label:"Selecione um estado"},...O.map(q=>({value:String(q.id),label:`${q.sigla} - ${q.nome}`}))];return r.jsx(ss,{isOpen:e,onClose:F,title:o?"Editar Regiao":"Nova Regiao",size:"lg",children:r.jsxs("form",{onSubmit:y(te),className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-center p-4 bg-slate-50 rounded-xl",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-medium text-white",style:{backgroundColor:T},children:[r.jsx(Kn,{className:"w-4 h-4"}),S("nome")||"Nome da Regiao",h.length>0&&r.jsxs("span",{className:"ml-1 bg-white/20 px-2 py-0.5 rounded-full text-xs",children:[h.length," cidade(s)"]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ve,{label:"Nome *",placeholder:"Nome da regiao",...v("nome",{required:"Campo obrigatorio",maxLength:{value:100,message:"Maximo 100 caracteres"}}),error:N.nome?.message}),r.jsx(on,{label:"Descricao",placeholder:"Descricao da regiao (opcional)",rows:3,...v("descricao")}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Cor"}),r.jsx(Vn,{name:"cor",control:w,render:({field:q})=>r.jsx("div",{className:"flex flex-wrap gap-2",children:vG.map(U=>r.jsx("button",{type:"button",onClick:()=>q.onChange(U.value),className:`w-8 h-8 rounded-lg transition-all ${q.value===U.value?"ring-2 ring-offset-2 ring-slate-400 scale-110":"hover:scale-105"}`,style:{backgroundColor:U.value},title:U.label},U.value))})})]}),r.jsx(Ve,{label:"Cor personalizada",placeholder:"#6B7280",leftIcon:r.jsx(cb,{className:"w-4 h-4"}),...v("cor")})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Adicionar Cidades"}),r.jsx(ec,{label:"",options:ee,value:c?String(c):"",onChange:q=>{u(q?Number(q):null),m("")}})]}),c&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),r.jsx("input",{type:"text",placeholder:"Buscar cidade...",value:f,onChange:q=>m(q.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),R.length>0&&r.jsx("div",{className:"max-h-40 overflow-y-auto border border-slate-200 rounded-xl",children:R.slice(0,20).map(q=>r.jsxs("button",{type:"button",onClick:()=>H(q),className:"w-full px-3 py-2 text-left text-sm hover:bg-primary-50 flex items-center justify-between border-b border-slate-100 last:border-b-0",children:[r.jsx("span",{children:q.nome}),r.jsx(lb,{className:"w-4 h-4 text-primary-500 opacity-0 group-hover:opacity-100"})]},q.id))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Cidades Selecionadas (",h.length,")"]}),r.jsx("div",{className:"max-h-48 overflow-y-auto border border-slate-200 rounded-xl p-2",children:h.length===0?r.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"Nenhuma cidade selecionada"}):r.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(q=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-100 rounded-lg text-xs font-medium text-slate-700",children:[q.nome,q.estadoSigla&&r.jsxs("span",{className:"text-slate-400",children:["/",q.estadoSigla]}),r.jsx("button",{type:"button",onClick:()=>Y(q.id),className:"ml-1 text-slate-400 hover:text-red-500",children:r.jsx(Ht,{className:"w-3 h-3"})})]},q.id))})})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100",children:[r.jsx(ke,{type:"button",variant:"secondary",onClick:F,disabled:Z,children:"Cancelar"}),r.jsx(ke,{type:"submit",isLoading:Z,leftIcon:r.jsx(Jn,{className:"w-4 h-4"}),children:o?"Salvar":"Criar Regiao"})]})]})})},jG=({isOpen:e,onClose:t,regiao:s})=>{const{data:n,isLoading:o}=ze({queryKey:["regiao",s?.id],queryFn:()=>Gi.obter(s.id),enabled:e&&!!s?.id});if(!s)return null;const c=n||s;return r.jsx(ss,{isOpen:e,onClose:t,title:"Detalhes da Regiao",size:"md",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center",style:{backgroundColor:c.cor},children:r.jsx(Kn,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:c.nome}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(ts,{variant:c.ativo?"success":"default",children:c.ativo?"Ativa":"Inativa"}),r.jsxs("span",{className:"text-sm text-slate-500",children:["Cor: ",c.cor]})]})]})]}),c.descricao&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Descricao"}),r.jsx("p",{className:"text-slate-700 bg-slate-50 rounded-lg p-4",children:c.descricao})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-medium text-slate-500 mb-2 flex items-center gap-2",children:[r.jsx(ds,{className:"w-4 h-4"}),"Cidades Vinculadas",r.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-0.5 rounded-full text-xs font-medium",children:n?.municipios?.length||s.totalMunicipios||0})]}),o?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-primary-500 border-t-transparent"})}):n?.municipios&&n.municipios.length>0?r.jsx("div",{className:"bg-slate-50 rounded-lg p-4 max-h-64 overflow-y-auto",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:n.municipios.map(u=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-white border border-slate-200 rounded-full text-sm text-slate-700",children:[r.jsx(ds,{className:"w-3.5 h-3.5 text-slate-400"}),u.nome,u.estadoSigla&&r.jsxs("span",{className:"text-slate-400",children:["- ",u.estadoSigla]})]},u.id))})}):r.jsxs("div",{className:"bg-slate-50 rounded-lg p-8 text-center",children:[r.jsx(ds,{className:"w-8 h-8 text-slate-300 mx-auto mb-2"}),r.jsx("p",{className:"text-slate-500 text-sm",children:"Nenhuma cidade vinculada"})]})]}),n?.createdAt&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 pt-4 border-t border-slate-100",children:[r.jsx(xn,{className:"w-4 h-4"}),r.jsxs("span",{children:["Criada em: ",new Date(n.createdAt).toLocaleDateString("pt-BR")]})]}),r.jsx("div",{className:"flex justify-end pt-2",children:r.jsx(ke,{variant:"secondary",onClick:t,children:"Fechar"})})]})})},wG=[10,25,50,100],SG=20,NG=[{key:"ativo",label:"Status",type:"boolean"}],CG=({regiao:e,onView:t,onEdit:s,onToggleStatus:n})=>r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-lg text-slate-500 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Ver detalhes",children:r.jsx(td,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>s(e),className:"p-2 rounded-lg text-slate-500 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Editar",children:r.jsx(Ia,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>n(e),className:je("p-2 rounded-lg transition-colors",e.ativo?"text-amber-500 hover:text-amber-600 hover:bg-amber-50":"text-green-500 hover:text-green-600 hover:bg-green-50"),title:e.ativo?"Desativar":"Ativar",children:e.ativo?r.jsx(to,{className:"w-4 h-4"}):r.jsx(so,{className:"w-4 h-4"})})]}),EG=()=>{const e=Lt(),{gabinete:t}=qt(),[s,n]=g.useState(""),[o,c]=g.useState({}),[u,f]=g.useState(1),[m,h]=g.useState(SG),[x,v]=g.useState("nome"),[y,j]=g.useState("asc"),[w,S]=g.useState(!1),[N,T]=g.useState(null),[E,O]=g.useState(!1),[k,R]=g.useState(null),[P,z]=g.useState(!1),[F,te]=g.useState(null),{data:H=[],isLoading:Y}=ze({queryKey:["regioes",t?.id,s,o],queryFn:()=>Gi.listar({search:s||void 0,ativo:o.ativo}),enabled:!!t?.id}),Z=g.useMemo(()=>{let ve=[...H];return ve.sort(($e,St)=>{const vt=$e[x]||"",Ut=St[x]||"",ps=String(vt).localeCompare(String(Ut));return y==="asc"?ps:-ps}),ve},[H,x,y]),ee=g.useMemo(()=>{const ve=(u-1)*m;return Z.slice(ve,ve+m)},[Z,u,m]),q=Math.ceil(Z.length/m),U=Ze({mutationFn:async ve=>ve.ativo?Gi.desativar(ve.id):Gi.ativar(ve.id),onSuccess:(ve,$e)=>{e.invalidateQueries({queryKey:["regioes"]}),he.success($e.ativo?`"${$e.nome}" desativada`:`"${$e.nome}" ativada`),z(!1),te(null)},onError:()=>{he.error("Erro ao alterar status")}}),A=g.useCallback(ve=>{n(ve),f(1)},[]),I=g.useCallback(ve=>{c(ve),f(1)},[]),$=g.useCallback(ve=>{f(ve)},[]),K=g.useCallback(ve=>{h(ve),f(1)},[]),V=g.useCallback(ve=>{v($e=>$e===ve?(j(St=>St==="asc"?"desc":"asc"),ve):(j("asc"),ve))},[]),_=()=>{T(null),S(!0)},L=ve=>{T(ve),S(!0)},G=()=>{S(!1),T(null)},ne=ve=>{R(ve),O(!0)},D=()=>{O(!1),R(null)},Q=ve=>{te(ve),z(!0)},W=()=>{F&&U.mutate(F)},we=()=>{z(!1),te(null)},ue=[{key:"nome",header:"Regiao",sortable:!0,render:ve=>r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium text-white",style:{backgroundColor:ve.cor},children:[r.jsx(Kn,{className:"w-3.5 h-3.5"}),ve.nome]})})},{key:"descricao",header:"Descricao",render:ve=>r.jsx("span",{className:"text-sm text-slate-600 line-clamp-2",children:ve.descricao||"-"})},{key:"totalMunicipios",header:"Cidades",width:"120px",align:"center",render:ve=>r.jsxs("div",{className:"flex items-center justify-center gap-1.5 text-sm cursor-default",title:ve.municipiosNomes?.length>0?ve.municipiosNomes.join(", "):"Nenhuma cidade vinculada",children:[r.jsx(ds,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"font-medium text-slate-700",children:ve.totalMunicipios})]})},{key:"cor",header:"Cor",width:"80px",align:"center",render:ve=>r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-6 h-6 rounded-lg border border-slate-200",style:{backgroundColor:ve.cor},title:ve.cor})})},{key:"ativo",header:"Status",width:"100px",align:"center",render:ve=>r.jsx(ts,{variant:ve.ativo?"success":"default",children:ve.ativo?"Ativa":"Inativa"})}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"w-6 h-6 text-primary-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Regioes"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Agrupe cidades em regioes para facilitar a gestao"})]}),r.jsx(ke,{leftIcon:r.jsx(fs,{className:"w-4 h-4"}),onClick:_,children:"Nova Regiao"})]}),r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(pr,{placeholder:"Buscar por nome ou descricao...",value:s,onSearch:A,filters:NG,activeFilters:o,onFilterChange:I}),r.jsxs("p",{className:"text-sm text-slate-500",children:[Z.length," regiao(oes) encontrada(s)"]})]})}),r.jsx(Kt,{columns:ue,data:ee,keyExtractor:ve=>ve.id,isLoading:Y,emptyMessage:"Nenhuma regiao encontrada",emptyDescription:"Crie uma nova regiao para comecar",emptyIcon:r.jsx(Kn,{className:"w-12 h-12 text-slate-300"}),sortBy:x,sortDir:y,onSort:V,rowClassName:ve=>ve.ativo?"":"bg-slate-50 opacity-75",actions:ve=>r.jsx(CG,{regiao:ve,onView:ne,onEdit:L,onToggleStatus:Q})}),Z.length>0&&r.jsx(Bs,{currentPage:u,totalPages:q,totalItems:Z.length,pageSize:m,onPageChange:$,onPageSizeChange:K,pageSizeOptions:wG}),r.jsx(jG,{isOpen:E,onClose:D,regiao:k}),r.jsx(yG,{isOpen:w,onClose:G,regiao:N}),r.jsx(Jr,{isOpen:P,onClose:we,onConfirm:W,title:F?.ativo?"Desativar Regiao":"Ativar Regiao",message:r.jsxs(r.Fragment,{children:["Tem certeza que deseja ",F?.ativo?"desativar":"ativar"," a regiao"," ",r.jsxs("strong",{className:"text-slate-900",children:['"',F?.nome,'"']}),"?"]}),confirmText:F?.ativo?"Sim, Desativar":"Sim, Ativar",cancelText:"Cancelar",variant:F?.ativo?"warning":"success",isLoading:U.isPending})]})};function _G(e){return e.pessoa_id||e.tipo==="pessoa"?{pessoaId:e.pessoa_id,nome:e.nome,cpf:e.cpf,telefone:e.telefone,email:e.email,tipo:"pessoa"}:{id:e.id||e.tag_id,nome:e.nome||e.tag_nome,cor:e.cor||"#6B7280",quantidade:e.quantidade||e.total||0,percentual:e.percentual||0,tipo:"tag"}}function TG(e){return e.pessoa_id||e.tipo==="pessoa"?{pessoaId:e.pessoa_id,nome:e.nome,cpf:e.cpf,telefone:e.telefone,email:e.email,tipo:"pessoa"}:{municipioId:e.municipio_id,nome:e.nome||e.municipio_nome,estadoSigla:e.estado_sigla||e.uf,quantidade:e.quantidade||e.total||0,percentual:e.percentual||0,tipo:"cidade"}}function OG(e){return e.pessoa_id||e.tipo==="pessoa"?{pessoaId:e.pessoa_id,nome:e.nome,cpf:e.cpf,telefone:e.telefone,email:e.email,tipo:"pessoa"}:{regiaoId:e.regiao_id,nome:e.nome||e.regiao_nome,quantidade:e.quantidade||e.total||0,percentual:e.percentual||0,cidades:e.cidades?.map(t=>({municipioId:t.municipio_id,nome:t.nome||t.municipio_nome,quantidade:t.quantidade||0,percentual:t.percentual||0})),tipo:"regiao"}}function kG(e){return e.pessoa_id||e.tipo==="pessoa"?{pessoaId:e.pessoa_id,nome:e.nome,cpf:e.cpf,telefone:e.telefone,email:e.email,tipo:"pessoa"}:{liderancaId:e.lideranca_id,nome:e.nome||e.lideranca_nome,totalLiderados:e.total_liderados||e.quantidade||0,quantidade:e.quantidade||e.total||0,percentual:e.percentual||0,tipo:"lideranca"}}function AG(e){return{tipoId:e.tipo_id,nome:e.nome||e.tipo_nome,quantidade:e.quantidade||e.total||0,percentual:e.percentual||0}}function MG(e){return e.pessoa_id||e.tipo==="pessoa"?{pessoaId:e.pessoa_id,nome:e.nome,cpf:e.cpf,telefone:e.telefone,email:e.email,tipo:"pessoa"}:{usuarioId:e.usuario_id,nome:e.nome||e.usuario_nome,email:e.email||"",quantidade:e.quantidade||e.total||0,percentual:e.percentual||0,tipo:"usuario"}}function RG(e){return e.pessoa_id||e.tipo==="pessoa"?{pessoaId:e.pessoa_id,nome:e.nome,cpf:e.cpf,telefone:e.telefone,email:e.email,tipo:"pessoa"}:{subgabineteId:e.subgabinete_id,nome:e.nome||e.subgabinete_nome,quantidade:e.quantidade||e.total||0,percentual:e.percentual||0,tipo:"subgabinete"}}const Pa={async pessoasPorTag(e={}){const t=new URLSearchParams;e.page&&t.append("page",String(e.page)),e.perPage&&t.append("per_page",String(e.perPage)),e.search&&t.append("search",e.search),e.dataInicio&&t.append("data_inicio",e.dataInicio),e.dataFim&&t.append("data_fim",e.dataFim),e.tagId&&t.append("tag_id",e.tagId);const s=t.toString(),{data:n}=await xe.get(`/relatorios/pessoas-por-tag${s?`?${s}`:""}`);return{items:(n.items||n).map(_G),total:n.total||n.length||0,totalGeral:n.total_geral||n.total||0}},async pessoasPorCidade(e={}){const t=new URLSearchParams;e.page&&t.append("page",String(e.page)),e.perPage&&t.append("per_page",String(e.perPage)),e.search&&t.append("search",e.search),e.dataInicio&&t.append("data_inicio",e.dataInicio),e.dataFim&&t.append("data_fim",e.dataFim),e.estadoId&&t.append("estado_id",String(e.estadoId)),e.municipioId&&t.append("municipio_id",e.municipioId);const s=t.toString(),{data:n}=await xe.get(`/relatorios/pessoas-por-cidade${s?`?${s}`:""}`);return{items:(n.items||n).map(TG),total:n.total||n.length||0,totalGeral:n.total_geral||n.total||0}},async pessoasPorRegiao(e={}){const t=new URLSearchParams;e.page&&t.append("page",String(e.page)),e.perPage&&t.append("per_page",String(e.perPage)),e.search&&t.append("search",e.search),e.dataInicio&&t.append("data_inicio",e.dataInicio),e.dataFim&&t.append("data_fim",e.dataFim),e.regiaoId&&t.append("regiao_id",e.regiaoId),e.municipioId&&t.append("municipio_id",e.municipioId);const s=t.toString(),{data:n}=await xe.get(`/relatorios/pessoas-por-regiao${s?`?${s}`:""}`);return{items:(n.items||n).map(OG),total:n.total||n.length||0,totalGeral:n.total_geral||n.total||0}},async pessoasPorLideranca(e={}){const t=new URLSearchParams;e.page&&t.append("page",String(e.page)),e.perPage&&t.append("per_page",String(e.perPage)),e.search&&t.append("search",e.search),e.dataInicio&&t.append("data_inicio",e.dataInicio),e.dataFim&&t.append("data_fim",e.dataFim),e.liderancaId&&t.append("lideranca_id",e.liderancaId);const s=t.toString(),{data:n}=await xe.get(`/relatorios/pessoas-por-lideranca${s?`?${s}`:""}`);return{items:(n.items||n).map(kG),total:n.total||n.length||0,totalGeral:n.total_geral||n.total||0}},async demandasPorTipo(e={}){const t=new URLSearchParams;e.page&&t.append("page",String(e.page)),e.perPage&&t.append("per_page",String(e.perPage)),e.search&&t.append("search",e.search),e.dataInicio&&t.append("data_inicio",e.dataInicio),e.dataFim&&t.append("data_fim",e.dataFim);const s=t.toString(),{data:n}=await xe.get(`/relatorios/demandas-por-tipo${s?`?${s}`:""}`);return{items:(n.items||n).map(AG),total:n.total||n.length||0,totalGeral:n.total_geral||n.total||0}},async pessoasPorUsuario(e={}){const t=new URLSearchParams;e.page&&t.append("page",String(e.page)),e.perPage&&t.append("per_page",String(e.perPage)),e.search&&t.append("search",e.search),e.dataInicio&&t.append("data_inicio",e.dataInicio),e.dataFim&&t.append("data_fim",e.dataFim),e.usuarioId&&t.append("usuario_id",e.usuarioId);const s=t.toString(),{data:n}=await xe.get(`/relatorios/pessoas-por-usuario${s?`?${s}`:""}`);return{items:(n.items||n).map(MG),total:n.total||n.length||0,totalGeral:n.total_geral||n.total||0}},async pessoasPorSubgabinete(e={}){const t=new URLSearchParams;e.page&&t.append("page",String(e.page)),e.perPage&&t.append("per_page",String(e.perPage)),e.search&&t.append("search",e.search),e.dataInicio&&t.append("data_inicio",e.dataInicio),e.dataFim&&t.append("data_fim",e.dataFim),e.subgabineteId&&t.append("subgabinete_id",e.subgabineteId);const s=t.toString(),{data:n}=await xe.get(`/relatorios/pessoas-por-subgabinete${s?`?${s}`:""}`);return{items:(n.items||n).map(RG),total:n.total||n.length||0,totalGeral:n.total_geral||n.total||0}}},DG=[10,25,50,100],zG=20;function UN(e){return e.tipo==="pessoa"}function $G(e){return e.tipo==="tag"||!e.pessoaId}const PG=()=>{const{gabinete:e}=qt(),[t,s]=g.useState(1),[n,o]=g.useState(zG),[c,u]=g.useState("quantidade"),[f,m]=g.useState("desc"),[h,x]=g.useState(!1),[v,y]=g.useState(""),{data:j}=ze({queryKey:["tags-list"],queryFn:()=>ka.listar({perPage:100})}),w=j?.items||[],{data:S,isLoading:N}=ze({queryKey:["relatorio-pessoas-por-tags",e?.id,t,n,v],queryFn:()=>Pa.pessoasPorTag({page:t,perPage:n,tagId:v||void 0}),enabled:!!e?.id}),T=S?.items||[],E=S?.total||0,O=S?.totalGeral||0,k=Math.ceil(E/n),R=v&&T.length>0&&UN(T[0]),P=g.useMemo(()=>R?[]:T.filter($G),[T,R]),z=g.useMemo(()=>R?T.filter(UN):[],[T,R]),F=g.useMemo(()=>{const K={};return P.forEach(V=>{K[V.id]=V.quantidade}),K},[P]),te=g.useMemo(()=>v&&w.find(V=>String(V.id)===v)?.nome||"",[v,w]),H=g.useMemo(()=>[{value:"",label:`Todas as tags (${O})`},...w.map(K=>{const V=F[K.id]||0;return{value:String(K.id),label:`${K.nome} (${V.toLocaleString("pt-BR")})`}})],[w,F,O]),Y=g.useCallback(K=>{s(K)},[]),Z=g.useCallback(K=>{o(K),s(1)},[]),ee=g.useCallback(K=>{u(V=>V===K?(m(_=>_==="asc"?"desc":"asc"),K):(m("desc"),K))},[]),q=()=>{console.log("Exportar relatorio")},U=()=>{y(""),s(1)},A=!!v,I=[{key:"nome",header:"Tag",sortable:!0,render:K=>r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium text-white",style:{backgroundColor:K.cor},children:[r.jsx(Ns,{className:"w-3.5 h-3.5"}),K.nome]})})},{key:"quantidade",header:"Quantidade",sortable:!0,width:"150px",align:"center",render:K=>r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(es,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-lg font-semibold text-slate-900",children:K.quantidade.toLocaleString("pt-BR")})]})},{key:"percentual",header:"Percentual",sortable:!0,width:"200px",render:K=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-1 h-2 bg-slate-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{width:`${K.percentual}%`,backgroundColor:K.cor}})}),r.jsxs("span",{className:"text-sm font-medium text-slate-600 w-12 text-right",children:[K.percentual.toFixed(1),"%"]})]})}],$=[{key:"nome",header:"Nome",sortable:!0,render:K=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dn,{name:K.nome,size:"md"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:K.nome}),K.cpf&&r.jsxs("p",{className:"text-xs text-slate-500",children:["CPF: ",K.cpf]})]})]})},{key:"telefone",header:"Telefone",width:"180px",render:K=>r.jsx("div",{className:"flex items-center gap-2",children:K.telefone?r.jsxs(r.Fragment,{children:[r.jsx(Ds,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-sm text-slate-700",children:K.telefone})]}):r.jsx("span",{className:"text-sm text-slate-400",children:"-"})})},{key:"email",header:"Email",width:"250px",render:K=>r.jsx("div",{className:"flex items-center gap-2",children:K.email?r.jsxs(r.Fragment,{children:[r.jsx(Rn,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-sm text-slate-700 truncate",children:K.email})]}):r.jsx("span",{className:"text-sm text-slate-400",children:"-"})})}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ns,{className:"w-6 h-6 text-primary-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:R?`Pessoas com tag "${te}"`:"Pessoas por Tags"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:R?`Lista de pessoas com a tag "${te}"`:"Relatorio de cadastros agrupados por tags"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ke,{variant:"outline",leftIcon:r.jsx(fr,{className:"w-4 h-4"}),onClick:()=>x(!h),className:je(h&&"bg-primary-50 border-primary-300"),children:["Filtros",A&&r.jsx("span",{className:"ml-2 w-2 h-2 rounded-full bg-primary-500"})]}),r.jsx(ke,{variant:"outline",leftIcon:r.jsx(ni,{className:"w-4 h-4"}),onClick:q,children:"Exportar"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Pe,{className:"bg-gradient-to-br from-primary-50 to-emerald-50 border-primary-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary-100 flex items-center justify-center",children:R?r.jsx(Rt,{className:"w-6 h-6 text-primary-600"}):r.jsx(Ns,{className:"w-6 h-6 text-primary-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-primary-600",children:R?"Pessoas Encontradas":"Total de Tags"}),r.jsx("p",{className:"text-2xl font-bold text-primary-900",children:E})]})]})}),r.jsx(Pe,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:r.jsx(es,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-600",children:R?"Total com Tag":"Total de Pessoas"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:O.toLocaleString("pt-BR")})]})]})}),r.jsx(Pe,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center",children:r.jsx(si,{className:"w-6 h-6 text-amber-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-amber-600",children:R?"Pagina Atual":"Media por Tag"}),r.jsx("p",{className:"text-2xl font-bold text-amber-900",children:R?`${t}/${k||1}`:E>0?Math.round(O/E):0})]})]})})]}),h&&r.jsxs(Pe,{className:"border-primary-100 bg-primary-50/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium text-slate-900",children:"Filtros"}),A&&r.jsxs("button",{onClick:U,className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[r.jsx(Ht,{className:"w-4 h-4"}),"Limpar filtros"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.jsx(Rs,{label:"Tag",value:v,onChange:K=>{y(K),s(1)},options:H,placeholder:"Selecione uma tag..."})})]}),r.jsx(Pe,{children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("p",{className:"text-sm text-slate-500",children:R?`${E} pessoa(s) encontrada(s) com a tag "${te}"`:`${E} tag(s) encontrada(s)${A?" com os filtros aplicados":""}`})})}),R?r.jsx(Kt,{columns:$,data:z,keyExtractor:K=>K.pessoaId,isLoading:N,emptyMessage:"Nenhuma pessoa encontrada",emptyDescription:"Nao ha pessoas com esta tag",emptyIcon:r.jsx(Rt,{className:"w-12 h-12 text-slate-300"}),sortBy:c,sortDir:f,onSort:ee}):r.jsx(Kt,{columns:I,data:P,keyExtractor:K=>K.id,isLoading:N,emptyMessage:"Nenhum dado encontrado",emptyDescription:"Nao ha pessoas cadastradas com tags",emptyIcon:r.jsx(Ns,{className:"w-12 h-12 text-slate-300"}),sortBy:c,sortDir:f,onSort:ee}),E>0&&r.jsx(Bs,{currentPage:t,totalPages:k,totalItems:E,pageSize:n,onPageChange:Y,onPageSizeChange:Z,pageSizeOptions:DG})]})},IG=[10,25,50,100],FG=20;function BN(e){return e.tipo==="pessoa"}function LG(e){return e.tipo==="cidade"||!e.pessoaId}const qG=()=>{const{gabinete:e}=qt(),[t,s]=g.useState(1),[n,o]=g.useState(FG),[c,u]=g.useState("quantidade"),[f,m]=g.useState("desc"),[h,x]=g.useState(!1),[v,y]=g.useState(""),[j,w]=g.useState(""),{data:S=[]}=ze({queryKey:["estados"],queryFn:()=>Ka.listarEstados()}),{data:N=[]}=ze({queryKey:["municipios",v],queryFn:()=>Ka.listarMunicipios(v?parseInt(v):void 0,void 0,100),enabled:!!v}),{data:T}=ze({queryKey:["relatorio-pessoas-por-cidade-agregacao",e?.id,v],queryFn:()=>Pa.pessoasPorCidade({page:1,perPage:1e3,estadoId:v?parseInt(v):void 0}),enabled:!!e?.id}),{data:E,isLoading:O}=ze({queryKey:["relatorio-pessoas-por-cidade",e?.id,t,n,v,j],queryFn:()=>Pa.pessoasPorCidade({page:t,perPage:n,estadoId:v?parseInt(v):void 0,municipioId:j||void 0}),enabled:!!e?.id}),k=E?.items||[],R=E?.total||0,P=E?.totalGeral||0,z=Math.ceil(R/n),F=j&&k.length>0&&BN(k[0]),te=g.useMemo(()=>F?[]:k.filter(LG),[k,F]),H=g.useMemo(()=>F?k.filter(BN):[],[k,F]),Y=g.useMemo(()=>{const W={};return(T?.items||[]).forEach(ue=>{if(ue.estadoSigla){const ve=ue.estadoSigla;W[ve]=(W[ve]||0)+(ue.quantidade||0)}}),W},[T]),Z=g.useMemo(()=>{const W={};return(T?.items||[]).forEach(ue=>{ue.municipioId&&(W[ue.municipioId]=ue.quantidade||0)}),W},[T]),ee=T?.totalGeral||0,q=g.useMemo(()=>j&&N.find(we=>String(we.id)===j)?.nome||"",[j,N]),U=g.useMemo(()=>[{value:"",label:`Todos os estados (${ee.toLocaleString("pt-BR")})`},...S.map(W=>{const we=Y[W.sigla]||0;return{value:String(W.id),label:`${W.sigla} - ${W.nome} (${we.toLocaleString("pt-BR")})`}})],[S,Y,ee]),A=g.useMemo(()=>{const W=S.find(ue=>String(ue.id)===v);return[{value:"",label:`Todas as cidades (${(W?.sigla&&Y[W.sigla]||0).toLocaleString("pt-BR")})`},...N.map(ue=>{const ve=Z[ue.id]||0;return{value:String(ue.id),label:`${ue.nome} (${ve.toLocaleString("pt-BR")})`}})]},[N,Z,v,S,Y]),I=g.useCallback(W=>{s(W)},[]),$=g.useCallback(W=>{o(W),s(1)},[]),K=g.useCallback(W=>{u(we=>we===W?(m(ue=>ue==="asc"?"desc":"asc"),W):(m("desc"),W))},[]),V=()=>{console.log("Exportar relatorio")},_=()=>{y(""),w(""),s(1)},L=W=>{y(W),w(""),s(1)},G=W=>{w(W),s(1)},ne=v||j,D=[{key:"nome",header:"Cidade",sortable:!0,render:W=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center",children:r.jsx(Tu,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:W.nome}),r.jsx(ts,{variant:"default",className:"mt-1",children:W.estadoSigla})]})]})},{key:"quantidade",header:"Quantidade",sortable:!0,width:"150px",align:"center",render:W=>r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(es,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-lg font-semibold text-slate-900",children:W.quantidade.toLocaleString("pt-BR")})]})},{key:"percentual",header:"Percentual",sortable:!0,width:"200px",render:W=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-1 h-2 bg-slate-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300",style:{width:`${W.percentual}%`}})}),r.jsxs("span",{className:"text-sm font-medium text-slate-600 w-12 text-right",children:[W.percentual.toFixed(1),"%"]})]})}],Q=[{key:"nome",header:"Nome",sortable:!0,render:W=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dn,{name:W.nome,size:"md"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:W.nome}),W.cpf&&r.jsxs("p",{className:"text-xs text-slate-500",children:["CPF: ",W.cpf]})]})]})},{key:"telefone",header:"Telefone",width:"180px",render:W=>r.jsx("div",{className:"flex items-center gap-2",children:W.telefone?r.jsxs(r.Fragment,{children:[r.jsx(Ds,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-sm text-slate-700",children:W.telefone})]}):r.jsx("span",{className:"text-sm text-slate-400",children:"-"})})},{key:"email",header:"Email",width:"250px",render:W=>r.jsx("div",{className:"flex items-center gap-2",children:W.email?r.jsxs(r.Fragment,{children:[r.jsx(Rn,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-sm text-slate-700 truncate",children:W.email})]}):r.jsx("span",{className:"text-sm text-slate-400",children:"-"})})}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tu,{className:"w-6 h-6 text-primary-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:F?`Pessoas em "${q}"`:"Pessoas por Cidade"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:F?`Lista de pessoas da cidade "${q}"`:"Relatorio de cadastros agrupados por cidade"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ke,{variant:"outline",leftIcon:r.jsx(fr,{className:"w-4 h-4"}),onClick:()=>x(!h),className:je(h&&"bg-primary-50 border-primary-300"),children:["Filtros",ne&&r.jsx("span",{className:"ml-2 w-2 h-2 rounded-full bg-primary-500"})]}),r.jsx(ke,{variant:"outline",leftIcon:r.jsx(ni,{className:"w-4 h-4"}),onClick:V,children:"Exportar"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Pe,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:F?r.jsx(Rt,{className:"w-6 h-6 text-blue-600"}):r.jsx(Tu,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-600",children:F?"Pessoas Encontradas":"Total de Cidades"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:R})]})]})}),r.jsx(Pe,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-emerald-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center",children:r.jsx(es,{className:"w-6 h-6 text-emerald-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-emerald-600",children:F?"Total na Cidade":"Total de Pessoas"}),r.jsx("p",{className:"text-2xl font-bold text-emerald-900",children:P.toLocaleString("pt-BR")})]})]})}),r.jsx(Pe,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center",children:r.jsx(si,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-purple-600",children:F?"Pagina Atual":"Media por Cidade"}),r.jsx("p",{className:"text-2xl font-bold text-purple-900",children:F?`${t}/${z||1}`:R>0?Math.round(P/R):0})]})]})})]}),h&&r.jsxs(Pe,{className:"border-primary-100 bg-primary-50/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium text-slate-900",children:"Filtros"}),ne&&r.jsxs("button",{onClick:_,className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[r.jsx(Ht,{className:"w-4 h-4"}),"Limpar filtros"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Rs,{label:"Estado",value:v,onChange:L,options:U,placeholder:"Selecione um estado..."}),r.jsx(Rs,{label:"Cidade",value:j,onChange:G,options:A,placeholder:"Selecione uma cidade...",disabled:!v})]})]}),r.jsx(Pe,{children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("p",{className:"text-sm text-slate-500",children:F?`${R} pessoa(s) na cidade "${q}"`:`${R} cidade(s) encontrada(s)${ne?" com os filtros aplicados":""}`})})}),F?r.jsx(Kt,{columns:Q,data:H,keyExtractor:W=>W.pessoaId,isLoading:O,emptyMessage:"Nenhuma pessoa encontrada",emptyDescription:"Nao ha pessoas nesta cidade",emptyIcon:r.jsx(Rt,{className:"w-12 h-12 text-slate-300"}),sortBy:c,sortDir:f,onSort:K}):r.jsx(Kt,{columns:D,data:te,keyExtractor:W=>W.municipioId,isLoading:O,emptyMessage:"Nenhum dado encontrado",emptyDescription:"Nao ha pessoas cadastradas com endereco",emptyIcon:r.jsx(Tu,{className:"w-12 h-12 text-slate-300"}),sortBy:c,sortDir:f,onSort:K}),R>0&&r.jsx(Bs,{currentPage:t,totalPages:z,totalItems:R,pageSize:n,onPageChange:I,onPageSizeChange:$,pageSizeOptions:IG})]})},UG=[10,25,50,100],BG=20;function VN(e){return e.tipo==="pessoa"}function VG(e){return e.tipo==="regiao"||!e.pessoaId}const HG=()=>{const{gabinete:e}=qt(),[t,s]=g.useState(1),[n,o]=g.useState(BG),[c,u]=g.useState("quantidade"),[f,m]=g.useState("desc"),[h,x]=g.useState(!1),[v,y]=g.useState(""),[j,w]=g.useState(""),{data:S}=ze({queryKey:["regioes-list"],queryFn:()=>Gi.listar()}),N=S||[],{data:T,isLoading:E}=ze({queryKey:["relatorio-pessoas-por-regiao",e?.id,t,n,v,j],queryFn:()=>Pa.pessoasPorRegiao({page:t,perPage:n,regiaoId:v||void 0,municipioId:j||void 0}),enabled:!!e?.id}),O=T?.items||[],k=T?.total||0,R=T?.totalGeral||0,P=Math.ceil(k/n),z=j&&O.length>0&&VN(O[0]),F=g.useMemo(()=>z?[]:O.filter(VG),[O,z]),te=g.useMemo(()=>z?O.filter(VN):[],[O,z]),H=g.useMemo(()=>{const D={};return F.forEach(Q=>{D[Q.regiaoId]=Q.quantidade}),D},[F]),Y=g.useMemo(()=>v?F.find(Q=>Q.regiaoId===v)?.cidades||[]:[],[v,F]),Z=g.useMemo(()=>[{value:"",label:`Todas as regioes (${R.toLocaleString("pt-BR")})`},...N.map(D=>{const Q=H[D.id]||0;return{value:String(D.id),label:`${D.nome} (${Q.toLocaleString("pt-BR")})`}})],[N,H,R]),ee=g.useMemo(()=>v?[{value:"",label:`Todas as cidades (${(H[v]||0).toLocaleString("pt-BR")})`},...Y.map(Q=>({value:String(Q.municipioId),label:`${Q.nome} (${Q.quantidade.toLocaleString("pt-BR")})`}))]:[],[v,Y,H]),q=g.useMemo(()=>j&&Y.find(Q=>Q.municipioId===j)?.nome||"",[j,Y]),U=g.useCallback(D=>{s(D)},[]),A=g.useCallback(D=>{o(D),s(1)},[]),I=g.useCallback(D=>{u(Q=>Q===D?(m(W=>W==="asc"?"desc":"asc"),D):(m("desc"),D))},[]),$=()=>{console.log("Exportar relatorio")},K=()=>{y(""),w(""),s(1)},V=D=>{y(D),w(""),s(1)},_=D=>{w(D),s(1)},L=!!v||!!j,G=[{key:"nome",header:"Regiao",sortable:!0,render:D=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 flex items-center justify-center",children:r.jsx(Kn,{className:"w-5 h-5 text-emerald-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:D.nome}),D.cidades&&D.cidades.length>0&&r.jsxs("p",{className:"text-xs text-slate-500",children:[D.cidades.length," cidade(s)"]})]})]})},{key:"quantidade",header:"Quantidade",sortable:!0,width:"150px",align:"center",render:D=>r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(es,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-lg font-semibold text-slate-900",children:D.quantidade.toLocaleString("pt-BR")})]})},{key:"percentual",header:"Percentual",sortable:!0,width:"200px",render:D=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-1 h-2 bg-slate-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-emerald-500 rounded-full transition-all duration-300",style:{width:`${D.percentual}%`}})}),r.jsxs("span",{className:"text-sm font-medium text-slate-600 w-12 text-right",children:[D.percentual.toFixed(1),"%"]})]})}],ne=[{key:"nome",header:"Nome",sortable:!0,render:D=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dn,{name:D.nome,size:"md"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:D.nome}),D.cpf&&r.jsxs("p",{className:"text-xs text-slate-500",children:["CPF: ",D.cpf]})]})]})},{key:"telefone",header:"Telefone",width:"180px",render:D=>r.jsx("div",{className:"flex items-center gap-2",children:D.telefone?r.jsxs(r.Fragment,{children:[r.jsx(Ds,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-sm text-slate-700",children:D.telefone})]}):r.jsx("span",{className:"text-sm text-slate-400",children:"-"})})},{key:"email",header:"Email",width:"250px",render:D=>r.jsx("div",{className:"flex items-center gap-2",children:D.email?r.jsxs(r.Fragment,{children:[r.jsx(Rn,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-sm text-slate-700 truncate",children:D.email})]}):r.jsx("span",{className:"text-sm text-slate-400",children:"-"})})}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"w-6 h-6 text-primary-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:z?`Pessoas em ${q}`:"Pessoas por Regiao"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:z?`Lista de pessoas cadastradas na cidade de ${q}`:"Relatorio de cadastros agrupados por regiao (composta por cidades)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ke,{variant:"outline",leftIcon:r.jsx(fr,{className:"w-4 h-4"}),onClick:()=>x(!h),className:je(h&&"bg-primary-50 border-primary-300"),children:["Filtros",L&&r.jsx("span",{className:"ml-2 w-2 h-2 rounded-full bg-primary-500"})]}),r.jsx(ke,{variant:"outline",leftIcon:r.jsx(ni,{className:"w-4 h-4"}),onClick:$,children:"Exportar"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Pe,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-emerald-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center",children:z?r.jsx(Rt,{className:"w-6 h-6 text-emerald-600"}):r.jsx(Kn,{className:"w-6 h-6 text-emerald-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-emerald-600",children:z?"Pessoas Encontradas":"Total de Regioes"}),r.jsx("p",{className:"text-2xl font-bold text-emerald-900",children:k})]})]})}),r.jsx(Pe,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:r.jsx(es,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-600",children:z?"Total na Cidade":"Total de Pessoas"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:R.toLocaleString("pt-BR")})]})]})}),r.jsx(Pe,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center",children:r.jsx(si,{className:"w-6 h-6 text-amber-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-amber-600",children:z?"Pagina Atual":"Media por Regiao"}),r.jsx("p",{className:"text-2xl font-bold text-amber-900",children:z?`${t}/${P||1}`:k>0?Math.round(R/k):0})]})]})})]}),h&&r.jsxs(Pe,{className:"border-primary-100 bg-primary-50/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium text-slate-900",children:"Filtros"}),L&&r.jsxs("button",{onClick:K,className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[r.jsx(Ht,{className:"w-4 h-4"}),"Limpar filtros"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Rs,{label:"Regiao",value:v,onChange:V,options:Z,placeholder:"Selecione uma regiao..."}),r.jsx(Rs,{label:"Cidade",value:j,onChange:_,options:ee,placeholder:"Selecione uma cidade...",disabled:!v})]}),v&&Y.length>0&&!j&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[r.jsxs("h4",{className:"text-sm font-medium text-slate-700 mb-2 flex items-center gap-2",children:[r.jsx(ds,{className:"w-4 h-4"}),"Cidades da regiao selecionada (clique para ver pessoas)"]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[Y.slice(0,10).map(D=>r.jsxs("button",{onClick:()=>_(D.municipioId),className:je("px-3 py-1.5 text-sm rounded-lg border transition-colors",j===D.municipioId?"bg-primary-100 border-primary-300 text-primary-700":"bg-white border-slate-200 text-slate-700 hover:bg-slate-50"),children:[D.nome," (",D.quantidade.toLocaleString("pt-BR"),")"]},D.municipioId)),Y.length>10&&r.jsxs("span",{className:"px-3 py-1.5 text-sm text-slate-500",children:["+",Y.length-10," mais..."]})]})]})]}),r.jsx(Pe,{children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("p",{className:"text-sm text-slate-500",children:z?`${k} pessoa(s) encontrada(s) em ${q}`:`${k} regiao(oes) encontrada(s)${L?" com os filtros aplicados":""}`})})}),z?r.jsx(Kt,{columns:ne,data:te,keyExtractor:D=>D.pessoaId,isLoading:E,emptyMessage:"Nenhuma pessoa encontrada",emptyDescription:"Nao ha pessoas cadastradas nesta cidade",emptyIcon:r.jsx(Rt,{className:"w-12 h-12 text-slate-300"}),sortBy:c,sortDir:f,onSort:I}):r.jsx(Kt,{columns:G,data:F,keyExtractor:D=>D.regiaoId,isLoading:E,emptyMessage:"Nenhum dado encontrado",emptyDescription:"Nao ha pessoas cadastradas em regioes",emptyIcon:r.jsx(Kn,{className:"w-12 h-12 text-slate-300"}),sortBy:c,sortDir:f,onSort:I}),k>0&&r.jsx(Bs,{currentPage:t,totalPages:P,totalItems:k,pageSize:n,onPageChange:U,onPageSizeChange:A,pageSizeOptions:UG})]})},GG=[10,25,50,100],QG=20;function HN(e){return e.tipo==="pessoa"}function ZG(e){return e.tipo==="lideranca"||!e.pessoaId}const KG=()=>{const{gabinete:e}=qt(),[t,s]=g.useState(1),[n,o]=g.useState(QG),[c,u]=g.useState("quantidade"),[f,m]=g.useState("desc"),[h,x]=g.useState(!1),[v,y]=g.useState(""),{data:j}=ze({queryKey:["liderancas-list"],queryFn:()=>nn.buscarLiderancas()}),w=j||[],{data:S}=ze({queryKey:["relatorio-pessoas-por-lideranca-agregacao",e?.id],queryFn:()=>Pa.pessoasPorLideranca({page:1,perPage:1e3}),enabled:!!e?.id}),{data:N,isLoading:T}=ze({queryKey:["relatorio-pessoas-por-lideranca",e?.id,t,n,v],queryFn:()=>Pa.pessoasPorLideranca({page:t,perPage:n,liderancaId:v||void 0}),enabled:!!e?.id}),E=N?.items||[],O=N?.total||0,k=N?.totalGeral||0,R=Math.ceil(O/n),P=v&&E.length>0&&HN(E[0]),z=g.useMemo(()=>P?[]:E.filter(ZG),[E,P]),F=g.useMemo(()=>P?E.filter(HN):[],[E,P]),te=g.useMemo(()=>{const _={};return(S?.items||[]).forEach(G=>{G.liderancaId&&(_[G.liderancaId]=G.quantidade)}),_},[S]),H=S?.totalGeral||0,Y=g.useMemo(()=>v&&w.find(L=>String(L.id)===v)?.nome||"",[v,w]),Z=g.useMemo(()=>[{value:"",label:`Todas as liderancas (${H.toLocaleString("pt-BR")})`},...w.map(_=>{const L=te[_.id]||0;return{value:String(_.id),label:`${_.nome} (${L.toLocaleString("pt-BR")})`}})],[w,te,H]),ee=g.useCallback(_=>{s(_)},[]),q=g.useCallback(_=>{o(_),s(1)},[]),U=g.useCallback(_=>{u(L=>L===_?(m(G=>G==="asc"?"desc":"asc"),_):(m("desc"),_))},[]),A=()=>{console.log("Exportar relatorio")},I=()=>{y(""),s(1)},$=!!v,K=[{key:"nome",header:"Lideranca",sortable:!0,render:_=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dn,{name:_.nome,size:"md"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:_.nome}),r.jsxs(ts,{variant:"info",className:"mt-1",children:[_.totalLiderados," liderado(s)"]})]})]})},{key:"quantidade",header:"Quantidade",sortable:!0,width:"150px",align:"center",render:_=>r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(es,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-lg font-semibold text-slate-900",children:_.quantidade.toLocaleString("pt-BR")})]})},{key:"percentual",header:"Percentual",sortable:!0,width:"200px",render:_=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-1 h-2 bg-slate-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-violet-500 rounded-full transition-all duration-300",style:{width:`${_.percentual}%`}})}),r.jsxs("span",{className:"text-sm font-medium text-slate-600 w-12 text-right",children:[_.percentual.toFixed(1),"%"]})]})}],V=[{key:"nome",header:"Nome",sortable:!0,render:_=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dn,{name:_.nome,size:"md"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:_.nome}),_.cpf&&r.jsxs("p",{className:"text-xs text-slate-500",children:["CPF: ",_.cpf]})]})]})},{key:"telefone",header:"Telefone",width:"180px",render:_=>r.jsx("div",{className:"flex items-center gap-2",children:_.telefone?r.jsxs(r.Fragment,{children:[r.jsx(Ds,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-sm text-slate-700",children:_.telefone})]}):r.jsx("span",{className:"text-sm text-slate-400",children:"-"})})},{key:"email",header:"Email",width:"250px",render:_=>r.jsx("div",{className:"flex items-center gap-2",children:_.email?r.jsxs(r.Fragment,{children:[r.jsx(Rn,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-sm text-slate-700 truncate",children:_.email})]}):r.jsx("span",{className:"text-sm text-slate-400",children:"-"})})}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bm,{className:"w-6 h-6 text-primary-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:P?`Liderados de "${Y}"`:"Pessoas por Lideranca"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:P?`Lista de pessoas lideradas por "${Y}"`:"Relatorio de cadastros agrupados por lideranca"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ke,{variant:"outline",leftIcon:r.jsx(fr,{className:"w-4 h-4"}),onClick:()=>x(!h),className:je(h&&"bg-primary-50 border-primary-300"),children:["Filtros",$&&r.jsx("span",{className:"ml-2 w-2 h-2 rounded-full bg-primary-500"})]}),r.jsx(ke,{variant:"outline",leftIcon:r.jsx(ni,{className:"w-4 h-4"}),onClick:A,children:"Exportar"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Pe,{className:"bg-gradient-to-br from-violet-50 to-purple-50 border-violet-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-violet-100 flex items-center justify-center",children:P?r.jsx(Rt,{className:"w-6 h-6 text-violet-600"}):r.jsx(bm,{className:"w-6 h-6 text-violet-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-violet-600",children:P?"Pessoas Encontradas":"Total de Liderancas"}),r.jsx("p",{className:"text-2xl font-bold text-violet-900",children:O})]})]})}),r.jsx(Pe,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:r.jsx(es,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-600",children:P?"Total Liderados":"Total de Pessoas"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:k.toLocaleString("pt-BR")})]})]})}),r.jsx(Pe,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center",children:r.jsx(si,{className:"w-6 h-6 text-amber-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-amber-600",children:P?"Pagina Atual":"Media por Lideranca"}),r.jsx("p",{className:"text-2xl font-bold text-amber-900",children:P?`${t}/${R||1}`:O>0?Math.round(k/O):0})]})]})})]}),h&&r.jsxs(Pe,{className:"border-primary-100 bg-primary-50/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium text-slate-900",children:"Filtros"}),$&&r.jsxs("button",{onClick:I,className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[r.jsx(Ht,{className:"w-4 h-4"}),"Limpar filtros"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.jsx(Rs,{label:"Lideranca",value:v,onChange:_=>{y(_),s(1)},options:Z,placeholder:"Selecione uma lideranca..."})})]}),r.jsx(Pe,{children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("p",{className:"text-sm text-slate-500",children:P?`${O} pessoa(s) liderada(s) por "${Y}"`:`${O} lideranca(s) encontrada(s)${$?" com os filtros aplicados":""}`})})}),P?r.jsx(Kt,{columns:V,data:F,keyExtractor:_=>_.pessoaId,isLoading:T,emptyMessage:"Nenhuma pessoa encontrada",emptyDescription:"Nao ha pessoas lideradas por esta lideranca",emptyIcon:r.jsx(Rt,{className:"w-12 h-12 text-slate-300"}),sortBy:c,sortDir:f,onSort:U}):r.jsx(Kt,{columns:K,data:z,keyExtractor:_=>_.liderancaId,isLoading:T,emptyMessage:"Nenhum dado encontrado",emptyDescription:"Nao ha pessoas vinculadas a liderancas",emptyIcon:r.jsx(bm,{className:"w-12 h-12 text-slate-300"}),sortBy:c,sortDir:f,onSort:U}),O>0&&r.jsx(Bs,{currentPage:t,totalPages:R,totalItems:O,pageSize:n,onPageChange:ee,onPageSizeChange:q,pageSizeOptions:GG})]})},YG=[10,25,50,100],WG=20,XG=()=>{const{gabinete:e}=qt(),[t,s]=g.useState(1),[n,o]=g.useState(WG),[c,u]=g.useState("quantidade"),[f,m]=g.useState("desc"),[h,x]=g.useState(!1),[v,y]=g.useState(""),{data:j}=ze({queryKey:["categorias-list"],queryFn:()=>ka.listarCategorias()}),w=j||[],{data:S,isLoading:N}=ze({queryKey:["relatorio-demandas-por-tipo",e?.id,t,n,v],queryFn:()=>Pa.demandasPorTipo({page:t,perPage:n,categoriaId:v||void 0}),enabled:!!e?.id}),T=S?.items||[],E=S?.total||0,O=S?.totalGeral||0,k=Math.ceil(E/n),R=g.useMemo(()=>{const q={};return T.forEach(U=>{q[U.tipoId]=U.quantidade}),q},[T]),P=g.useMemo(()=>[{value:"",label:`Todas as categorias (${O})`},...w.map(q=>{const U=R[q.id]||0;return{value:String(q.id),label:`${q.nome} (${U.toLocaleString("pt-BR")})`}})],[w,R,O]),z=g.useCallback(q=>{s(q)},[]),F=g.useCallback(q=>{o(q),s(1)},[]),te=g.useCallback(q=>{u(U=>U===q?(m(A=>A==="asc"?"desc":"asc"),q):(m("desc"),q))},[]),H=()=>{console.log("Exportar relatorio")},Y=()=>{y(""),s(1)},Z=!!v,ee=[{key:"nome",header:"Tipo de Demanda",sortable:!0,render:q=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center",children:r.jsx(_u,{className:"w-5 h-5 text-amber-600"})}),r.jsx("p",{className:"font-medium text-slate-900",children:q.nome})]})},{key:"quantidade",header:"Quantidade",sortable:!0,width:"150px",align:"center",render:q=>r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(kn,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-lg font-semibold text-slate-900",children:q.quantidade.toLocaleString("pt-BR")})]})},{key:"percentual",header:"Percentual",sortable:!0,width:"200px",render:q=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-1 h-2 bg-slate-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-amber-500 rounded-full transition-all duration-300",style:{width:`${q.percentual}%`}})}),r.jsxs("span",{className:"text-sm font-medium text-slate-600 w-12 text-right",children:[q.percentual.toFixed(1),"%"]})]})}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_u,{className:"w-6 h-6 text-primary-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Demandas por Tipo"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Relatorio de demandas agrupadas por tipo"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ke,{variant:"outline",leftIcon:r.jsx(fr,{className:"w-4 h-4"}),onClick:()=>x(!h),className:je(h&&"bg-primary-50 border-primary-300"),children:["Filtros",Z&&r.jsx("span",{className:"ml-2 w-2 h-2 rounded-full bg-primary-500"})]}),r.jsx(ke,{variant:"outline",leftIcon:r.jsx(ni,{className:"w-4 h-4"}),onClick:H,children:"Exportar"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Pe,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center",children:r.jsx(_u,{className:"w-6 h-6 text-amber-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-amber-600",children:"Total de Tipos"}),r.jsx("p",{className:"text-2xl font-bold text-amber-900",children:E})]})]})}),r.jsx(Pe,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:r.jsx(kn,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-600",children:"Total de Demandas"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:O.toLocaleString("pt-BR")})]})]})}),r.jsx(Pe,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-emerald-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center",children:r.jsx(si,{className:"w-6 h-6 text-emerald-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-emerald-600",children:"Media por Tipo"}),r.jsx("p",{className:"text-2xl font-bold text-emerald-900",children:E>0?Math.round(O/E):0})]})]})})]}),h&&r.jsxs(Pe,{className:"border-primary-100 bg-primary-50/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium text-slate-900",children:"Filtros"}),Z&&r.jsxs("button",{onClick:Y,className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[r.jsx(Ht,{className:"w-4 h-4"}),"Limpar filtros"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.jsx(Rs,{label:"Categoria",value:v,onChange:q=>{y(q),s(1)},options:P,placeholder:"Selecione uma categoria..."})})]}),r.jsx(Pe,{children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("p",{className:"text-sm text-slate-500",children:[E," tipo(s) encontrado(s)",Z&&" com os filtros aplicados"]})})}),r.jsx(Kt,{columns:ee,data:T,keyExtractor:q=>q.tipoId,isLoading:N,emptyMessage:"Nenhum dado encontrado",emptyDescription:"Nao ha demandas cadastradas",emptyIcon:r.jsx(_u,{className:"w-12 h-12 text-slate-300"}),sortBy:c,sortDir:f,onSort:te}),E>0&&r.jsx(Bs,{currentPage:t,totalPages:k,totalItems:E,pageSize:n,onPageChange:z,onPageSizeChange:F,pageSizeOptions:YG})]})},JG=[10,25,50,100],eQ=20;function GN(e){return e.tipo==="pessoa"}function tQ(e){return e.tipo==="usuario"||!e.pessoaId}const sQ=()=>{const{gabinete:e}=qt(),[t,s]=g.useState(1),[n,o]=g.useState(eQ),[c,u]=g.useState("quantidade"),[f,m]=g.useState("desc"),[h,x]=g.useState(!1),[v,y]=g.useState(""),{data:j}=ze({queryKey:["usuarios-list"],queryFn:()=>zo.listar()}),w=j||[],{data:S}=ze({queryKey:["relatorio-pessoas-por-usuario-agregacao",e?.id],queryFn:()=>Pa.pessoasPorUsuario({page:1,perPage:1e3}),enabled:!!e?.id}),{data:N,isLoading:T}=ze({queryKey:["relatorio-pessoas-por-usuario",e?.id,t,n,v],queryFn:()=>Pa.pessoasPorUsuario({page:t,perPage:n,usuarioId:v||void 0}),enabled:!!e?.id}),E=N?.items||[],O=N?.total||0,k=N?.totalGeral||0,R=Math.ceil(O/n),P=v&&E.length>0&&GN(E[0]),z=g.useMemo(()=>P?[]:E.filter(tQ),[E,P]),F=g.useMemo(()=>P?E.filter(GN):[],[E,P]),te=g.useMemo(()=>{const _={};return(S?.items||[]).forEach(G=>{G.usuarioId&&(_[G.usuarioId]=G.quantidade)}),_},[S]),H=S?.totalGeral||0,Y=g.useMemo(()=>v&&w.find(L=>String(L.id)===v)?.nome||"",[v,w]),Z=g.useMemo(()=>[{value:"",label:`Todos os usuarios (${H.toLocaleString("pt-BR")})`},...w.map(_=>{const L=te[_.id]||0;return{value:String(_.id),label:`${_.nome} (${L.toLocaleString("pt-BR")})`}})],[w,te,H]),ee=g.useCallback(_=>{s(_)},[]),q=g.useCallback(_=>{o(_),s(1)},[]),U=g.useCallback(_=>{u(L=>L===_?(m(G=>G==="asc"?"desc":"asc"),_):(m("desc"),_))},[]),A=()=>{console.log("Exportar relatorio")},I=()=>{y(""),s(1)},$=!!v,K=[{key:"nome",header:"Usuario",sortable:!0,render:_=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dn,{name:_.nome,size:"md"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:_.nome}),_.email&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 mt-0.5",children:[r.jsx(Rn,{className:"w-3 h-3"}),_.email]})]})]})},{key:"quantidade",header:"Cadastros",sortable:!0,width:"150px",align:"center",render:_=>r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(es,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-lg font-semibold text-slate-900",children:_.quantidade.toLocaleString("pt-BR")})]})},{key:"percentual",header:"Percentual",sortable:!0,width:"200px",render:_=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-1 h-2 bg-slate-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-cyan-500 rounded-full transition-all duration-300",style:{width:`${_.percentual}%`}})}),r.jsxs("span",{className:"text-sm font-medium text-slate-600 w-12 text-right",children:[_.percentual.toFixed(1),"%"]})]})}],V=[{key:"nome",header:"Nome",sortable:!0,render:_=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dn,{name:_.nome,size:"md"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:_.nome}),_.cpf&&r.jsxs("p",{className:"text-xs text-slate-500",children:["CPF: ",_.cpf]})]})]})},{key:"telefone",header:"Telefone",width:"180px",render:_=>r.jsx("div",{className:"flex items-center gap-2",children:_.telefone?r.jsxs(r.Fragment,{children:[r.jsx(Ds,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-sm text-slate-700",children:_.telefone})]}):r.jsx("span",{className:"text-sm text-slate-400",children:"-"})})},{key:"email",header:"Email",width:"250px",render:_=>r.jsx("div",{className:"flex items-center gap-2",children:_.email?r.jsxs(r.Fragment,{children:[r.jsx(Rn,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-sm text-slate-700 truncate",children:_.email})]}):r.jsx("span",{className:"text-sm text-slate-400",children:"-"})})}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rt,{className:"w-6 h-6 text-primary-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:P?`Cadastros de "${Y}"`:"Pessoas por Usuario"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:P?`Lista de pessoas cadastradas por "${Y}"`:"Relatorio de cadastros agrupados por usuario que cadastrou"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ke,{variant:"outline",leftIcon:r.jsx(fr,{className:"w-4 h-4"}),onClick:()=>x(!h),className:je(h&&"bg-primary-50 border-primary-300"),children:["Filtros",$&&r.jsx("span",{className:"ml-2 w-2 h-2 rounded-full bg-primary-500"})]}),r.jsx(ke,{variant:"outline",leftIcon:r.jsx(ni,{className:"w-4 h-4"}),onClick:A,children:"Exportar"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Pe,{className:"bg-gradient-to-br from-cyan-50 to-sky-50 border-cyan-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-cyan-100 flex items-center justify-center",children:r.jsx(Rt,{className:"w-6 h-6 text-cyan-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-cyan-600",children:P?"Pessoas Encontradas":"Total de Usuarios"}),r.jsx("p",{className:"text-2xl font-bold text-cyan-900",children:O})]})]})}),r.jsx(Pe,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:r.jsx(es,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-600",children:P?"Total do Usuario":"Total de Cadastros"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:k.toLocaleString("pt-BR")})]})]})}),r.jsx(Pe,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-emerald-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center",children:r.jsx(si,{className:"w-6 h-6 text-emerald-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-emerald-600",children:P?"Pagina Atual":"Media por Usuario"}),r.jsx("p",{className:"text-2xl font-bold text-emerald-900",children:P?`${t}/${R||1}`:O>0?Math.round(k/O):0})]})]})})]}),h&&r.jsxs(Pe,{className:"border-primary-100 bg-primary-50/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium text-slate-900",children:"Filtros"}),$&&r.jsxs("button",{onClick:I,className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[r.jsx(Ht,{className:"w-4 h-4"}),"Limpar filtros"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.jsx(Rs,{label:"Usuario",value:v,onChange:_=>{y(_),s(1)},options:Z,placeholder:"Selecione um usuario..."})})]}),r.jsx(Pe,{children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("p",{className:"text-sm text-slate-500",children:P?`${O} pessoa(s) cadastrada(s) por "${Y}"`:`${O} usuario(s) encontrado(s)${$?" com os filtros aplicados":""}`})})}),P?r.jsx(Kt,{columns:V,data:F,keyExtractor:_=>_.pessoaId,isLoading:T,emptyMessage:"Nenhuma pessoa encontrada",emptyDescription:"Nao ha pessoas cadastradas por este usuario",emptyIcon:r.jsx(Rt,{className:"w-12 h-12 text-slate-300"}),sortBy:c,sortDir:f,onSort:U}):r.jsx(Kt,{columns:K,data:z,keyExtractor:_=>_.usuarioId,isLoading:T,emptyMessage:"Nenhum dado encontrado",emptyDescription:"Nao ha cadastros registrados por usuarios",emptyIcon:r.jsx(Rt,{className:"w-12 h-12 text-slate-300"}),sortBy:c,sortDir:f,onSort:U}),O>0&&r.jsx(Bs,{currentPage:t,totalPages:R,totalItems:O,pageSize:n,onPageChange:ee,onPageSizeChange:q,pageSizeOptions:JG})]})},nQ=[10,25,50,100],aQ=20;function QN(e){return e.tipo==="pessoa"}function rQ(e){return e.tipo==="subgabinete"||!e.pessoaId}const iQ=()=>{const{gabinete:e}=qt(),[t,s]=g.useState(1),[n,o]=g.useState(aQ),[c,u]=g.useState("quantidade"),[f,m]=g.useState("desc"),[h,x]=g.useState(!1),[v,y]=g.useState(""),{data:j}=ze({queryKey:["subgabinetes-list"],queryFn:()=>Mt.listarSubgabinetes()}),w=j||[],{data:S}=ze({queryKey:["relatorio-pessoas-por-subgabinete-agregacao",e?.id],queryFn:()=>Pa.pessoasPorSubgabinete({page:1,perPage:1e3}),enabled:!!e?.id}),{data:N,isLoading:T}=ze({queryKey:["relatorio-pessoas-por-subgabinete",e?.id,t,n,v],queryFn:()=>Pa.pessoasPorSubgabinete({page:t,perPage:n,subgabineteId:v||void 0}),enabled:!!e?.id}),E=N?.items||[],O=N?.total||0,k=N?.totalGeral||0,R=Math.ceil(O/n),P=v&&E.length>0&&QN(E[0]),z=g.useMemo(()=>P?[]:E.filter(rQ),[E,P]),F=g.useMemo(()=>P?E.filter(QN):[],[E,P]),te=g.useMemo(()=>{const _={};return(S?.items||[]).forEach(G=>{G.subgabineteId&&(_[G.subgabineteId]=G.quantidade)}),_},[S]),H=S?.totalGeral||0,Y=g.useMemo(()=>v&&w.find(L=>String(L.id)===v)?.nome||"",[v,w]),Z=g.useMemo(()=>[{value:"",label:`Todos os subgabinetes (${H.toLocaleString("pt-BR")})`},...w.map(_=>{const L=te[_.id]||0;return{value:String(_.id),label:`${_.nome} (${L.toLocaleString("pt-BR")})`}})],[w,te,H]),ee=g.useCallback(_=>{s(_)},[]),q=g.useCallback(_=>{o(_),s(1)},[]),U=g.useCallback(_=>{u(L=>L===_?(m(G=>G==="asc"?"desc":"asc"),_):(m("desc"),_))},[]),A=()=>{console.log("Exportar relatorio")},I=()=>{y(""),s(1)},$=!!v,K=[{key:"nome",header:"Subgabinete",sortable:!0,render:_=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-100 flex items-center justify-center",children:r.jsx(Ll,{className:"w-5 h-5 text-indigo-600"})}),r.jsx("p",{className:"font-medium text-slate-900",children:_.nome})]})},{key:"quantidade",header:"Quantidade",sortable:!0,width:"150px",align:"center",render:_=>r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(es,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-lg font-semibold text-slate-900",children:_.quantidade.toLocaleString("pt-BR")})]})},{key:"percentual",header:"Percentual",sortable:!0,width:"200px",render:_=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-1 h-2 bg-slate-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-300",style:{width:`${_.percentual}%`}})}),r.jsxs("span",{className:"text-sm font-medium text-slate-600 w-12 text-right",children:[_.percentual.toFixed(1),"%"]})]})}],V=[{key:"nome",header:"Nome",sortable:!0,render:_=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dn,{name:_.nome,size:"md"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:_.nome}),_.cpf&&r.jsxs("p",{className:"text-xs text-slate-500",children:["CPF: ",_.cpf]})]})]})},{key:"telefone",header:"Telefone",width:"180px",render:_=>r.jsx("div",{className:"flex items-center gap-2",children:_.telefone?r.jsxs(r.Fragment,{children:[r.jsx(Ds,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-sm text-slate-700",children:_.telefone})]}):r.jsx("span",{className:"text-sm text-slate-400",children:"-"})})},{key:"email",header:"Email",width:"250px",render:_=>r.jsx("div",{className:"flex items-center gap-2",children:_.email?r.jsxs(r.Fragment,{children:[r.jsx(Rn,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-sm text-slate-700 truncate",children:_.email})]}):r.jsx("span",{className:"text-sm text-slate-400",children:"-"})})}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ll,{className:"w-6 h-6 text-primary-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:P?`Pessoas em "${Y}"`:"Pessoas por Subgabinete"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:P?`Lista de pessoas do subgabinete "${Y}"`:"Relatorio de cadastros agrupados por subgabinete"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ke,{variant:"outline",leftIcon:r.jsx(fr,{className:"w-4 h-4"}),onClick:()=>x(!h),className:je(h&&"bg-primary-50 border-primary-300"),children:["Filtros",$&&r.jsx("span",{className:"ml-2 w-2 h-2 rounded-full bg-primary-500"})]}),r.jsx(ke,{variant:"outline",leftIcon:r.jsx(ni,{className:"w-4 h-4"}),onClick:A,children:"Exportar"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Pe,{className:"bg-gradient-to-br from-indigo-50 to-violet-50 border-indigo-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-100 flex items-center justify-center",children:P?r.jsx(Rt,{className:"w-6 h-6 text-indigo-600"}):r.jsx(Ll,{className:"w-6 h-6 text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-indigo-600",children:P?"Pessoas Encontradas":"Total de Subgabinetes"}),r.jsx("p",{className:"text-2xl font-bold text-indigo-900",children:O})]})]})}),r.jsx(Pe,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:r.jsx(es,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-600",children:P?"Total no Subgabinete":"Total de Pessoas"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:k.toLocaleString("pt-BR")})]})]})}),r.jsx(Pe,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-emerald-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center",children:r.jsx(si,{className:"w-6 h-6 text-emerald-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-emerald-600",children:P?"Pagina Atual":"Media por Subgabinete"}),r.jsx("p",{className:"text-2xl font-bold text-emerald-900",children:P?`${t}/${R||1}`:O>0?Math.round(k/O):0})]})]})})]}),h&&r.jsxs(Pe,{className:"border-primary-100 bg-primary-50/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium text-slate-900",children:"Filtros"}),$&&r.jsxs("button",{onClick:I,className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[r.jsx(Ht,{className:"w-4 h-4"}),"Limpar filtros"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.jsx(Rs,{label:"Subgabinete",value:v,onChange:_=>{y(_),s(1)},options:Z,placeholder:"Selecione um subgabinete..."})})]}),r.jsx(Pe,{children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("p",{className:"text-sm text-slate-500",children:P?`${O} pessoa(s) no subgabinete "${Y}"`:`${O} subgabinete(s) encontrado(s)${$?" com os filtros aplicados":""}`})})}),P?r.jsx(Kt,{columns:V,data:F,keyExtractor:_=>_.pessoaId,isLoading:T,emptyMessage:"Nenhuma pessoa encontrada",emptyDescription:"Nao ha pessoas neste subgabinete",emptyIcon:r.jsx(Rt,{className:"w-12 h-12 text-slate-300"}),sortBy:c,sortDir:f,onSort:U}):r.jsx(Kt,{columns:K,data:z,keyExtractor:_=>_.subgabineteId,isLoading:T,emptyMessage:"Nenhum dado encontrado",emptyDescription:"Nao ha pessoas vinculadas a subgabinetes",emptyIcon:r.jsx(Ll,{className:"w-12 h-12 text-slate-300"}),sortBy:c,sortDir:f,onSort:U}),O>0&&r.jsx(Bs,{currentPage:t,totalPages:R,totalItems:O,pageSize:n,onPageChange:ee,onPageSizeChange:q,pageSizeOptions:nQ})]})},oQ=({documento:e,onClose:t,onSuccess:s})=>{const n=!!e,[o,c]=g.useState(e?.titulo||""),[u,f]=g.useState(e?.descricao||""),[m,h]=g.useState(e?.data_documento||Ys(new Date,"yyyy-MM-dd")),[x,v]=g.useState(e?.pessoa_id||""),[y,j]=g.useState(e?.compromisso_id||""),[w,S]=g.useState(e?.tipo_documento||""),[N,T]=g.useState(e?.observacoes||""),[E,O]=g.useState(e?.arquivo_nome||""),[k,R]=g.useState(e?.arquivo_url||""),[P,z]=g.useState(!1),[F,te]=g.useState(""),[H,Y]=g.useState(Ys(new Date,"yyyy-MM-dd")),[Z,ee]=g.useState(!1),[q,U]=g.useState(""),[A,I]=g.useState(""),[$,K]=g.useState(""),[V,_]=g.useState("normal"),[L,G]=g.useState(""),[ne,D]=g.useState(!1),[Q,W]=g.useState(""),[we,ue]=g.useState(!1),[ve,$e]=g.useState(null),St=g.useRef(null),[vt,Ut]=g.useState({titulo:!1,descricao:!1,categoriaId:!1,prioridade:!1,dataPrazo:!1});g.useEffect(()=>{const Se=Xe=>{St.current&&!St.current.contains(Xe.target)&&ue(!1)};return document.addEventListener("mousedown",Se),()=>document.removeEventListener("mousedown",Se)},[]);const ps=[{value:"baixa",label:"Baixa"},{value:"normal",label:"Normal"},{value:"alta",label:"Alta"},{value:"urgente",label:"Urgente"},{value:"critica",label:"Critica"}],{data:ft}=ze({queryKey:["pessoas-simples"],queryFn:()=>nn.listarSimples()}),os=ft||[],{data:Ct,refetch:gs}=ze({queryKey:["compromissos-simples",x],queryFn:()=>oh.listarSimples(void 0,x||void 0),enabled:!!x}),Vs=Ct||[],{data:J}=ze({queryKey:["categorias-demanda"],queryFn:()=>sc.listar(!0)}),ie=J||[],pe=g.useMemo(()=>[{value:"",label:"Selecione uma pessoa..."},...os.map(Se=>({value:String(Se.id),label:Se.nome}))],[os]),_e=g.useMemo(()=>[{value:"",label:"Nenhum compromisso"},...Vs.map(Se=>({value:String(Se.id),label:`${Se.titulo} (${Ys(new Date(Se.data_inicio),"dd/MM/yyyy")})`}))],[Vs]),Te=[{value:"",label:"Selecione um tipo..."},{value:"contrato",label:"Contrato"},{value:"oficio",label:"Oficio"},{value:"requerimento",label:"Requerimento"},{value:"declaracao",label:"Declaracao"},{value:"certidao",label:"Certidao"},{value:"comprovante",label:"Comprovante"},{value:"outros",label:"Outros"}],Ce=Ze({mutationFn:Se=>Fi.criar(Se),onSuccess:()=>{bt.success("Documento criado com sucesso"),s()},onError:()=>{bt.error("Erro ao criar documento")}}),De=Ze({mutationFn:({id:Se,data:Xe})=>Fi.atualizar(Se,Xe),onSuccess:()=>{bt.success("Documento atualizado com sucesso"),s()},onError:()=>{bt.error("Erro ao atualizar documento")}}),We=Ze({mutationFn:Se=>oh.criar(Se),onSuccess:Se=>{bt.success("Compromisso criado com sucesso"),j(Se.id),z(!1),te(""),gs()},onError:()=>{bt.error("Erro ao criar compromisso")}}),Ee=Ze({mutationFn:Se=>Xi.criar(Se),onSuccess:()=>{bt.success("Demanda criada com sucesso"),ee(!1),U(""),I(""),K(""),_("normal"),G(""),W(""),$e(null),ue(!1),Ut({titulo:!1,descricao:!1,categoriaId:!1,prioridade:!1,dataPrazo:!1})},onError:()=>{bt.error("Erro ao criar demanda")}}),qe=Se=>{if(Se.preventDefault(),!o.trim()){bt.error("Titulo e obrigatorio");return}if(!x){bt.error("Pessoa e obrigatoria");return}if(!m){bt.error("Data do documento e obrigatoria");return}const Xe={titulo:o.trim(),descricao:u.trim()||void 0,data_documento:m,pessoa_id:x,compromisso_id:y||void 0,tipo_documento:w||void 0,observacoes:N.trim()||void 0,arquivo_nome:E||void 0,arquivo_url:k||void 0};n&&e?De.mutate({id:e.id,data:Xe}):Ce.mutate(Xe)},re=()=>{if(!F.trim()){bt.error("Titulo do compromisso e obrigatorio");return}We.mutate({titulo:F.trim(),data_inicio:H,pessoa_id:x||void 0})},Me=()=>{const Se={titulo:!q.trim(),descricao:!A.trim(),categoriaId:!L,prioridade:!V,dataPrazo:!$};Ut(Se),!Object.values(Se).some(Xe=>Xe)&&Ee.mutate({titulo:q.trim(),descricao:A.trim(),prioridade:V,categoriaId:L,dataPrazo:$,pessoaId:x||void 0})},yt=Ce.isPending||De.isPending;return r.jsxs(ss,{isOpen:!0,onClose:t,title:n?"Editar Documento":"Novo Documento",size:"lg",children:[r.jsxs("form",{onSubmit:qe,className:"space-y-6",children:[r.jsx(Ve,{label:"Titulo *",value:o,onChange:Se=>c(Se.target.value),placeholder:"Digite o titulo do documento...",leftIcon:r.jsx(rn,{className:"w-4 h-4"}),required:!0}),r.jsx(Rs,{label:"Pessoa Vinculada *",value:x,onChange:v,options:pe,placeholder:"Selecione uma pessoa..."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Ve,{label:"Data do Documento *",type:"date",value:m,onChange:Se=>h(Se.target.value),leftIcon:r.jsx(xn,{className:"w-4 h-4"}),required:!0}),r.jsx(Rs,{label:"Tipo de Documento",value:w,onChange:S,options:Te,placeholder:"Selecione um tipo..."})]}),r.jsx(on,{label:"Descricao",value:u,onChange:Se=>f(Se.target.value),placeholder:"Descreva o documento...",rows:3}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Compromisso Vinculado"}),x&&r.jsxs("button",{type:"button",onClick:()=>z(!0),className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[r.jsx(fs,{className:"w-3 h-3"}),"Novo Compromisso"]})]}),r.jsx(Rs,{value:y,onChange:j,options:_e,placeholder:"Selecione um compromisso...",disabled:!x}),!x&&r.jsx("p",{className:"text-xs text-slate-500",children:"Selecione uma pessoa primeiro"})]}),P&&r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-medium text-slate-900",children:"Novo Compromisso"}),r.jsx("button",{type:"button",onClick:()=>z(!1),className:"text-slate-400 hover:text-slate-600",children:r.jsx(Ht,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Ve,{label:"Titulo *",value:F,onChange:Se=>te(Se.target.value),placeholder:"Titulo do compromisso..."}),r.jsx(Ve,{label:"Data *",type:"date",value:H,onChange:Se=>Y(Se.target.value)})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ke,{type:"button",size:"sm",onClick:re,isLoading:We.isPending,children:"Criar Compromisso"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Demanda Vinculada"}),x&&r.jsxs("button",{type:"button",onClick:()=>ee(!0),className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[r.jsx(fs,{className:"w-3 h-3"}),"Nova Demanda"]})]}),!x&&r.jsx("p",{className:"text-xs text-slate-500",children:"Selecione uma pessoa primeiro para criar uma demanda"})]}),Z&&r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium text-slate-900 flex items-center gap-2",children:[r.jsx(kn,{className:"w-4 h-4"}),"Nova Demanda"]}),r.jsx("button",{type:"button",onClick:()=>ee(!1),className:"text-slate-400 hover:text-slate-600",children:r.jsx(Ht,{className:"w-4 h-4"})})]}),r.jsx(Ve,{label:"Titulo da Demanda *",value:q,onChange:Se=>{U(Se.target.value),vt.titulo&&Ut({...vt,titulo:!1})},placeholder:"Descreva brevemente a demanda...",leftIcon:r.jsx(rn,{className:"w-4 h-4"}),error:vt.titulo?"Campo obrigatorio":void 0}),r.jsx(on,{label:"Descricao *",value:A,onChange:Se=>{I(Se.target.value),vt.descricao&&Ut({...vt,descricao:!1})},placeholder:"Descreva detalhadamente a demanda...",rows:4,error:vt.descricao?"Campo obrigatorio":void 0}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium text-sm",children:[r.jsx(Ns,{className:"w-4 h-4"}),r.jsx("span",{children:"Tipo de Demanda *"})]}),r.jsxs("button",{type:"button",onClick:()=>D(!0),className:"text-xs text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[r.jsx(fs,{className:"w-3 h-3"}),"Novo Tipo"]})]}),r.jsxs("div",{className:"relative",ref:St,children:[r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),r.jsx("input",{type:"text",placeholder:"Buscar tipo de demanda...",value:Q,onChange:Se=>{W(Se.target.value),ue(!0),vt.categoriaId&&Ut({...vt,categoriaId:!1}),Se.target.value||($e(null),G(""))},onFocus:()=>ue(!0),className:`w-full pl-10 pr-4 py-2.5 rounded-xl border focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm ${vt.categoriaId?"border-red-500":"border-slate-200"}`})]}),we&&ie.filter(Se=>Se.nome.toLowerCase().includes(Q.toLowerCase())).length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-xl shadow-lg border border-slate-100 max-h-48 overflow-auto",children:ie.filter(Se=>Se.nome.toLowerCase().includes(Q.toLowerCase())).map(Se=>r.jsxs("button",{type:"button",onClick:()=>{$e(Se),W(Se.nome),G(Se.id),ue(!1)},className:"w-full px-4 py-3 text-left hover:bg-primary-50 flex items-center gap-3",children:[r.jsx("span",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:Se.cor}}),r.jsx("span",{className:"font-medium text-slate-900 text-sm",children:Se.nome})]},Se.id))}),we&&Q&&ie.filter(Se=>Se.nome.toLowerCase().includes(Q.toLowerCase())).length===0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-xl shadow-lg border border-slate-100 p-4 text-center text-slate-500 text-sm",children:"Nenhum tipo encontrado"})]}),ve&&r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ve.cor}}),r.jsx("span",{className:"text-sm text-slate-600",children:ve.nome}),r.jsx("button",{type:"button",onClick:()=>{$e(null),W(""),G("")},className:"text-xs text-slate-400 hover:text-red-500 ml-auto",children:"Limpar"})]}),vt.categoriaId&&r.jsx("p",{className:"mt-1 text-xs text-red-500",children:"Campo obrigatorio"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium text-sm mb-2",children:[r.jsx(hh,{className:"w-4 h-4"}),r.jsx("span",{children:"Prioridade *"})]}),r.jsx("select",{value:V,onChange:Se=>{_(Se.target.value),vt.prioridade&&Ut({...vt,prioridade:!1})},className:`w-full px-4 py-2.5 rounded-xl border focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm ${vt.prioridade?"border-red-500":"border-slate-200"}`,children:ps.map(Se=>r.jsx("option",{value:Se.value,children:Se.label},Se.value))}),vt.prioridade&&r.jsx("p",{className:"mt-1 text-xs text-red-500",children:"Campo obrigatorio"})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium text-sm mb-2",children:[r.jsx(xn,{className:"w-4 h-4"}),r.jsx("span",{children:"Prazo *"})]}),r.jsx(Ve,{type:"date",value:$,onChange:Se=>{K(Se.target.value),vt.dataPrazo&&Ut({...vt,dataPrazo:!1})},error:vt.dataPrazo?"Campo obrigatorio":void 0})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ke,{type:"button",size:"sm",onClick:Me,isLoading:Ee.isPending,children:"Criar Demanda"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Arquivo Digital"}),r.jsxs("div",{className:"border-2 border-dashed border-slate-200 rounded-xl p-6 text-center hover:border-primary-300 transition-colors",children:[r.jsx(K2,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Arraste um arquivo ou clique para selecionar"}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"PDF, DOC, DOCX, JPG, PNG (max. 10MB)"}),r.jsx("input",{type:"file",className:"hidden",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:Se=>{const Xe=Se.target.files?.[0];Xe&&(O(Xe.name),bt.success(`Arquivo "${Xe.name}" selecionado`))}})]}),E&&r.jsxs("p",{className:"text-sm text-slate-600",children:["Arquivo: ",r.jsx("span",{className:"font-medium",children:E})]})]}),r.jsx(on,{label:"Observacoes",value:N,onChange:Se=>T(Se.target.value),placeholder:"Observacoes adicionais...",rows:2}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[r.jsx(ke,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),r.jsx(ke,{type:"submit",isLoading:yt,children:n?"Salvar Alteracoes":"Cadastrar Documento"})]})]}),r.jsx(sv,{isOpen:ne,onClose:()=>D(!1)})]})},lQ=({documento:e,onClose:t})=>{const s={contrato:"Contrato",oficio:"Oficio",requerimento:"Requerimento",declaracao:"Declaracao",certidao:"Certidao",comprovante:"Comprovante",outros:"Outros"};return r.jsx(ss,{isOpen:!0,onClose:t,title:"Detalhes do Documento",size:"lg",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-14 h-14 rounded-xl bg-blue-100 flex items-center justify-center flex-shrink-0",children:r.jsx(rn,{className:"w-7 h-7 text-blue-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:e.titulo}),r.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.tipo_documento&&r.jsx(ts,{variant:"info",children:s[e.tipo_documento]||e.tipo_documento}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-500",children:[r.jsx(xn,{className:"w-4 h-4"}),Ys(new Date(e.data_documento),"dd 'de' MMMM 'de' yyyy",{locale:_d})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-1",children:[r.jsx(Rt,{className:"w-4 h-4"}),"Pessoa Vinculada"]}),r.jsx("p",{className:"font-medium text-slate-900",children:e.pessoa_nome||"Nao informado"})]}),r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-1",children:[r.jsx(G2,{className:"w-4 h-4"}),"Compromisso Vinculado"]}),r.jsx("p",{className:"font-medium text-slate-900",children:e.compromisso_titulo||"Nenhum compromisso"})]})]}),e.descricao&&r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[r.jsx("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Descricao"}),r.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:e.descricao})]}),r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[r.jsx("h4",{className:"text-sm font-medium text-slate-500 mb-3",children:"Arquivo Digital"}),e.arquivo_nome?r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:r.jsx(rn,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:e.arquivo_nome}),r.jsx("p",{className:"text-xs text-slate-500",children:"Clique para baixar"})]})]}),e.arquivo_url&&r.jsx(ke,{variant:"outline",size:"sm",leftIcon:r.jsx(ni,{className:"w-4 h-4"}),onClick:()=>{e.arquivo_url&&window.open(e.arquivo_url,"_blank")},children:"Baixar"})]}):r.jsx("div",{className:"flex items-center justify-center p-6 bg-white rounded-lg border border-dashed border-slate-200",children:r.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhum arquivo anexado"})})]}),e.observacoes&&r.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100",children:[r.jsx("h4",{className:"text-sm font-medium text-amber-700 mb-2",children:"Observacoes"}),r.jsx("p",{className:"text-amber-900 whitespace-pre-wrap",children:e.observacoes})]}),r.jsx("div",{className:"pt-4 border-t border-slate-200",children:r.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-slate-400",children:[r.jsxs("span",{children:["Criado em: ",Ys(new Date(e.created_at),"dd/MM/yyyy 'as' HH:mm")]}),e.updated_at&&e.updated_at!==e.created_at&&r.jsxs("span",{children:["Atualizado em: ",Ys(new Date(e.updated_at),"dd/MM/yyyy 'as' HH:mm")]})]})}),r.jsx("div",{className:"flex justify-end pt-2",children:r.jsx(ke,{variant:"outline",onClick:t,children:"Fechar"})})]})})},cQ=[10,25,50,100],uQ=20,dQ=()=>{const{gabinete:e}=qt(),t=Lt(),[s,n]=g.useState(1),[o,c]=g.useState(uQ),[u,f]=g.useState("data_documento"),[m,h]=g.useState("desc"),[x,v]=g.useState(!1),[y,j]=g.useState(!1),[w,S]=g.useState(!1),[N,T]=g.useState(null),[E,O]=g.useState(""),[k,R]=g.useState(""),{data:P}=ze({queryKey:["pessoas-simples"],queryFn:()=>nn.listarSimples()}),z=P||[],{data:F,isLoading:te}=ze({queryKey:["documentos",e?.id,s,o,E,k],queryFn:()=>Fi.listar({page:s,perPage:o,pessoaId:E||void 0,tipoDocumento:k||void 0}),enabled:!!e?.id}),H=F?.items||[],Y=F?.total||0,Z=Math.ceil(Y/o),ee=Ze({mutationFn:Fi.excluir,onSuccess:()=>{t.invalidateQueries({queryKey:["documentos"]}),bt.success("Documento excluido com sucesso")},onError:()=>{bt.error("Erro ao excluir documento")}}),q=g.useMemo(()=>[{value:"",label:"Todas as pessoas"},...z.map(W=>({value:String(W.id),label:W.nome}))],[z]),U=[{value:"",label:"Todos os tipos"},{value:"contrato",label:"Contrato"},{value:"oficio",label:"Oficio"},{value:"requerimento",label:"Requerimento"},{value:"declaracao",label:"Declaracao"},{value:"certidao",label:"Certidao"},{value:"comprovante",label:"Comprovante"},{value:"outros",label:"Outros"}],A=g.useCallback(W=>{n(W)},[]),I=g.useCallback(W=>{c(W),n(1)},[]),$=g.useCallback(W=>{f(we=>we===W?(h(ue=>ue==="asc"?"desc":"asc"),W):(h("desc"),W))},[]),K=()=>{O(""),R(""),n(1)},V=()=>{T(null),j(!0)},_=W=>{T(W),j(!0)},L=W=>{T(W),S(!0)},G=async W=>{window.confirm(`Deseja realmente excluir o documento "${W.titulo}"?`)&&ee.mutate(W.id)},ne=()=>{j(!1),T(null),t.invalidateQueries({queryKey:["documentos"]})},D=E||k,Q=[{key:"titulo",header:"Documento",sortable:!0,render:W=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center",children:r.jsx(rn,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:W.titulo}),W.tipo_documento&&r.jsx(ts,{variant:"default",className:"mt-1",children:W.tipo_documento})]})]})},{key:"pessoa_nome",header:"Pessoa",sortable:!0,render:W=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-slate-700",children:W.pessoa_nome})]})},{key:"data_documento",header:"Data",sortable:!0,width:"150px",render:W=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xn,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-slate-700",children:Ys(new Date(W.data_documento),"dd/MM/yyyy",{locale:_d})})]})},{key:"compromisso_titulo",header:"Compromisso",render:W=>W.compromisso_titulo?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(G2,{className:"w-4 h-4 text-slate-400"}),r.jsx("span",{className:"text-slate-700 text-sm",children:W.compromisso_titulo})]}):r.jsx("span",{className:"text-slate-400",children:"-"})},{key:"arquivo_nome",header:"Arquivo",render:W=>W.arquivo_nome?r.jsxs(ts,{variant:"success",children:[r.jsx(ni,{className:"w-3 h-3 mr-1"}),"Anexado"]}):r.jsx(ts,{variant:"default",children:"Sem arquivo"})},{key:"acoes",header:"Acoes",width:"100px",align:"center",render:W=>r.jsx(eI,{items:[{label:"Visualizar",icon:r.jsx(td,{className:"w-4 h-4"}),onClick:()=>L(W)},{label:"Editar",icon:r.jsx(yM,{className:"w-4 h-4"}),onClick:()=>_(W)},{label:"Excluir",icon:r.jsx(gh,{className:"w-4 h-4"}),onClick:()=>G(W),variant:"danger"}]})}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"w-6 h-6 text-primary-500"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Documentos"})]}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Gestao de documentos vinculados a pessoas"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ke,{variant:"outline",leftIcon:r.jsx(fr,{className:"w-4 h-4"}),onClick:()=>v(!x),className:je(x&&"bg-primary-50 border-primary-300"),children:["Filtros",D&&r.jsx("span",{className:"ml-2 w-2 h-2 rounded-full bg-primary-500"})]}),r.jsx(ke,{leftIcon:r.jsx(fs,{className:"w-4 h-4"}),onClick:V,children:"Novo Documento"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.jsx(Pe,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:r.jsx(rn,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-600",children:"Total de Documentos"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:Y})]})]})})}),x&&r.jsxs(Pe,{className:"border-primary-100 bg-primary-50/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium text-slate-900",children:"Filtros"}),D&&r.jsxs("button",{onClick:K,className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[r.jsx(Ht,{className:"w-4 h-4"}),"Limpar filtros"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Rs,{label:"Pessoa",value:E,onChange:W=>{O(W),n(1)},options:q,placeholder:"Selecione uma pessoa..."}),r.jsx(Rs,{label:"Tipo de Documento",value:k,onChange:W=>{R(W),n(1)},options:U,placeholder:"Selecione um tipo..."})]})]}),r.jsx(Pe,{children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("p",{className:"text-sm text-slate-500",children:[Y," documento(s) encontrado(s)",D&&" com os filtros aplicados"]})})}),r.jsx(Kt,{columns:Q,data:H,keyExtractor:W=>W.id,isLoading:te,emptyMessage:"Nenhum documento encontrado",emptyDescription:"Clique em 'Novo Documento' para cadastrar",emptyIcon:r.jsx(rn,{className:"w-12 h-12 text-slate-300"}),sortBy:u,sortDir:m,onSort:$}),Y>0&&r.jsx(Bs,{currentPage:s,totalPages:Z,totalItems:Y,pageSize:o,onPageChange:A,onPageSizeChange:I,pageSizeOptions:cQ}),y&&r.jsx(oQ,{documento:N,onClose:()=>{j(!1),T(null)},onSuccess:ne}),w&&N&&r.jsx(lQ,{documento:N,onClose:()=>{S(!1),T(null)}})]})},fQ=new ik({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:300*1e3}}}),mQ=({children:e})=>{const{isAuthenticated:t,isLoading:s}=qt();return s?r.jsx(kE,{}):t?r.jsx(r.Fragment,{children:e}):r.jsx(Jx,{to:"/login",replace:!0})},hQ=({children:e})=>{const{isAuthenticated:t,isLoading:s}=qt();return s?r.jsx(kE,{}):t?r.jsx(Jx,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e})},pa=({title:e})=>r.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:e}),r.jsx("p",{className:"text-slate-500",children:"Esta pagina esta em desenvolvimento"})]})});function pQ(){return r.jsxs(ok,{client:fQ,children:[r.jsx(kO,{basename:"/gpvx",children:r.jsxs(jO,{children:[r.jsxs(it,{element:r.jsx(hQ,{children:r.jsx(D8,{})}),children:[r.jsx(it,{path:"/login",element:r.jsx(Sq,{})}),r.jsx(it,{path:"/esqueci-senha",element:r.jsx(Cq,{})})]}),r.jsxs(it,{element:r.jsx(mQ,{children:r.jsx(R8,{})}),children:[r.jsx(it,{path:"/dashboard",element:r.jsx(Iq,{})}),r.jsx(it,{path:"/pessoas",element:r.jsx(PH,{})}),r.jsx(it,{path:"/pessoas/novo",element:r.jsx(pa,{title:"Nova Pessoa"})}),r.jsx(it,{path:"/pessoas/:id",element:r.jsx(pa,{title:"Detalhes da Pessoa"})}),r.jsx(it,{path:"/demandas",element:r.jsx(sG,{})}),r.jsx(it,{path:"/demandas/novo",element:r.jsx(pa,{title:"Nova Demanda"})}),r.jsx(it,{path:"/demandas/:id",element:r.jsx(pa,{title:"Detalhes da Demanda"})}),r.jsx(it,{path:"/aniversariantes",element:r.jsx(QH,{})}),r.jsx(it,{path:"/subgabinetes",element:r.jsx(aU,{})}),r.jsx(it,{path:"/tags",element:r.jsx(VH,{})}),r.jsx(it,{path:"/usuarios",element:r.jsx(cG,{})}),r.jsx(it,{path:"/regioes",element:r.jsx(EG,{})}),r.jsx(it,{path:"/relatorios/pessoas-por-tags",element:r.jsx(PG,{})}),r.jsx(it,{path:"/relatorios/pessoas-por-cidade",element:r.jsx(qG,{})}),r.jsx(it,{path:"/relatorios/pessoas-por-regiao",element:r.jsx(HG,{})}),r.jsx(it,{path:"/relatorios/pessoas-por-lideranca",element:r.jsx(KG,{})}),r.jsx(it,{path:"/relatorios/demandas-por-tipo",element:r.jsx(XG,{})}),r.jsx(it,{path:"/relatorios/pessoas-por-usuario",element:r.jsx(sQ,{})}),r.jsx(it,{path:"/relatorios/pessoas-por-subgabinete",element:r.jsx(iQ,{})}),r.jsx(it,{path:"/documentos",element:r.jsx(dQ,{})}),r.jsx(it,{path:"/whatsapp",element:r.jsx(gG,{})}),r.jsx(it,{path:"/configuracoes",element:r.jsx(pa,{title:"Configuracoes"})}),r.jsx(it,{path:"/perfil",element:r.jsx(pa,{title:"Meu Perfil"})}),r.jsx(it,{path:"/admin/gabinetes",element:r.jsx(Zq,{})}),r.jsx(it,{path:"/admin/gabinetes/novo",element:r.jsx(pa,{title:"Novo Gabinete"})}),r.jsx(it,{path:"/admin/gabinetes/:id",element:r.jsx(pa,{title:"Detalhes do Gabinete"})}),r.jsx(it,{path:"/admin/gabinetes/:id/editar",element:r.jsx(pa,{title:"Editar Gabinete"})}),r.jsx(it,{path:"/admin/usuarios",element:r.jsx(Jq,{})}),r.jsx(it,{path:"/admin/usuarios/novo",element:r.jsx(pa,{title:"Novo Usuario"})}),r.jsx(it,{path:"/admin/usuarios/:id",element:r.jsx(pa,{title:"Detalhes do Usuario"})}),r.jsx(it,{path:"/admin/usuarios/:id/editar",element:r.jsx(pa,{title:"Editar Usuario"})}),r.jsx(it,{path:"/admin/whatsapp",element:r.jsx(xH,{})})]}),r.jsx(it,{path:"/",element:r.jsx(Jx,{to:"/dashboard",replace:!0})}),r.jsx(it,{path:"*",element:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-6xl font-bold text-primary-500 mb-4",children:"404"}),r.jsx("p",{className:"text-xl text-slate-600 mb-4",children:"Pagina nao encontrada"}),r.jsx("a",{href:"/dashboard",className:"text-primary-600 hover:underline",children:"Voltar ao Dashboard"})]})})})]})}),r.jsx(iA,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#0f172a",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},success:{iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})}OT.createRoot(document.getElementById("root")).render(r.jsx(g.StrictMode,{children:r.jsx(pQ,{})}));
